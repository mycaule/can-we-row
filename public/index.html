<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>Can We Row</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://dev.mavo.io/dist/mavo.css">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div id="fb-root"></div>
  <script>
    (function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s); js.id = id;
      js.src = 'https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.10&appId=1968068840134141';
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
  </script>

  <main mv-app mv-storage="local" mv-bar="edit">
    <a href="https://github.com/mycaule/can-we-row"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/652c5b9acfaddf3a9c326fa6bde407b87f7be0f4/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6f72616e67655f6666373630302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png"></a>

    <h1>Conditions extérieures à
      <select id="cities" property="city">
        <option value="amiens">Amiens</option>
        <option value="besancon">Besançon</option>
        <option value="bordeaux">Bordeaux</option>
        <option value="caen">Caen</option>
        <option value="chalons">Châlons-en-Champagne</option>
        <option value="clermont">Clermont-Ferrand</option>
        <option value="dijon">Dijon</option>
        <option value="lille">Lille</option>
        <option value="limoges">Limoges</option>
        <option value="lyon">Lyon</option>
        <option value="marseille">Marseille</option>
        <option value="metz">Metz</option>
        <option value="montpellier">Montpellier</option>
        <option value="nantes">Nantes</option>
        <option value="orleans">Orléans</option>
        <option value="paris">Paris</option>
        <option value="poitiers">Poitiers</option>
        <option value="rennes">Rennes</option>
        <option value="rouen">Rouen</option>
        <option value="strasbourg">Strasbourg</option>
        <option value="toulouse">Toulouse</option>
      </select>
    </h1>

    [onchange(city)]

    <div class="inputs">
      <label>
        Température minimale (°C)
        <input type="number" step="0.5" value="8" property="temperatureMin" />
        <input type="hidden" property="temperature" />
        <input type="hidden" property="icon" />
      </label>
      <label>
        Débit d'eau maximal (m³/s)
        <input type="number" min="300" max="500" step="10" value="470" property="levelMax" />
        <input type="hidden" property="level" />
      </label>
    </div>

    <div class="outputs">
      <div class="report-title">
        <div class="current-date"></div>
        <span class="report-title-annotation"><a class="refresh-data" href="#">Rafraichir</a></span>
      </div>

      <div class="total">Débit d'eau <span class="water-level"></span></div>
      <div class="total-annotation">
        <div class="danger-annotation" style="display: [iff(level > 500, block, none)]">Toute sortie est interdite</div>
        <div class="warn-annotation" style="display: [iff(500 >= level && level > levelMax, block, none)]"><span>Navigation en yolette uniquement</span></div>
        <div class="amazing-annotation" style="display: [iff(level <= levelMax, block, none)]">Ok</div>
        <span class="water-level-time"></span>
      </div>

      <div class="total">Température <span class="temperature"></span></div>
      <div class="total-annotation">
        <div class="danger-annotation" style="display: [iff(temperature < 2, block, none)]">Sortie déconseillée</div>
        <div class="warn-annotation" style="display: [iff(2 <= temperature && temperature < temperatureMin, block, none)]">Température faible</div>
        <div class="amazing-annotation" style="display: [iff(temperatureMin <= temperature, block, none)]">Ok</div>
        <span class="temperature-time"></span>
      </div>

      <div class="danger" style="display: [iff(level > 500, block, none)]">Sortie interdite</div>
      <div class="amazing" style="display: [iff(temperatureMin <= temperature && level < levelMax, block, none)]">Conditions idéales</div>

      <center><img srcset="/icons/_[icon].svg" height="100" width="100" alt="[icon]"></center>
    </div>

    <div class="fb-comments" data-href="https://can-we-row.herokuapp.com/" data-numposts="5"></div>
  </main>

  <script src="https://dev.mavo.io/dist/mavo.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/voca/1.3.1/voca.min.js"></script>
  <script src="app.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.19.4/moment-with-locales.min.js"></script>
</body>
</html>
