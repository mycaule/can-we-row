// modules are defined as an array
// [ module function, map of requires ]
//
// map of requires is short require name -> numeric require
//
// anything defined in a previous bundle is accessed via the
// orig method which is the require for previous bundles

require = (function (modules, cache, entry) {
  // Save the require from previous bundle to this closure if any
  var previousRequire = typeof require === "function" && require;

  function newRequire(name, jumped) {
    if (!cache[name]) {
      if (!modules[name]) {
        // if we cannot find the module within our internal map or
        // cache jump to the current global require ie. the last bundle
        // that was added to the page.
        var currentRequire = typeof require === "function" && require;
        if (!jumped && currentRequire) {
          return currentRequire(name, true);
        }

        // If there are other bundles on this page the require from the
        // previous one is saved to 'previousRequire'. Repeat this as
        // many times as there are bundles until the module is found or
        // we exhaust the require chain.
        if (previousRequire) {
          return previousRequire(name, true);
        }

        var err = new Error('Cannot find module \'' + name + '\'');
        err.code = 'MODULE_NOT_FOUND';
        throw err;
      }

      function localRequire(x) {
        return newRequire(localRequire.resolve(x));
      }

      localRequire.resolve = function (x) {
        return modules[name][1][x] || x;
      };

      var module = cache[name] = new newRequire.Module;
      modules[name][0].call(module.exports, localRequire, module, module.exports);
    }

    return cache[name].exports;
  }

  function Module() {
    this.bundle = newRequire;
    this.exports = {};
  }

  newRequire.Module = Module;
  newRequire.modules = modules;
  newRequire.cache = cache;
  newRequire.parent = previousRequire;

  for (var i = 0; i < entry.length; i++) {
    newRequire(entry[i]);
  }

  // Override the current require with this new one
  return newRequire;
})({3:[function(require,module,exports) {
var global = (1,eval)("this");
var e=(0,eval)("this");!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return Qe.apply(null,arguments)}function t(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function n(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e){return void 0===e}function i(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function r(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function a(e,t){var n,s=[];for(n=0;n<e.length;++n)s.push(t(e[n],n));return s}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){for(var n in t)o(t,n)&&(e[n]=t[n]);return o(t,"toString")&&(e.toString=t.toString),o(t,"valueOf")&&(e.valueOf=t.valueOf),e}function l(e,t,n,s){return ge(e,t,n,s,!0).utc()}function d(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function h(e){if(null==e._isValid){var t=d(e),n=Xe.call(t.parsedDateParts,function(e){return null!=e}),s=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(s=s&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return s;e._isValid=s}return e._isValid}function c(e){var t=l(NaN);return null!=e?u(d(t),e):d(t).userInvalidated=!0,t}function f(e,t){var n,i,r;if(s(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),s(t._i)||(e._i=t._i),s(t._f)||(e._f=t._f),s(t._l)||(e._l=t._l),s(t._strict)||(e._strict=t._strict),s(t._tzm)||(e._tzm=t._tzm),s(t._isUTC)||(e._isUTC=t._isUTC),s(t._offset)||(e._offset=t._offset),s(t._pf)||(e._pf=d(t)),s(t._locale)||(e._locale=t._locale),Ke.length>0)for(n=0;n<Ke.length;n++)s(r=t[i=Ke[n]])||(e[i]=r);return e}function m(t){f(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===et&&(et=!0,e.updateOffset(this),et=!1)}function _(e){return e instanceof m||null!=e&&null!=e._isAMomentObject}function y(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function g(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=y(t)),n}function p(e,t,n){var s,i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0;for(s=0;s<i;s++)(n&&e[s]!==t[s]||!n&&g(e[s])!==g(t[s]))&&a++;return a+r}function w(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn}function v(t,n){var s=!0;return u(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),s){for(var i,r=[],a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){i+="\n["+a+"] ";for(var o in arguments[0])i+=o+": "+arguments[0][o]+", ";i=i.slice(0,-2)}else i=arguments[a];r.push(i)}w((Array.prototype.slice.call(r).join(""),(new Error).stack)),s=!1}return n.apply(this,arguments)},n)}function M(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),tt[t]||(w(),tt[t]=!0)}function S(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function D(e,t){var s,i=u({},e);for(s in t)o(t,s)&&(n(e[s])&&n(t[s])?(i[s]={},u(i[s],e[s]),u(i[s],t[s])):null!=t[s]?i[s]=t[s]:delete i[s]);for(s in e)o(e,s)&&!o(t,s)&&n(e[s])&&(i[s]=u({},i[s]));return i}function k(e){null!=e&&this.set(e)}function Y(e,t){var n=e.toLowerCase();st[n]=st[n+"s"]=st[t]=e}function O(e){return"string"==typeof e?st[e]||st[e.toLowerCase()]:void 0}function T(e){var t,n,s={};for(n in e)o(e,n)&&(t=O(n))&&(s[t]=e[n]);return s}function x(e,t){it[e]=t}function b(e,t,n){var s=""+Math.abs(e),i=t-s.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}function P(e,t,n,s){var i=s;"string"==typeof s&&(i=function(){return this[s]()}),e&&(ut[e]=i),t&&(ut[t[0]]=function(){return b(i.apply(this,arguments),t[1],t[2])}),n&&(ut[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function W(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function H(e,t){return e.isValid()?(t=R(t,e.localeData()),ot[t]=ot[t]||function(e){var t,n,s=e.match(rt);for(t=0,n=s.length;t<n;t++)ut[s[t]]?s[t]=ut[s[t]]:s[t]=W(s[t]);return function(t){var i,r="";for(i=0;i<n;i++)r+=S(s[i])?s[i].call(t,e):s[i];return r}}(t),ot[t](e)):e.localeData().invalidDate()}function R(e,t){function n(e){return t.longDateFormat(e)||e}var s=5;for(at.lastIndex=0;s>=0&&at.test(e);)e=e.replace(at,n),at.lastIndex=0,s-=1;return e}function C(e,t,n){Yt[e]=S(t)?t:function(e,s){return e&&n?n:t}}function F(e,t){return o(Yt,e)?Yt[e](t._strict,t._locale):new RegExp(function(e){return U(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,s,i){return t||n||s||i}))}(e))}function U(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function L(e,t){var n,s=t;for("string"==typeof e&&(e=[e]),i(t)&&(s=function(e,n){n[t]=g(e)}),n=0;n<e.length;n++)Ot[e[n]]=s}function N(e,t){L(e,function(e,n,s,i){s._w=s._w||{},t(e,s._w,s,i)})}function G(e,t,n){null!=t&&o(Ot,e)&&Ot[e](t,n._a,n,e)}function V(e){return E(e)?366:365}function E(e){return e%4==0&&e%100!=0||e%400==0}function I(t,n){return function(s){return null!=s?(j(this,t,s),e.updateOffset(this,n),this):A(this,t)}}function A(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function j(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&E(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Z(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Z(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=function(e,t){return(e%t+t)%t}(t,12);return e+=(t-n)/12,1===n?E(e)?29:28:31-n%7%2}function z(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=g(t);else if(t=e.localeData().monthsParse(t),!i(t))return e;return n=Math.min(e.date(),Z(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function $(t){return null!=t?(z(this,t),e.updateOffset(this,!0),this):A(this,"Month")}function q(){function e(e,t){return t.length-e.length}var t,n,s=[],i=[],r=[];for(t=0;t<12;t++)n=l([2e3,t]),s.push(this.monthsShort(n,"")),i.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(s.sort(e),i.sort(e),r.sort(e),t=0;t<12;t++)s[t]=U(s[t]),i[t]=U(i[t]);for(t=0;t<24;t++)r[t]=U(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function J(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function B(e,t,n){var s=7+t-n;return-((7+J(e,0,s).getUTCDay()-t)%7)+s-1}function Q(e,t,n,s,i){var r,a,o=1+7*(t-1)+(7+n-s)%7+B(e,s,i);return o<=0?a=V(r=e-1)+o:o>V(e)?(r=e+1,a=o-V(e)):(r=e,a=o),{year:r,dayOfYear:a}}function X(e,t,n){var s,i,r=B(e.year(),t,n),a=Math.floor((e.dayOfYear()-r-1)/7)+1;return a<1?s=a+K(i=e.year()-1,t,n):a>K(e.year(),t,n)?(s=a-K(e.year(),t,n),i=e.year()+1):(i=e.year(),s=a),{week:s,year:i}}function K(e,t,n){var s=B(e,t,n),i=B(e+1,t,n);return(V(e)-s+i)/7}function ee(){function e(e,t){return t.length-e.length}var t,n,s,i,r,a=[],o=[],u=[],d=[];for(t=0;t<7;t++)n=l([2e3,1]).day(t),s=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),r=this.weekdays(n,""),a.push(s),o.push(i),u.push(r),d.push(s),d.push(i),d.push(r);for(a.sort(e),o.sort(e),u.sort(e),d.sort(e),t=0;t<7;t++)o[t]=U(o[t]),u[t]=U(u[t]),d[t]=U(d[t]);this._weekdaysRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function te(){return this.hours()%12||12}function ne(e,t){P(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function se(e,t){return t._meridiemParse}function ie(e){return e?e.toLowerCase().replace("_","-"):e}function re(e){var t=null;if(!Xt[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Jt._abbr;require("./locale/"+e),ae(t)}catch(e){}return Xt[e]}function ae(e,t){var n;return e&&(n=s(t)?ue(e):oe(e,t))&&(Jt=n),Jt._abbr}function oe(e,t){if(null!==t){var n=Qt;if(t.abbr=e,null!=Xt[e])M("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Xt[e]._config;else if(null!=t.parentLocale){if(null==Xt[t.parentLocale])return Kt[t.parentLocale]||(Kt[t.parentLocale]=[]),Kt[t.parentLocale].push({name:e,config:t}),null;n=Xt[t.parentLocale]._config}return Xt[e]=new k(D(n,t)),Kt[e]&&Kt[e].forEach(function(e){oe(e.name,e.config)}),ae(e),Xt[e]}return delete Xt[e],null}function ue(e){var n;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Jt;if(!t(e)){if(n=re(e))return n;e=[e]}return function(e){for(var t,n,s,i,r=0;r<e.length;){for(t=(i=ie(e[r]).split("-")).length,n=(n=ie(e[r+1]))?n.split("-"):null;t>0;){if(s=re(i.slice(0,t).join("-")))return s;if(n&&n.length>=t&&p(i,n,!0)>=t-1)break;t--}r++}return null}(e)}function le(e){var t,n=e._a;return n&&-2===d(e).overflow&&(t=n[xt]<0||n[xt]>11?xt:n[bt]<1||n[bt]>Z(n[Tt],n[xt])?bt:n[Pt]<0||n[Pt]>24||24===n[Pt]&&(0!==n[Wt]||0!==n[Ht]||0!==n[Rt])?Pt:n[Wt]<0||n[Wt]>59?Wt:n[Ht]<0||n[Ht]>59?Ht:n[Rt]<0||n[Rt]>999?Rt:-1,d(e)._overflowDayOfYear&&(t<Tt||t>bt)&&(t=bt),d(e)._overflowWeeks&&-1===t&&(t=Ct),d(e)._overflowWeekday&&-1===t&&(t=Ft),d(e).overflow=t),e}function de(e,t,n){return null!=e?e:null!=t?t:n}function he(t){var n,s,i,r,a,o=[];if(!t._d){for(i=function(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}(t),t._w&&null==t._a[bt]&&null==t._a[xt]&&function(e){var t,n,s,i,r,a,o,u;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)r=1,a=4,n=de(t.GG,e._a[Tt],X(pe(),1,4).year),s=de(t.W,1),((i=de(t.E,1))<1||i>7)&&(u=!0);else{r=e._locale._week.dow,a=e._locale._week.doy;var l=X(pe(),r,a);n=de(t.gg,e._a[Tt],l.year),s=de(t.w,l.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+r,(t.e<0||t.e>6)&&(u=!0)):i=r}s<1||s>K(n,r,a)?d(e)._overflowWeeks=!0:null!=u?d(e)._overflowWeekday=!0:(o=Q(n,s,i,r,a),e._a[Tt]=o.year,e._dayOfYear=o.dayOfYear)}(t),null!=t._dayOfYear&&(a=de(t._a[Tt],i[Tt]),(t._dayOfYear>V(a)||0===t._dayOfYear)&&(d(t)._overflowDayOfYear=!0),s=J(a,0,t._dayOfYear),t._a[xt]=s.getUTCMonth(),t._a[bt]=s.getUTCDate()),n=0;n<3&&null==t._a[n];++n)t._a[n]=o[n]=i[n];for(;n<7;n++)t._a[n]=o[n]=null==t._a[n]?2===n?1:0:t._a[n];24===t._a[Pt]&&0===t._a[Wt]&&0===t._a[Ht]&&0===t._a[Rt]&&(t._nextDay=!0,t._a[Pt]=0),t._d=(t._useUTC?J:function(e,t,n,s,i,r,a){var o=new Date(e,t,n,s,i,r,a);return e<100&&e>=0&&isFinite(o.getFullYear())&&o.setFullYear(e),o}).apply(null,o),r=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Pt]=24),t._w&&void 0!==t._w.d&&t._w.d!==r&&(d(t).weekdayMismatch=!0)}}function ce(e){var t,n,s,i,r,a,o=e._i,u=en.exec(o)||tn.exec(o);if(u){for(d(e).iso=!0,t=0,n=sn.length;t<n;t++)if(sn[t][1].exec(u[1])){i=sn[t][0],s=!1!==sn[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=rn.length;t<n;t++)if(rn[t][1].exec(u[3])){r=(u[2]||" ")+rn[t][0];break}if(null==r)return void(e._isValid=!1)}if(!s&&null!=r)return void(e._isValid=!1);if(u[4]){if(!nn.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(r||"")+(a||""),_e(e)}else e._isValid=!1}function fe(e,t,n,s,i,r){var a=[function(e){var t=parseInt(e,10);if(t<=49)return 2e3+t;if(t<=999)return 1900+t;return t}(e),Vt.indexOf(t),parseInt(n,10),parseInt(s,10),parseInt(i,10)];return r&&a.push(parseInt(r,10)),a}function me(e){var t=on.exec(function(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e._i));if(t){var n=fe(t[4],t[3],t[2],t[5],t[6],t[7]);if(!function(e,t,n){if(e&&jt.indexOf(e)!==new Date(t[0],t[1],t[2]).getDay())return d(n).weekdayMismatch=!0,n._isValid=!1,!1;return!0}(t[1],n,e))return;e._a=n,e._tzm=function(e,t,n){if(e)return un[e];if(t)return 0;var s=parseInt(n,10),i=s%100;return(s-i)/100*60+i}(t[8],t[9],t[10]),e._d=J.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),d(e).rfc2822=!0}else e._isValid=!1}function _e(t){if(t._f!==e.ISO_8601)if(t._f!==e.RFC_2822){t._a=[],d(t).empty=!0;var n,s,i,r,a,o=""+t._i,u=o.length,l=0;for(i=R(t._f,t._locale).match(rt)||[],n=0;n<i.length;n++)r=i[n],(s=(o.match(F(r,t))||[])[0])&&((a=o.substr(0,o.indexOf(s))).length>0&&d(t).unusedInput.push(a),o=o.slice(o.indexOf(s)+s.length),l+=s.length),ut[r]?(s?d(t).empty=!1:d(t).unusedTokens.push(r),G(r,s,t)):t._strict&&!s&&d(t).unusedTokens.push(r);d(t).charsLeftOver=u-l,o.length>0&&d(t).unusedInput.push(o),t._a[Pt]<=12&&!0===d(t).bigHour&&t._a[Pt]>0&&(d(t).bigHour=void 0),d(t).parsedDateParts=t._a.slice(0),d(t).meridiem=t._meridiem,t._a[Pt]=function(e,t,n){var s;if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((s=e.isPM(n))&&t<12&&(t+=12),s||12!==t||(t=0),t):t}(t._locale,t._a[Pt],t._meridiem),he(t),le(t)}else me(t);else ce(t)}function ye(o){var l=o._i,y=o._f;return o._locale=o._locale||ue(o._l),null===l||void 0===y&&""===l?c({nullInput:!0}):("string"==typeof l&&(o._i=l=o._locale.preparse(l)),_(l)?new m(le(l)):(r(l)?o._d=l:t(y)?function(e){var t,n,s,i,r;if(0===e._f.length)return d(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)r=0,t=f({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],_e(t),h(t)&&(r+=d(t).charsLeftOver,r+=10*d(t).unusedTokens.length,d(t).score=r,(null==s||r<s)&&(s=r,n=t));u(e,n||t)}(o):y?_e(o):function(o){var u=o._i;s(u)?o._d=new Date(e.now()):r(u)?o._d=new Date(u.valueOf()):"string"==typeof u?function(t){var n=an.exec(t._i);null===n?(ce(t),!1===t._isValid&&(delete t._isValid,me(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t)))):t._d=new Date(+n[1])}(o):t(u)?(o._a=a(u.slice(0),function(e){return parseInt(e,10)}),he(o)):n(u)?function(e){if(!e._d){var t=T(e._i);e._a=a([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),he(e)}}(o):i(u)?o._d=new Date(u):e.createFromInputFallback(o)}(o),h(o)||(o._d=null),o))}function ge(e,s,i,r,a){var o={};return!0!==i&&!1!==i||(r=i,i=void 0),(n(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||t(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=a,o._l=i,o._i=e,o._f=s,o._strict=r,function(e){var t=new m(le(ye(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}(o)}function pe(e,t,n,s){return ge(e,t,n,s,!1)}function we(e,n){var s,i;if(1===n.length&&t(n[0])&&(n=n[0]),!n.length)return pe();for(s=n[0],i=1;i<n.length;++i)n[i].isValid()&&!n[i][e](s)||(s=n[i]);return s}function ve(e){var t=T(e),n=t.year||0,s=t.quarter||0,i=t.month||0,r=t.week||0,a=t.day||0,o=t.hour||0,u=t.minute||0,l=t.second||0,d=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Ut.call(hn,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,s=0;s<hn.length;++s)if(e[hn[s]]){if(n)return!1;parseFloat(e[hn[s]])!==g(e[hn[s]])&&(n=!0)}return!0}(t),this._milliseconds=+d+1e3*l+6e4*u+1e3*o*60*60,this._days=+a+7*r,this._months=+i+3*s+12*n,this._data={},this._locale=ue(),this._bubble()}function Me(e){return e instanceof ve}function Se(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function De(e,t){P(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+b(~~(e/60),2)+t+b(~~e%60,2)})}function ke(e,t){var n=(t||"").match(e);if(null===n)return null;var s=((n[n.length-1]||[])+"").match(cn)||["-",0,0],i=60*s[1]+g(s[2]);return 0===i?0:"+"===s[0]?i:-i}function Ye(t,n){var s,i;return n._isUTC?(s=n.clone(),i=(_(t)||r(t)?t.valueOf():pe(t).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+i),e.updateOffset(s,!1),s):pe(t).local()}function Oe(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Te(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function xe(e,t){var n,s,r,a=e,u=null;return Me(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:i(e)?(a={},t?a[t]=e:a.milliseconds=e):(u=fn.exec(e))?(n="-"===u[1]?-1:1,a={y:0,d:g(u[bt])*n,h:g(u[Pt])*n,m:g(u[Wt])*n,s:g(u[Ht])*n,ms:g(Se(1e3*u[Rt]))*n}):(u=mn.exec(e))?(n="-"===u[1]?-1:(u[1],1),a={y:be(u[2],n),M:be(u[3],n),w:be(u[4],n),d:be(u[5],n),h:be(u[6],n),m:be(u[7],n),s:be(u[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(r=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Ye(t,e),e.isBefore(t)?n=Pe(e,t):((n=Pe(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(pe(a.from),pe(a.to)),(a={}).ms=r.milliseconds,a.M=r.months),s=new ve(a),Me(e)&&o(e,"_locale")&&(s._locale=e._locale),s}function be(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Pe(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function We(e,t){return function(n,s){var i,r;return null===s||isNaN(+s)||(M(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=s,s=r),n="string"==typeof n?+n:n,i=xe(n,s),He(this,i,e),this}}function He(t,n,s,i){var r=n._milliseconds,a=Se(n._days),o=Se(n._months);t.isValid()&&(i=null==i||i,o&&z(t,A(t,"Month")+o*s),a&&j(t,"Date",A(t,"Date")+a*s),r&&t._d.setTime(t._d.valueOf()+r*s),i&&e.updateOffset(t,a||o))}function Re(e,t){var n,s=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(s,"months");return n=t-i<0?(t-i)/(i-e.clone().add(s-1,"months")):(t-i)/(e.clone().add(s+1,"months")-i),-(s+n)||0}function Ce(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ue(e))&&(this._locale=t),this)}function Fe(){return this._locale}function Ue(e,t){P(0,[e,e.length],0,t)}function Le(e,t,n,s,i){var r;return null==e?X(this,s,i).year:(r=K(e,s,i),t>r&&(t=r),function(e,t,n,s,i){var r=Q(e,t,n,s,i),a=J(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,e,t,n,s,i))}function Ne(e,t){t[Rt]=g(1e3*("0."+e))}function Ge(e){return e}function Ve(e,t,n,s){var i=ue(),r=l().set(s,t);return i[n](r,e)}function Ee(e,t,n){if(i(e)&&(t=e,e=void 0),e=e||"",null!=t)return Ve(e,t,n,"month");var s,r=[];for(s=0;s<12;s++)r[s]=Ve(e,s,n,"month");return r}function Ie(e,t,n,s){"boolean"==typeof e?(i(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,i(t)&&(n=t,t=void 0),t=t||"");var r=ue(),a=e?r._week.dow:0;if(null!=n)return Ve(t,(n+a)%7,s,"day");var o,u=[];for(o=0;o<7;o++)u[o]=Ve(t,(o+a)%7,s,"day");return u}function Ae(e,t,n,s){var i=xe(t,n);return e._milliseconds+=s*i._milliseconds,e._days+=s*i._days,e._months+=s*i._months,e._bubble()}function je(e){return e<0?Math.floor(e):Math.ceil(e)}function Ze(e){return 4800*e/146097}function ze(e){return 146097*e/4800}function $e(e){return function(){return this.as(e)}}function qe(e){return function(){return this.isValid()?this._data[e]:NaN}}function Je(e){return(e>0)-(e<0)||+e}function Be(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=An(this._milliseconds)/1e3,s=An(this._days),i=An(this._months);t=y((e=y(n/60))/60),n%=60,e%=60;var r=y(i/12),a=i%=12,o=s,u=t,l=e,d=n?n.toFixed(3).replace(/\.?0+$/,""):"",h=this.asSeconds();if(!h)return"P0D";var c=h<0?"-":"",f=Je(this._months)!==Je(h)?"-":"",m=Je(this._days)!==Je(h)?"-":"",_=Je(this._milliseconds)!==Je(h)?"-":"";return c+"P"+(r?f+r+"Y":"")+(a?f+a+"M":"")+(o?m+o+"D":"")+(u||l||d?"T":"")+(u?_+u+"H":"")+(l?_+l+"M":"")+(d?_+d+"S":"")}var Qe,Xe;Xe=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,s=0;s<n;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1};var Ke=e.momentProperties=[],et=!1,tt={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var nt;nt=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)o(e,t)&&n.push(t);return n};var st={},it={},rt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,at=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ot={},ut={},lt=/\d/,dt=/\d\d/,ht=/\d{3}/,ct=/\d{4}/,ft=/[+-]?\d{6}/,mt=/\d\d?/,_t=/\d\d\d\d?/,yt=/\d\d\d\d\d\d?/,gt=/\d{1,3}/,pt=/\d{1,4}/,wt=/[+-]?\d{1,6}/,vt=/\d+/,Mt=/[+-]?\d+/,St=/Z|[+-]\d\d:?\d\d/gi,Dt=/Z|[+-]\d\d(?::?\d\d)?/gi,kt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Yt={},Ot={},Tt=0,xt=1,bt=2,Pt=3,Wt=4,Ht=5,Rt=6,Ct=7,Ft=8;P("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),P(0,["YY",2],0,function(){return this.year()%100}),P(0,["YYYY",4],0,"year"),P(0,["YYYYY",5],0,"year"),P(0,["YYYYYY",6,!0],0,"year"),Y("year","y"),x("year",1),C("Y",Mt),C("YY",mt,dt),C("YYYY",pt,ct),C("YYYYY",wt,ft),C("YYYYYY",wt,ft),L(["YYYYY","YYYYYY"],Tt),L("YYYY",function(t,n){n[Tt]=2===t.length?e.parseTwoDigitYear(t):g(t)}),L("YY",function(t,n){n[Tt]=e.parseTwoDigitYear(t)}),L("Y",function(e,t){t[Tt]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return g(e)+(g(e)>68?1900:2e3)};var Ut,Lt=I("FullYear",!0);Ut=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},P("M",["MM",2],"Mo",function(){return this.month()+1}),P("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),P("MMMM",0,0,function(e){return this.localeData().months(this,e)}),Y("month","M"),x("month",8),C("M",mt),C("MM",mt,dt),C("MMM",function(e,t){return t.monthsShortRegex(e)}),C("MMMM",function(e,t){return t.monthsRegex(e)}),L(["M","MM"],function(e,t){t[xt]=g(e)-1}),L(["MMM","MMMM"],function(e,t,n,s){var i=n._locale.monthsParse(e,s,n._strict);null!=i?t[xt]=i:d(n).invalidMonth=e});var Nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Gt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Vt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Et=kt,It=kt;P("w",["ww",2],"wo","week"),P("W",["WW",2],"Wo","isoWeek"),Y("week","w"),Y("isoWeek","W"),x("week",5),x("isoWeek",5),C("w",mt),C("ww",mt,dt),C("W",mt),C("WW",mt,dt),N(["w","ww","W","WW"],function(e,t,n,s){t[s.substr(0,1)]=g(e)});P("d",0,"do","day"),P("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),P("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),P("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),P("e",0,0,"weekday"),P("E",0,0,"isoWeekday"),Y("day","d"),Y("weekday","e"),Y("isoWeekday","E"),x("day",11),x("weekday",11),x("isoWeekday",11),C("d",mt),C("e",mt),C("E",mt),C("dd",function(e,t){return t.weekdaysMinRegex(e)}),C("ddd",function(e,t){return t.weekdaysShortRegex(e)}),C("dddd",function(e,t){return t.weekdaysRegex(e)}),N(["dd","ddd","dddd"],function(e,t,n,s){var i=n._locale.weekdaysParse(e,s,n._strict);null!=i?t.d=i:d(n).invalidWeekday=e}),N(["d","e","E"],function(e,t,n,s){t[s]=g(e)});var At="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),jt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Zt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),zt=kt,$t=kt,qt=kt;P("H",["HH",2],0,"hour"),P("h",["hh",2],0,te),P("k",["kk",2],0,function(){return this.hours()||24}),P("hmm",0,0,function(){return""+te.apply(this)+b(this.minutes(),2)}),P("hmmss",0,0,function(){return""+te.apply(this)+b(this.minutes(),2)+b(this.seconds(),2)}),P("Hmm",0,0,function(){return""+this.hours()+b(this.minutes(),2)}),P("Hmmss",0,0,function(){return""+this.hours()+b(this.minutes(),2)+b(this.seconds(),2)}),ne("a",!0),ne("A",!1),Y("hour","h"),x("hour",13),C("a",se),C("A",se),C("H",mt),C("h",mt),C("k",mt),C("HH",mt,dt),C("hh",mt,dt),C("kk",mt,dt),C("hmm",_t),C("hmmss",yt),C("Hmm",_t),C("Hmmss",yt),L(["H","HH"],Pt),L(["k","kk"],function(e,t,n){var s=g(e);t[Pt]=24===s?0:s}),L(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),L(["h","hh"],function(e,t,n){t[Pt]=g(e),d(n).bigHour=!0}),L("hmm",function(e,t,n){var s=e.length-2;t[Pt]=g(e.substr(0,s)),t[Wt]=g(e.substr(s)),d(n).bigHour=!0}),L("hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[Pt]=g(e.substr(0,s)),t[Wt]=g(e.substr(s,2)),t[Ht]=g(e.substr(i)),d(n).bigHour=!0}),L("Hmm",function(e,t,n){var s=e.length-2;t[Pt]=g(e.substr(0,s)),t[Wt]=g(e.substr(s))}),L("Hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[Pt]=g(e.substr(0,s)),t[Wt]=g(e.substr(s,2)),t[Ht]=g(e.substr(i))});var Jt,Bt=I("Hours",!0),Qt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Gt,monthsShort:Vt,week:{dow:0,doy:6},weekdays:At,weekdaysMin:Zt,weekdaysShort:jt,meridiemParse:/[ap]\.?m?\.?/i},Xt={},Kt={},en=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,nn=/Z|[+-]\d\d(?::?\d\d)?/,sn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],rn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],an=/^\/?Date\((\-?\d+)/i,on=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,un={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};e.createFromInputFallback=v("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var ln=v("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=pe.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:c()}),dn=v("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=pe.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:c()}),hn=["year","quarter","month","week","day","hour","minute","second","millisecond"];De("Z",":"),De("ZZ",""),C("Z",Dt),C("ZZ",Dt),L(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=ke(Dt,e)});var cn=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var fn=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,mn=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;xe.fn=ve.prototype,xe.invalid=function(){return xe(NaN)};var _n=We(1,"add"),yn=We(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var gn=v("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});P(0,["gg",2],0,function(){return this.weekYear()%100}),P(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ue("gggg","weekYear"),Ue("ggggg","weekYear"),Ue("GGGG","isoWeekYear"),Ue("GGGGG","isoWeekYear"),Y("weekYear","gg"),Y("isoWeekYear","GG"),x("weekYear",1),x("isoWeekYear",1),C("G",Mt),C("g",Mt),C("GG",mt,dt),C("gg",mt,dt),C("GGGG",pt,ct),C("gggg",pt,ct),C("GGGGG",wt,ft),C("ggggg",wt,ft),N(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,s){t[s.substr(0,2)]=g(e)}),N(["gg","GG"],function(t,n,s,i){n[i]=e.parseTwoDigitYear(t)}),P("Q",0,"Qo","quarter"),Y("quarter","Q"),x("quarter",7),C("Q",lt),L("Q",function(e,t){t[xt]=3*(g(e)-1)}),P("D",["DD",2],"Do","date"),Y("date","D"),x("date",9),C("D",mt),C("DD",mt,dt),C("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),L(["D","DD"],bt),L("Do",function(e,t){t[bt]=g(e.match(mt)[0])});var pn=I("Date",!0);P("DDD",["DDDD",3],"DDDo","dayOfYear"),Y("dayOfYear","DDD"),x("dayOfYear",4),C("DDD",gt),C("DDDD",ht),L(["DDD","DDDD"],function(e,t,n){n._dayOfYear=g(e)}),P("m",["mm",2],0,"minute"),Y("minute","m"),x("minute",14),C("m",mt),C("mm",mt,dt),L(["m","mm"],Wt);var wn=I("Minutes",!1);P("s",["ss",2],0,"second"),Y("second","s"),x("second",15),C("s",mt),C("ss",mt,dt),L(["s","ss"],Ht);var vn=I("Seconds",!1);P("S",0,0,function(){return~~(this.millisecond()/100)}),P(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),P(0,["SSS",3],0,"millisecond"),P(0,["SSSS",4],0,function(){return 10*this.millisecond()}),P(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),P(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),P(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),P(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),P(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),Y("millisecond","ms"),x("millisecond",16),C("S",gt,lt),C("SS",gt,dt),C("SSS",gt,ht);var Mn;for(Mn="SSSS";Mn.length<=9;Mn+="S")C(Mn,vt);for(Mn="S";Mn.length<=9;Mn+="S")L(Mn,Ne);var Sn=I("Milliseconds",!1);P("z",0,0,"zoneAbbr"),P("zz",0,0,"zoneName");var Dn=m.prototype;Dn.add=_n,Dn.calendar=function(t,n){var s=t||pe(),i=Ye(s,this).startOf("day"),r=e.calendarFormat(this,i)||"sameElse",a=n&&(S(n[r])?n[r].call(this,s):n[r]);return this.format(a||this.localeData().calendar(r,this,pe(s)))},Dn.clone=function(){return new m(this)},Dn.diff=function(e,t,n){var s,i,r;if(!this.isValid())return NaN;if(!(s=Ye(e,this)).isValid())return NaN;switch(i=6e4*(s.utcOffset()-this.utcOffset()),t=O(t)){case"year":r=Re(this,s)/12;break;case"month":r=Re(this,s);break;case"quarter":r=Re(this,s)/3;break;case"second":r=(this-s)/1e3;break;case"minute":r=(this-s)/6e4;break;case"hour":r=(this-s)/36e5;break;case"day":r=(this-s-i)/864e5;break;case"week":r=(this-s-i)/6048e5;break;default:r=this-s}return n?r:y(r)},Dn.endOf=function(e){return void 0===(e=O(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},Dn.format=function(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=H(this,t);return this.localeData().postformat(n)},Dn.from=function(e,t){return this.isValid()&&(_(e)&&e.isValid()||pe(e).isValid())?xe({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Dn.fromNow=function(e){return this.from(pe(),e)},Dn.to=function(e,t){return this.isValid()&&(_(e)&&e.isValid()||pe(e).isValid())?xe({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Dn.toNow=function(e){return this.to(pe(),e)},Dn.get=function(e){return e=O(e),S(this[e])?this[e]():this},Dn.invalidAt=function(){return d(this).overflow},Dn.isAfter=function(e,t){var n=_(e)?e:pe(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=O(s(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},Dn.isBefore=function(e,t){var n=_(e)?e:pe(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=O(s(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},Dn.isBetween=function(e,t,n,s){return("("===(s=s||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===s[1]?this.isBefore(t,n):!this.isAfter(t,n))},Dn.isSame=function(e,t){var n,s=_(e)?e:pe(e);return!(!this.isValid()||!s.isValid())&&("millisecond"===(t=O(t||"millisecond"))?this.valueOf()===s.valueOf():(n=s.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},Dn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},Dn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},Dn.isValid=function(){return h(this)},Dn.lang=gn,Dn.locale=Ce,Dn.localeData=Fe,Dn.max=dn,Dn.min=ln,Dn.parsingFlags=function(){return u({},d(this))},Dn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:it[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=T(e)),s=0;s<n.length;s++)this[n[s].unit](e[n[s].unit]);else if(e=O(e),S(this[e]))return this[e](t);return this},Dn.startOf=function(e){switch(e=O(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},Dn.subtract=yn,Dn.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},Dn.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},Dn.toDate=function(){return new Date(this.valueOf())},Dn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?H(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):S(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this._d.valueOf()).toISOString().replace("Z",H(n,"Z")):H(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Dn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+s+"-MM-DD[T]HH:mm:ss.SSS"+i)},Dn.toJSON=function(){return this.isValid()?this.toISOString():null},Dn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Dn.unix=function(){return Math.floor(this.valueOf()/1e3)},Dn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Dn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Dn.year=Lt,Dn.isLeapYear=function(){return E(this.year())},Dn.weekYear=function(e){return Le.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Dn.isoWeekYear=function(e){return Le.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},Dn.quarter=Dn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},Dn.month=$,Dn.daysInMonth=function(){return Z(this.year(),this.month())},Dn.week=Dn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},Dn.isoWeek=Dn.isoWeeks=function(e){var t=X(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},Dn.weeksInYear=function(){var e=this.localeData()._week;return K(this.year(),e.dow,e.doy)},Dn.isoWeeksInYear=function(){return K(this.year(),1,4)},Dn.date=pn,Dn.day=Dn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},Dn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},Dn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},Dn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},Dn.hour=Dn.hours=Bt,Dn.minute=Dn.minutes=wn,Dn.second=Dn.seconds=vn,Dn.millisecond=Dn.milliseconds=Sn,Dn.utcOffset=function(t,n,s){var i,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=ke(Dt,t)))return this}else Math.abs(t)<16&&!s&&(t*=60);return!this._isUTC&&n&&(i=Oe(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!n||this._changeInProgress?He(this,xe(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:Oe(this)},Dn.utc=function(e){return this.utcOffset(0,e)},Dn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Oe(this),"m")),this},Dn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=ke(St,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},Dn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?pe(e).utcOffset():0,(this.utcOffset()-e)%60==0)},Dn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Dn.isLocal=function(){return!!this.isValid()&&!this._isUTC},Dn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Dn.isUtc=Te,Dn.isUTC=Te,Dn.zoneAbbr=function(){return this._isUTC?"UTC":""},Dn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Dn.dates=v("dates accessor is deprecated. Use date instead.",pn),Dn.months=v("months accessor is deprecated. Use month instead",$),Dn.years=v("years accessor is deprecated. Use year instead",Lt),Dn.zone=v("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),Dn.isDSTShifted=v("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var e={};if(f(e,this),(e=ye(e))._a){var t=e._isUTC?l(e._a):pe(e._a);this._isDSTShifted=this.isValid()&&p(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var kn=k.prototype;kn.calendar=function(e,t,n){var s=this._calendar[e]||this._calendar.sameElse;return S(s)?s.call(t,n):s},kn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},kn.invalidDate=function(){return this._invalidDate},kn.ordinal=function(e){return this._ordinal.replace("%d",e)},kn.preparse=Ge,kn.postformat=Ge,kn.relativeTime=function(e,t,n,s){var i=this._relativeTime[n];return S(i)?i(e,t,n,s):i.replace(/%d/i,e)},kn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return S(n)?n(t):n.replace(/%s/i,t)},kn.set=function(e){var t,n;for(n in e)S(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},kn.months=function(e,n){return e?t(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Nt).test(n)?"format":"standalone"][e.month()]:t(this._months)?this._months:this._months.standalone},kn.monthsShort=function(e,n){return e?t(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Nt.test(n)?"format":"standalone"][e.month()]:t(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},kn.monthsParse=function(e,t,n){var s,i,r;if(this._monthsParseExact)return function(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)r=l([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Ut.call(this._shortMonthsParse,a))?i:null:-1!==(i=Ut.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=Ut.call(this._shortMonthsParse,a))?i:-1!==(i=Ut.call(this._longMonthsParse,a))?i:null:-1!==(i=Ut.call(this._longMonthsParse,a))?i:-1!==(i=Ut.call(this._shortMonthsParse,a))?i:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=l([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[s]||(r="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(n&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}},kn.monthsRegex=function(e){return this._monthsParseExact?(o(this,"_monthsRegex")||q.call(this),e?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=It),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},kn.monthsShortRegex=function(e){return this._monthsParseExact?(o(this,"_monthsRegex")||q.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=Et),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},kn.week=function(e){return X(e,this._week.dow,this._week.doy).week},kn.firstDayOfYear=function(){return this._week.doy},kn.firstDayOfWeek=function(){return this._week.dow},kn.weekdays=function(e,n){return e?t(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(n)?"format":"standalone"][e.day()]:t(this._weekdays)?this._weekdays:this._weekdays.standalone},kn.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},kn.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},kn.weekdaysParse=function(e,t,n){var s,i,r;if(this._weekdaysParseExact)return function(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)r=l([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Ut.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ut.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Ut.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=Ut.call(this._weekdaysParse,a))?i:-1!==(i=Ut.call(this._shortWeekdaysParse,a))?i:-1!==(i=Ut.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ut.call(this._shortWeekdaysParse,a))?i:-1!==(i=Ut.call(this._weekdaysParse,a))?i:-1!==(i=Ut.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Ut.call(this._minWeekdaysParse,a))?i:-1!==(i=Ut.call(this._weekdaysParse,a))?i:-1!==(i=Ut.call(this._shortWeekdaysParse,a))?i:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=l([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[s]||(r="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[s].test(e))return s;if(n&&"ddd"===t&&this._shortWeekdaysParse[s].test(e))return s;if(n&&"dd"===t&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}},kn.weekdaysRegex=function(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||ee.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=zt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},kn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||ee.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=$t),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},kn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||ee.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=qt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},kn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},kn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},ae("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===g(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),e.lang=v("moment.lang is deprecated. Use moment.locale instead.",ae),e.langData=v("moment.langData is deprecated. Use moment.localeData instead.",ue);var Yn=Math.abs,On=$e("ms"),Tn=$e("s"),xn=$e("m"),bn=$e("h"),Pn=$e("d"),Wn=$e("w"),Hn=$e("M"),Rn=$e("y"),Cn=qe("milliseconds"),Fn=qe("seconds"),Un=qe("minutes"),Ln=qe("hours"),Nn=qe("days"),Gn=qe("months"),Vn=qe("years"),En=Math.round,In={ss:44,s:45,m:45,h:22,d:26,M:11},An=Math.abs,jn=ve.prototype;return jn.isValid=function(){return this._isValid},jn.abs=function(){var e=this._data;return this._milliseconds=Yn(this._milliseconds),this._days=Yn(this._days),this._months=Yn(this._months),e.milliseconds=Yn(e.milliseconds),e.seconds=Yn(e.seconds),e.minutes=Yn(e.minutes),e.hours=Yn(e.hours),e.months=Yn(e.months),e.years=Yn(e.years),this},jn.add=function(e,t){return Ae(this,e,t,1)},jn.subtract=function(e,t){return Ae(this,e,t,-1)},jn.as=function(e){if(!this.isValid())return NaN;var t,n,s=this._milliseconds;if("month"===(e=O(e))||"year"===e)return t=this._days+s/864e5,n=this._months+Ze(t),"month"===e?n:n/12;switch(t=this._days+Math.round(ze(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return 24*t+s/36e5;case"minute":return 1440*t+s/6e4;case"second":return 86400*t+s/1e3;case"millisecond":return Math.floor(864e5*t)+s;default:throw new Error("Unknown unit "+e)}},jn.asMilliseconds=On,jn.asSeconds=Tn,jn.asMinutes=xn,jn.asHours=bn,jn.asDays=Pn,jn.asWeeks=Wn,jn.asMonths=Hn,jn.asYears=Rn,jn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12):NaN},jn._bubble=function(){var e,t,n,s,i,r=this._milliseconds,a=this._days,o=this._months,u=this._data;return r>=0&&a>=0&&o>=0||r<=0&&a<=0&&o<=0||(r+=864e5*je(ze(o)+a),a=0,o=0),u.milliseconds=r%1e3,e=y(r/1e3),u.seconds=e%60,t=y(e/60),u.minutes=t%60,n=y(t/60),u.hours=n%24,a+=y(n/24),i=y(Ze(a)),o+=i,a-=je(ze(i)),s=y(o/12),o%=12,u.days=a,u.months=o,u.years=s,this},jn.clone=function(){return xe(this)},jn.get=function(e){return e=O(e),this.isValid()?this[e+"s"]():NaN},jn.milliseconds=Cn,jn.seconds=Fn,jn.minutes=Un,jn.hours=Ln,jn.days=Nn,jn.weeks=function(){return y(this.days()/7)},jn.months=Gn,jn.years=Vn,jn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var s=xe(e).abs(),i=En(s.as("s")),r=En(s.as("m")),a=En(s.as("h")),o=En(s.as("d")),u=En(s.as("M")),l=En(s.as("y")),d=i<=In.ss&&["s",i]||i<In.s&&["ss",i]||r<=1&&["m"]||r<In.m&&["mm",r]||a<=1&&["h"]||a<In.h&&["hh",a]||o<=1&&["d"]||o<In.d&&["dd",o]||u<=1&&["M"]||u<In.M&&["MM",u]||l<=1&&["y"]||["yy",l];return d[2]=t,d[3]=+e>0,d[4]=n,function(e,t,n,s,i){return i.relativeTime(t||1,!!n,e,s)}.apply(null,d)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},jn.toISOString=Be,jn.toString=Be,jn.toJSON=Be,jn.locale=Ce,jn.localeData=Fe,jn.toIsoString=v("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Be),jn.lang=gn,P("X",0,0,"unix"),P("x",0,0,"valueOf"),C("x",Mt),C("X",/[+-]?\d+(\.\d{1,3})?/),L("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),L("x",function(e,t,n){n._d=new Date(g(e))}),e.version="2.20.1",function(e){Qe=e}(pe),e.fn=Dn,e.min=function(){return we("isBefore",[].slice.call(arguments,0))},e.max=function(){return we("isAfter",[].slice.call(arguments,0))},e.now=function(){return Date.now?Date.now():+new Date},e.utc=l,e.unix=function(e){return pe(1e3*e)},e.months=function(e,t){return Ee(e,t,"months")},e.isDate=r,e.locale=ae,e.invalid=c,e.duration=xe,e.isMoment=_,e.weekdays=function(e,t,n){return Ie(e,t,n,"weekdays")},e.parseZone=function(){return pe.apply(null,arguments).parseZone()},e.localeData=ue,e.isDuration=Me,e.monthsShort=function(e,t){return Ee(e,t,"monthsShort")},e.weekdaysMin=function(e,t,n){return Ie(e,t,n,"weekdaysMin")},e.defineLocale=oe,e.updateLocale=function(e,t){if(null!=t){var n,s,i=Qt;null!=(s=re(e))&&(i=s._config),(n=new k(t=D(i,t))).parentLocale=Xt[e],Xt[e]=n,ae(e)}else null!=Xt[e]&&(null!=Xt[e].parentLocale?Xt[e]=Xt[e].parentLocale:null!=Xt[e]&&delete Xt[e]);return Xt[e]},e.locales=function(){return nt(Xt)},e.weekdaysShort=function(e,t,n){return Ie(e,t,n,"weekdaysShort")},e.normalizeUnits=O,e.relativeTimeRounding=function(e){return void 0===e?En:"function"==typeof e&&(En=e,!0)},e.relativeTimeThreshold=function(e,t){return void 0!==In[e]&&(void 0===t?In[e]:(In[e]=t,"s"===e&&(In.ss=t-1),!0))},e.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},e.prototype=Dn,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},e});
},{}],113:[function(require,module,exports) {
function t(t,r){T[t]=r}function r(t){if(null==t||"object"!=typeof t)return t;var e=t,n=B.call(t);if("[object Array]"===n){e=[];for(var o=0,i=t.length;o<i;o++)e[o]=r(t[o])}else if(z[n]){var c=t.constructor;if(t.constructor.from)e=c.from(t);else{e=new c(t.length);for(o=0,i=t.length;o<i;o++)e[o]=r(t[o])}}else if(!q[n]&&!D(t)&&!w(t)){e={};for(var u in t)t.hasOwnProperty(u)&&(e[u]=r(t[u]))}return e}function e(t,n,o){if(!d(n)||!d(t))return o?r(n):t;for(var i in n)if(n.hasOwnProperty(i)){var c=t[i],u=n[i];!d(u)||!d(c)||j(u)||j(c)||w(u)||w(c)||A(u)||A(c)||D(u)||D(c)?!o&&i in t||(t[i]=r(n[i],!0)):e(c,u,o)}return t}function n(t,r){for(var n=t[0],o=1,i=t.length;o<i;o++)n=e(n,t[o],r);return n}function o(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e]);return t}function i(t,r,e){for(var n in r)r.hasOwnProperty(n)&&(e?null!=r[n]:null==t[n])&&(t[n]=r[n]);return t}function c(){return J||(J=$().getContext("2d")),J}function u(t,r){if(t){if(t.indexOf)return t.indexOf(r);for(var e=0,n=t.length;e<n;e++)if(t[e]===r)return e}return-1}function f(t,r){function e(){}var n=t.prototype;e.prototype=r.prototype,t.prototype=new e;for(var o in n)t.prototype[o]=n[o];t.prototype.constructor=t,t.superClass=r}function a(t,r,e){i(t="prototype"in t?t.prototype:t,r="prototype"in r?r.prototype:r,e)}function p(t){if(t)return"string"!=typeof t&&"number"==typeof t.length}function s(t,r,e){if(t&&r)if(t.forEach&&t.forEach===H)t.forEach(r,e);else if(t.length===+t.length)for(var n=0,o=t.length;n<o;n++)r.call(e,t[n],n,t);else for(var i in t)t.hasOwnProperty(i)&&r.call(e,t[i],i,t)}function l(t,r,e){if(t&&r){if(t.map&&t.map===M)return t.map(r,e);for(var n=[],o=0,i=t.length;o<i;o++)n.push(r.call(e,t[o],o,t));return n}}function y(t,r,e,n){if(t&&r){if(t.reduce&&t.reduce===R)return t.reduce(r,e,n);for(var o=0,i=t.length;o<i;o++)e=r.call(n,e,t[o],o,t);return e}}function x(t,r,e){if(t&&r){if(t.filter&&t.filter===K)return t.filter(r,e);for(var n=[],o=0,i=t.length;o<i;o++)r.call(e,t[o],o,t)&&n.push(t[o]);return n}}function v(t,r,e){if(t&&r)for(var n=0,o=t.length;n<o;n++)if(r.call(e,t[n],n,t))return t[n]}function h(t,r){var e=L.call(arguments,2);return function(){return t.apply(r,e.concat(L.call(arguments)))}}function b(t){var r=L.call(arguments,1);return function(){return t.apply(this,r.concat(L.call(arguments)))}}function j(t){return"[object Array]"===B.call(t)}function g(t){return"function"==typeof t}function m(t){return"[object String]"===B.call(t)}function d(t){var r=typeof t;return"function"===r||!!t&&"object"==r}function A(t){return!!q[B.call(t)]}function w(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function O(t){return t!=t}function C(t){for(var r=0,e=arguments.length;r<e;r++)if(null!=arguments[r])return arguments[r]}function P(t,r){return null!=t?t:r}function E(t,r,e){return null!=t?t:null!=r?r:e}function _(){return Function.call.apply(L,arguments)}function F(t){if("number"==typeof t)return[t,t,t,t];var r=t.length;return 2===r?[t[0],t[1],t[0],t[1]]:3===r?[t[0],t[1],t[2],t[1]]:t}function I(t,r){if(!t)throw new Error(r)}function U(t){t[Q]=!0}function D(t){return t[Q]}function S(t){t&&s(t,function(t,r){this.set(r,t)},this)}function N(t){return new S(t)}function k(){}var q={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},z={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},B=Object.prototype.toString,G=Array.prototype,H=G.forEach,K=G.filter,L=G.slice,M=G.map,R=G.reduce,T={},$=function(){return T.createCanvas()};T.createCanvas=function(){return document.createElement("canvas")};var J,Q="__ec_primitive__",V="_ec_",W=4;S.prototype={constructor:S,get:function(t){return this[V+t]},set:function(t,r){return this[V+t]=r,r},each:function(t,r){void 0!==r&&(t=h(t,r));for(var e in this)this.hasOwnProperty(e)&&t(this[e],e.slice(W))},removeKey:function(t){delete this[V+t]}},exports.$override=t,exports.clone=r,exports.merge=e,exports.mergeAll=n,exports.extend=o,exports.defaults=i,exports.createCanvas=$,exports.getContext=c,exports.indexOf=u,exports.inherits=f,exports.mixin=a,exports.isArrayLike=p,exports.each=s,exports.map=l,exports.reduce=y,exports.filter=x,exports.find=v,exports.bind=h,exports.curry=b,exports.isArray=j,exports.isFunction=g,exports.isString=m,exports.isObject=d,exports.isBuiltInObject=A,exports.isDom=w,exports.eqNaN=O,exports.retrieve=C,exports.retrieve2=P,exports.retrieve3=E,exports.slice=_,exports.normalizeCssArray=F,exports.assert=I,exports.setAsPrimitive=U,exports.isPrimitive=D,exports.createHashMap=N,exports.noop=k;
},{}],112:[function(require,module,exports) {
function r(r,t){var n=new A(2);return null==r&&(r=0),null==t&&(t=0),n[0]=r,n[1]=t,n}function t(r,t){return r[0]=t[0],r[1]=t[1],r}function n(r){var t=new A(2);return t[0]=r[0],t[1]=r[1],t}function e(r,t,n){return r[0]=t,r[1]=n,r}function o(r,t,n){return r[0]=t[0]+n[0],r[1]=t[1]+n[1],r}function u(r,t,n,e){return r[0]=t[0]+n[0]*e,r[1]=t[1]+n[1]*e,r}function s(r,t,n){return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r}function a(r){return Math.sqrt(i(r))}function i(r){return r[0]*r[0]+r[1]*r[1]}function p(r,t,n){return r[0]=t[0]*n[0],r[1]=t[1]*n[1],r}function c(r,t,n){return r[0]=t[0]/n[0],r[1]=t[1]/n[1],r}function x(r,t){return r[0]*t[0]+r[1]*t[1]}function f(r,t,n){return r[0]=t[0]*n,r[1]=t[1]*n,r}function l(r,t){var n=a(t);return 0===n?(r[0]=0,r[1]=0):(r[0]=t[0]/n,r[1]=t[1]/n),r}function d(r,t){return Math.sqrt((r[0]-t[0])*(r[0]-t[0])+(r[1]-t[1])*(r[1]-t[1]))}function m(r,t){return(r[0]-t[0])*(r[0]-t[0])+(r[1]-t[1])*(r[1]-t[1])}function h(r,t){return r[0]=-t[0],r[1]=-t[1],r}function q(r,t,n,e){return r[0]=t[0]+e*(n[0]-t[0]),r[1]=t[1]+e*(n[1]-t[1]),r}function v(r,t,n){var e=t[0],o=t[1];return r[0]=n[0]*e+n[2]*o+n[4],r[1]=n[1]*e+n[3]*o+n[5],r}function y(r,t,n){return r[0]=Math.min(t[0],n[0]),r[1]=Math.min(t[1],n[1]),r}function M(r,t,n){return r[0]=Math.max(t[0],n[0]),r[1]=Math.max(t[1],n[1]),r}var A="undefined"==typeof Float32Array?Array:Float32Array,S=a,g=i,w=d,F=m;exports.create=r,exports.copy=t,exports.clone=n,exports.set=e,exports.add=o,exports.scaleAndAdd=u,exports.sub=s,exports.len=a,exports.length=S,exports.lenSquare=i,exports.lengthSquare=g,exports.mul=p,exports.div=c,exports.dot=x,exports.scale=f,exports.normalize=l,exports.distance=d,exports.dist=w,exports.distanceSquare=m,exports.distSquare=F,exports.negate=h,exports.lerp=q,exports.applyTransform=v,exports.min=y,exports.max=M;
},{}],424:[function(require,module,exports) {
function t(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function e(t,e){return{target:t,topTarget:e&&e.topTarget}}t.prototype={constructor:t,_dragStart:function(t){var r=t.target;r&&r.draggable&&(this._draggingTarget=r,r.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(e(r,t),"dragstart",t.event))},_drag:function(t){var r=this._draggingTarget;if(r){var i=t.offsetX,a=t.offsetY,s=i-this._x,g=a-this._y;this._x=i,this._y=a,r.drift(s,g,t),this.dispatchToElement(e(r,t),"drag",t.event);var n=this.findHover(i,a,r).target,o=this._dropTarget;this._dropTarget=n,r!==n&&(o&&n!==o&&this.dispatchToElement(e(o,t),"dragleave",t.event),n&&n!==o&&this.dispatchToElement(e(n,t),"dragenter",t.event))}},_dragEnd:function(t){var r=this._draggingTarget;r&&(r.dragging=!1),this.dispatchToElement(e(r,t),"dragend",t.event),this._dropTarget&&this.dispatchToElement(e(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null}};var r=t;module.exports=r;
},{}],250:[function(require,module,exports) {
var t=Array.prototype.slice,e=function(){this._$handlers={}};e.prototype={constructor:e,one:function(t,e,r){var h=this._$handlers;if(!e||!t)return this;h[t]||(h[t]=[]);for(var n=0;n<h[t].length;n++)if(h[t][n].h===e)return this;return h[t].push({h:e,one:!0,ctx:r||this}),this},on:function(t,e,r){var h=this._$handlers;if(!e||!t)return this;h[t]||(h[t]=[]);for(var n=0;n<h[t].length;n++)if(h[t][n].h===e)return this;return h[t].push({h:e,one:!1,ctx:r||this}),this},isSilent:function(t){var e=this._$handlers;return e[t]&&e[t].length},off:function(t,e){var r=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(r[t]){for(var h=[],n=0,s=r[t].length;n<s;n++)r[t][n].h!=e&&h.push(r[t][n]);r[t]=h}r[t]&&0===r[t].length&&delete r[t]}else delete r[t];return this},trigger:function(e){if(this._$handlers[e]){var r=arguments,h=r.length;h>3&&(r=t.call(r,1));for(var n=this._$handlers[e],s=n.length,l=0;l<s;){switch(h){case 1:n[l].h.call(n[l].ctx);break;case 2:n[l].h.call(n[l].ctx,r[1]);break;case 3:n[l].h.call(n[l].ctx,r[1],r[2]);break;default:n[l].h.apply(n[l].ctx,r)}n[l].one?(n.splice(l,1),s--):l++}}return this},triggerWithContext:function(e){if(this._$handlers[e]){var r=arguments,h=r.length;h>4&&(r=t.call(r,1,r.length-1));for(var n=r[r.length-1],s=this._$handlers[e],l=s.length,a=0;a<l;){switch(h){case 1:s[a].h.call(n);break;case 2:s[a].h.call(n,r[1]);break;case 3:s[a].h.call(n,r[1],r[2]);break;default:s[a].h.apply(n,r)}s[a].one?(s.splice(a,1),l--):a++}}return this}};var r=e;module.exports=r;
},{}],307:[function(require,module,exports) {
function t(t,e,i){return{type:t,event:i,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta,zrByTouch:i.zrByTouch,which:i.which}}function e(){}function i(t,e,i){if(t[t.rectHover?"rectContain":"contain"](e,i)){for(var r,o=t;o;){if(o.clipPath&&!o.clipPath.contain(e,i))return!1;o.silent&&(r=!0),o=o.parent}return!r||h}return!1}var r=require("./core/util"),o=require("./core/vector"),n=require("./mixin/Draggable"),s=require("./mixin/Eventful"),h="silent";e.prototype.dispose=function(){};var a=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],u=function(t,i,o,h){s.call(this),this.storage=t,this.painter=i,this.painterRoot=h,o=o||new e,this.proxy=o,o.handler=this,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,n.call(this),r.each(a,function(t){o.on&&o.on(t,this[t],this)},this)};u.prototype={constructor:u,mousemove:function(t){var e=t.zrX,i=t.zrY,r=this._hovered,o=r.target;o&&!o.__zr&&(o=(r=this.findHover(r.x,r.y)).target);var n=this._hovered=this.findHover(e,i),s=n.target,h=this.proxy;h.setCursor&&h.setCursor(s?s.cursor:"default"),o&&s!==o&&this.dispatchToElement(r,"mouseout",t),this.dispatchToElement(n,"mousemove",t),s&&s!==o&&this.dispatchToElement(n,"mouseover",t)},mouseout:function(t){this.dispatchToElement(this._hovered,"mouseout",t);var e,i=t.toElement||t.relatedTarget;do{i=i&&i.parentNode}while(i&&9!=i.nodeType&&!(e=i===this.painterRoot));!e&&this.trigger("globalout",{event:t})},resize:function(t){this._hovered={}},dispatch:function(t,e){var i=this[t];i&&i.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(e,i,r){var o=(e=e||{}).target;if(!o||!o.silent){for(var n="on"+i,s=t(i,e,r);o&&(o[n]&&(s.cancelBubble=o[n].call(o,s)),o.trigger(i,s),o=o.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(i,s),this.painter&&this.painter.eachOtherLayer(function(t){"function"==typeof t[n]&&t[n].call(t,s),t.trigger&&t.trigger(i,s)}))}},findHover:function(t,e,r){for(var o=this.storage.getDisplayList(),n={x:t,y:e},s=o.length-1;s>=0;s--){var a;if(o[s]!==r&&!o[s].ignore&&(a=i(o[s],t,e))&&(!n.topTarget&&(n.topTarget=o[s]),a!==h)){n.target=o[s];break}}return n}},r.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){u.prototype[t]=function(e){var i=this.findHover(e.zrX,e.zrY),r=i.target;if("mousedown"===t)this._downEl=r,this._downPoint=[e.zrX,e.zrY],this._upEl=r;else if("mosueup"===t)this._upEl=r;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||o.dist(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(i,t,e)}}),r.mixin(u,s),r.mixin(u,n);var c=u;module.exports=c;
},{"./core/util":113,"./core/vector":112,"./mixin/Draggable":424,"./mixin/Eventful":250}],115:[function(require,module,exports) {
function e(e){var o={},t=e.match(/Firefox\/([\d.]+)/),n=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),r=e.match(/Edge\/([\d.]+)/),d=/micromessenger/i.test(e);return t&&(o.firefox=!0,o.version=t[1]),n&&(o.ie=!0,o.version=n[1]),r&&(o.edge=!0,o.version=r[1]),d&&(o.weChat=!0),{browser:o,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!o.ie&&!o.edge,pointerEventsSupported:"onpointerdown"in window&&(o.edge||o.ie&&o.version>=11)}}var o={},t=o="undefined"==typeof navigator?{browser:{},os:{},node:!0,canvasSupported:!0,svgSupported:!0}:e(navigator.userAgent);module.exports=t;
},{}],310:[function(require,module,exports) {
function r(){return e++}var e=2311;module.exports=r;
},{}],111:[function(require,module,exports) {
function r(){var r=new c(6);return t(r),r}function t(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,r}function n(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r}function e(r,t,n){var e=t[0]*n[0]+t[2]*n[1],o=t[1]*n[0]+t[3]*n[1],u=t[0]*n[2]+t[2]*n[3],a=t[1]*n[2]+t[3]*n[3],i=t[0]*n[4]+t[2]*n[5]+t[4],c=t[1]*n[4]+t[3]*n[5]+t[5];return r[0]=e,r[1]=o,r[2]=u,r[3]=a,r[4]=i,r[5]=c,r}function o(r,t,n){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4]+n[0],r[5]=t[5]+n[1],r}function u(r,t,n){var e=t[0],o=t[2],u=t[4],a=t[1],i=t[3],c=t[5],s=Math.sin(n),f=Math.cos(n);return r[0]=e*f+a*s,r[1]=-e*s+a*f,r[2]=o*f+i*s,r[3]=-o*s+f*i,r[4]=f*u+s*c,r[5]=f*c-s*u,r}function a(r,t,n){var e=n[0],o=n[1];return r[0]=t[0]*e,r[1]=t[1]*o,r[2]=t[2]*e,r[3]=t[3]*o,r[4]=t[4]*e,r[5]=t[5]*o,r}function i(r,t){var n=t[0],e=t[2],o=t[4],u=t[1],a=t[3],i=t[5],c=n*a-u*e;return c?(c=1/c,r[0]=a*c,r[1]=-u*c,r[2]=-e*c,r[3]=n*c,r[4]=(e*i-a*o)*c,r[5]=(u*o-n*i)*c,r):null}var c="undefined"==typeof Float32Array?Array:Float32Array;exports.create=r,exports.identity=t,exports.copy=n,exports.mul=e,exports.translate=o,exports.rotate=u,exports.scale=a,exports.invert=i;
},{}],265:[function(require,module,exports) {
function r(r){return r>s||r<-s}var t=require("../core/matrix"),o=require("../core/vector"),n=t.identity,s=5e-5,a=function(r){(r=r||{}).position||(this.position=[0,0]),null==r.rotation&&(this.rotation=0),r.scale||(this.scale=[1,1]),this.origin=this.origin||null},i=a.prototype;i.transform=null,i.needLocalTransform=function(){return r(this.rotation)||r(this.position[0])||r(this.position[1])||r(this.scale[0]-1)||r(this.scale[1]-1)},i.updateTransform=function(){var r=this.parent,o=r&&r.transform,s=this.needLocalTransform(),a=this.transform;s||o?(a=a||t.create(),s?this.getLocalTransform(a):n(a),o&&(s?t.mul(a,r.transform,a):t.copy(a,r.transform)),this.transform=a,this.invTransform=this.invTransform||t.create(),t.invert(this.invTransform,a)):a&&n(a)},i.getLocalTransform=function(r){return a.getLocalTransform(this,r)},i.setTransform=function(r){var t=this.transform,o=r.dpr||1;t?r.setTransform(o*t[0],o*t[1],o*t[2],o*t[3],o*t[4],o*t[5]):r.setTransform(o,0,0,o,0,0)},i.restoreTransform=function(r){var t=r.dpr||1;r.setTransform(t,0,0,t,0,0)};var e=[];i.decomposeTransform=function(){if(this.transform){var o=this.parent,n=this.transform;o&&o.transform&&(t.mul(e,o.invTransform,n),n=e);var s=n[0]*n[0]+n[1]*n[1],a=n[2]*n[2]+n[3]*n[3],i=this.position,f=this.scale;r(s-1)&&(s=Math.sqrt(s)),r(a-1)&&(a=Math.sqrt(a)),n[0]<0&&(s=-s),n[3]<0&&(a=-a),i[0]=n[4],i[1]=n[5],f[0]=s,f[1]=a,this.rotation=Math.atan2(-n[1]/a,n[0]/s)}},i.getGlobalScale=function(){var r=this.transform;if(!r)return[1,1];var t=Math.sqrt(r[0]*r[0]+r[1]*r[1]),o=Math.sqrt(r[2]*r[2]+r[3]*r[3]);return r[0]<0&&(t=-t),r[3]<0&&(o=-o),[t,o]},i.transformCoordToLocal=function(r,t){var n=[r,t],s=this.invTransform;return s&&o.applyTransform(n,n,s),n},i.transformCoordToGlobal=function(r,t){var n=[r,t],s=this.transform;return s&&o.applyTransform(n,n,s),n},a.getLocalTransform=function(r,o){n(o=o||[]);var s=r.origin,a=r.scale||[1,1],i=r.rotation||0,e=r.position||[0,0];return s&&(o[4]-=s[0],o[5]-=s[1]),t.scale(o,o,a),i&&t.rotate(o,o,i),s&&(o[4]+=s[0],o[5]+=s[1]),o[4]+=e[0],o[5]+=e[1],o};var f=a;module.exports=f;
},{"../core/matrix":111,"../core/vector":112}],466:[function(require,module,exports) {
var n={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return.5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return 0===n?0:Math.pow(1024,n-1)},exponentialOut:function(n){return 1===n?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return 0===n?0:1===n?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(2-Math.pow(2,-10*(n-1)))},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var t,u=.1;return 0===n?0:1===n?1:(!u||u<1?(u=1,t=.1):t=.4*Math.asin(1/u)/(2*Math.PI),-u*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4))},elasticOut:function(n){var t,u=.1;return 0===n?0:1===n?1:(!u||u<1?(u=1,t=.1):t=.4*Math.asin(1/u)/(2*Math.PI),u*Math.pow(2,-10*n)*Math.sin((n-t)*(2*Math.PI)/.4)+1)},elasticInOut:function(n){var t,u=.1;return 0===n?0:1===n?1:(!u||u<1?(u=1,t=.1):t=.4*Math.asin(1/u)/(2*Math.PI),(n*=2)<1?u*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4)*-.5:u*Math.pow(2,-10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4)*.5+1)},backIn:function(n){return n*n*(2.70158*n-1.70158)},backOut:function(n){return--n*n*(2.70158*n+1.70158)+1},backInOut:function(n){return(n*=2)<1?n*n*(3.5949095*n-2.5949095)*.5:.5*((n-=2)*n*(3.5949095*n+2.5949095)+2)},bounceIn:function(t){return 1-n.bounceOut(1-t)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(t){return t<.5?.5*n.bounceIn(2*t):.5*n.bounceOut(2*t-1)+.5}},t=n;module.exports=t;
},{}],464:[function(require,module,exports) {
function t(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}var i=require("./easing");t.prototype={constructor:t,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var s=(t-this._startTime-this._pausedTime)/this._life;if(!(s<0)){s=Math.min(s,1);var a=this.easing,r="string"==typeof a?i[a]:a,h="function"==typeof r?r(s):s;return this.fire("frame",h),1==s?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(t){var i=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-i+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,i){this[t="on"+t]&&this[t](this._target,i)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var e=t;module.exports=e;
},{"./easing":466}],325:[function(require,module,exports) {
var t=function(){this.head=null,this.tail=null,this._len=0},e=t.prototype;e.insert=function(t){var e=new i(t);return this.insertEntry(e),e},e.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},e.remove=function(t){var e=t.prev,i=t.next;e?e.next=i:this.head=i,i?i.prev=e:this.tail=e,t.next=t.prev=null,this._len--},e.len=function(){return this._len},e.clear=function(){this.head=this.tail=null,this._len=0};var i=function(t){this.value=t,this.next,this.prev},n=function(e){this._list=new t,this._map={},this._maxSize=e||10,this._lastRemovedEntry=null},l=n.prototype;l.put=function(t,e){var n=this._list,l=this._map,s=null;if(null==l[t]){var r=n.len(),h=this._lastRemovedEntry;if(r>=this._maxSize&&r>0){var a=n.head;n.remove(a),delete l[a.key],s=a.value,this._lastRemovedEntry=a}h?h.value=e:h=new i(e),h.key=t,n.insertEntry(h),l[t]=h}return s},l.get=function(t){var e=this._map[t],i=this._list;if(null!=e)return e!==i.tail&&(i.remove(e),i.insertEntry(e)),e.value},l.clear=function(){this._list.clear(),this._map={}};var s=n;module.exports=s;
},{}],114:[function(require,module,exports) {
function e(e){return(e=Math.round(e))<0?0:e>255?255:e}function r(e){return(e=Math.round(e))<0?0:e>360?360:e}function n(e){return e<0?0:e>1?1:e}function t(r){return r.length&&"%"===r.charAt(r.length-1)?e(parseFloat(r)/100*255):e(parseInt(r,10))}function a(e){return e.length&&"%"===e.charAt(e.length-1)?n(parseFloat(e)/100):n(parseFloat(e))}function l(e,r,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(r-e)*n*6:2*n<1?r:3*n<2?e+(r-e)*(2/3-n)*6:e}function i(e,r,n){return e+(r-e)*n}function o(e,r,n,t,a){return e[0]=r,e[1]=n,e[2]=t,e[3]=a,e}function u(e,r){return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e}function s(e,r){q&&u(q,r),q=x.put(e,q||r.slice())}function g(e,r){if(e){r=r||[];var n=x.get(e);if(n)return u(r,n);var l=(e+="").replace(/ /g,"").toLowerCase();if(l in w)return u(r,w[l]),s(e,r),r;if("#"!==l.charAt(0)){var i=l.indexOf("("),g=l.indexOf(")");if(-1!==i&&g+1===l.length){var h=l.substr(0,i),c=l.substr(i+1,g-(i+1)).split(","),f=1;switch(h){case"rgba":if(4!==c.length)return void o(r,0,0,0,1);f=a(c.pop());case"rgb":return 3!==c.length?void o(r,0,0,0,1):(o(r,t(c[0]),t(c[1]),t(c[2]),f),s(e,r),r);case"hsla":return 4!==c.length?void o(r,0,0,0,1):(c[3]=a(c[3]),d(c,r),s(e,r),r);case"hsl":return 3!==c.length?void o(r,0,0,0,1):(d(c,r),s(e,r),r);default:return}}o(r,0,0,0,1)}else{if(4===l.length){return(p=parseInt(l.substr(1),16))>=0&&p<=4095?(o(r,(3840&p)>>4|(3840&p)>>8,240&p|(240&p)>>4,15&p|(15&p)<<4,1),s(e,r),r):void o(r,0,0,0,1)}if(7===l.length){var p;return(p=parseInt(l.substr(1),16))>=0&&p<=16777215?(o(r,(16711680&p)>>16,(65280&p)>>8,255&p,1),s(e,r),r):void o(r,0,0,0,1)}}}}function d(r,n){var t=(parseFloat(r[0])%360+360)%360/360,i=a(r[1]),u=a(r[2]),s=u<=.5?u*(i+1):u+i-u*i,g=2*u-s;return n=n||[],o(n,e(255*l(g,s,t+1/3)),e(255*l(g,s,t)),e(255*l(g,s,t-1/3)),1),4===r.length&&(n[3]=r[3]),n}function h(e){if(e){var r,n,t=e[0]/255,a=e[1]/255,l=e[2]/255,i=Math.min(t,a,l),o=Math.max(t,a,l),u=o-i,s=(o+i)/2;if(0===u)r=0,n=0;else{n=s<.5?u/(o+i):u/(2-o-i);var g=((o-t)/6+u/2)/u,d=((o-a)/6+u/2)/u,h=((o-l)/6+u/2)/u;t===o?r=h-d:a===o?r=1/3+g-h:l===o&&(r=2/3+d-g),r<0&&(r+=1),r>1&&(r-=1)}var c=[360*r,n,s];return null!=e[3]&&c.push(e[3]),c}}function c(e,r){var n=g(e);if(n){for(var t=0;t<3;t++)n[t]=r<0?n[t]*(1-r)|0:(255-n[t])*r+n[t]|0;return y(n,4===n.length?"rgba":"rgb")}}function f(e){var r=g(e);if(r)return((1<<24)+(r[0]<<16)+(r[1]<<8)+ +r[2]).toString(16).slice(1)}function p(r,t,a){if(t&&t.length&&r>=0&&r<=1){a=a||[];var l=r*(t.length-1),o=Math.floor(l),u=Math.ceil(l),s=t[o],g=t[u],d=l-o;return a[0]=e(i(s[0],g[0],d)),a[1]=e(i(s[1],g[1],d)),a[2]=e(i(s[2],g[2],d)),a[3]=n(i(s[3],g[3],d)),a}}function m(r,t,a){if(t&&t.length&&r>=0&&r<=1){var l=r*(t.length-1),o=Math.floor(l),u=Math.ceil(l),s=g(t[o]),d=g(t[u]),h=l-o,c=y([e(i(s[0],d[0],h)),e(i(s[1],d[1],h)),e(i(s[2],d[2],h)),n(i(s[3],d[3],h))],"rgba");return a?{color:c,leftIndex:o,rightIndex:u,value:l}:c}}function b(e,n,t,l){if(e=g(e))return e=h(e),null!=n&&(e[0]=r(n)),null!=t&&(e[1]=a(t)),null!=l&&(e[2]=a(l)),y(d(e),"rgba")}function v(e,r){if((e=g(e))&&null!=r)return e[3]=n(r),y(e,"rgba")}function y(e,r){if(e&&e.length){var n=e[0]+","+e[1]+","+e[2];return"rgba"!==r&&"hsva"!==r&&"hsla"!==r||(n+=","+e[3]),r+"("+n+")"}}var k=require("../core/LRU"),w={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},x=new k(20),q=null,M=p,I=m;exports.parse=g,exports.lift=c,exports.toHex=f,exports.fastLerp=p,exports.fastMapToColor=M,exports.lerp=m,exports.mapToColor=I,exports.modifyHSL=b,exports.modifyAlpha=v,exports.stringify=y;
},{"../core/LRU":325}],434:[function(require,module,exports) {
function t(t,r){return t[r]}function r(t,r,i){t[r]=i}function i(t,r,i){return(r-t)*i+t}function e(t,r,i){return i>.5?r:t}function n(t,r,e,n,a){var s=t.length;if(1==a)for(var o=0;o<s;o++)n[o]=i(t[o],r[o],e);else{var f=s&&t[0].length;for(o=0;o<s;o++)for(var l=0;l<f;l++)n[o][l]=i(t[o][l],r[o][l],e)}}function a(t,r,i){var e=t.length,n=r.length;if(e!==n){if(e>n)t.length=n;else for(var a=e;a<n;a++)t.push(1===i?r[a]:m.call(r[a]))}var s=t[0]&&t[0].length;for(a=0;a<t.length;a++)if(1===i)isNaN(t[a])&&(t[a]=r[a]);else for(var o=0;o<s;o++)isNaN(t[a][o])&&(t[a][o]=r[a][o])}function s(t,r,i){if(t===r)return!0;var e=t.length;if(e!==r.length)return!1;if(1===i){for(var n=0;n<e;n++)if(t[n]!==r[n])return!1}else{var a=t[0].length;for(n=0;n<e;n++)for(var s=0;s<a;s++)if(t[n][s]!==r[n][s])return!1}return!0}function o(t,r,i,e,n,a,s,o,l){var u=t.length;if(1==l)for(var h=0;h<u;h++)o[h]=f(t[h],r[h],i[h],e[h],n,a,s);else{var c=t[0].length;for(h=0;h<u;h++)for(var v=0;v<c;v++)o[h][v]=f(t[h][v],r[h][v],i[h][v],e[h][v],n,a,s)}}function f(t,r,i,e,n,a,s){var o=.5*(i-t),f=.5*(e-r);return(2*(r-i)+o+f)*s+(-3*(r-i)-2*o-f)*a+o*n+r}function l(t){if(g(t)){var r=t.length;if(g(t[0])){for(var i=[],e=0;e<r;e++)i.push(m.call(t[e]));return i}return m.call(t)}return t}function u(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function h(t){var r=t[t.length-1].value;return g(r&&r[0])?2:1}function c(t,r,l,c,p,m){var d=t._getter,L=t._setter,y="spline"===r,k=c.length;if(k){var C,N=c[0].value,M=g(N),b=!1,w=!1,q=M?h(c):0;c.sort(function(t,r){return t.time-r.time}),C=c[k-1].time;for(var P=[],A=[],O=c[0].value,j=!0,x=0;x<k;x++){P.push(c[x].time/C);var z=c[x].value;if(M&&s(z,O,q)||!M&&z===O||(j=!1),O=z,"string"==typeof z){var B=_.parse(z);B?(z=B,b=!0):w=!0}A.push(z)}if(m||!j){var D=A[k-1];for(x=0;x<k-1;x++)M?a(A[x],D,q):!isNaN(A[x])||isNaN(D)||w||b||(A[x]=D);M&&a(d(t._target,p),D,q);var E,F,G,H,I,J=0,K=0;if(b)var Q=[0,0,0,0];var R=new v({target:t._target,life:C,loop:t._loop,delay:t._delay,onframe:function(t,r){var a;if(r<0)a=0;else if(r<K){for(a=Math.min(J+1,k-1);a>=0&&!(P[a]<=r);a--);a=Math.min(a,k-2)}else{for(a=J;a<k&&!(P[a]>r);a++);a=Math.min(a-1,k-2)}J=a,K=r;var s=P[a+1]-P[a];if(0!==s)if(E=(r-P[a])/s,y)if(G=A[a],F=A[0===a?a:a-1],H=A[a>k-2?k-1:a+1],I=A[a>k-3?k-1:a+2],M)o(F,G,H,I,E,E*E,E*E*E,d(t,p),q);else{if(b)l=o(F,G,H,I,E,E*E,E*E*E,Q,1),l=u(Q);else{if(w)return e(G,H,E);l=f(F,G,H,I,E,E*E,E*E*E)}L(t,p,l)}else if(M)n(A[a],A[a+1],E,d(t,p),q);else{var l;if(b)n(A[a],A[a+1],E,Q,1),l=u(Q);else{if(w)return e(A[a],A[a+1],E);l=i(A[a],A[a+1],E)}L(t,p,l)}},ondestroy:l});return r&&"spline"!==r&&(R.easing=r),R}}}var v=require("./Clip"),_=require("../tool/color"),p=require("../core/util"),g=p.isArrayLike,m=Array.prototype.slice,d=function(i,e,n,a){this._tracks={},this._target=i,this._loop=e||!1,this._getter=n||t,this._setter=a||r,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};d.prototype={when:function(t,r){var i=this._tracks;for(var e in r)if(r.hasOwnProperty(e)){if(!i[e]){i[e]=[];var n=this._getter(this._target,e);if(null==n)continue;0!==t&&i[e].push({time:0,value:l(n)})}i[e].push({time:t,value:r[e]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,r=t.length,i=0;i<r;i++)t[i].call(this)},start:function(t,r){var i,e=this,n=0,a=function(){--n||e._doneCallback()};for(var s in this._tracks)if(this._tracks.hasOwnProperty(s)){var o=c(this,t,a,this._tracks[s],s,r);o&&(this._clipList.push(o),n++,this.animation&&this.animation.addClip(o),i=o)}if(i){var f=i.onframe;i.onframe=function(t,r){f(t,r);for(var i=0;i<e._onframeList.length;i++)e._onframeList[i](t,r)}}return n||this._doneCallback(),this},stop:function(t){for(var r=this._clipList,i=this.animation,e=0;e<r.length;e++){var n=r[e];t&&n.onframe(this._target,1),i&&i.removeClip(n)}r.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};var L=d;module.exports=L;
},{"../core/util":113,"./Clip":464,"../tool/color":114}],427:[function(require,module,exports) {
var e=1;"undefined"!=typeof window&&(e=Math.max(window.devicePixelRatio||1,1));var i=0,d=e;exports.debugMode=i,exports.devicePixelRatio=d;
},{}],416:[function(require,module,exports) {
var r=require("../config"),o=r.debugMode,n=function(){};1===o?n=function(){for(var r in arguments)throw new Error(arguments[r])}:o>1&&(n=function(){for(var r in arguments);});var e=n;module.exports=e;
},{"../config":427}],456:[function(require,module,exports) {
var i=require("../animation/Animator"),t=require("../core/log"),n=require("../core/util"),r=n.isString,a=n.isFunction,e=n.isObject,o=n.isArrayLike,s=n.indexOf,l=function(){this.animators=[]};l.prototype={constructor:l,animate:function(n,r){var a,e=!1,o=this,l=this.__zr;if(n){var h=n.split("."),u=o;e="shape"===h[0];for(var f=0,m=h.length;f<m;f++)u&&(u=u[h[f]]);u&&(a=u)}else a=o;if(a){var c=o.animators,p=new i(a,r);return p.during(function(i){o.dirty(e)}).done(function(){c.splice(s(c,p),1)}),c.push(p),l&&l.animation.addAnimator(p),p}t('Property "'+n+'" is not existed in element '+o.id)},stopAnimation:function(i){for(var t=this.animators,n=t.length,r=0;r<n;r++)t[r].stop(i);return t.length=0,this},animateTo:function(i,t,n,e,o,s){function l(){--u||o&&o()}r(n)?(o=e,e=n,n=0):a(e)?(o=e,e="linear",n=0):a(n)?(o=n,n=0):a(t)?(o=t,t=500):t||(t=500),this.stopAnimation(),this._animateToShallow("",this,i,t,n);var h=this.animators.slice(),u=h.length;u||o&&o();for(var f=0;f<h.length;f++)h[f].done(l).start(e,s)},_animateToShallow:function(i,t,n,r,a){var s={},l=0;for(var h in n)if(n.hasOwnProperty(h))if(null!=t[h])e(n[h])&&!o(n[h])?this._animateToShallow(i?i+"."+h:h,t[h],n[h],r,a):(s[h]=n[h],l++);else if(null!=n[h])if(i){var u={};u[i]={},u[i][h]=n[h],this.attr(u)}else this.attr(h,n[h]);return l>0&&this.animate(i,!1).when(null==r?500:r,s).delay(a||0),this}};var h=l;module.exports=h;
},{"../animation/Animator":434,"../core/log":416,"../core/util":113}],413:[function(require,module,exports) {
var i=require("./core/guid"),t=require("./mixin/Eventful"),r=require("./mixin/Transformable"),e=require("./mixin/Animatable"),a=require("./core/util"),n=function(a){r.call(this,a),t.call(this,a),e.call(this,a),this.id=a.id||i()};n.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(i,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":i=0}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=i,r[5]+=t,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(i,t){},attrKV:function(i,t){if("position"===i||"scale"===i||"origin"===i){if(t){var r=this[i];r||(r=this[i]=[]),r[0]=t[0],r[1]=t[1]}}else this[i]=t},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(i,t){if("string"==typeof i)this.attrKV(i,t);else if(a.isObject(i))for(var r in i)i.hasOwnProperty(r)&&this.attrKV(r,i[r]);return this.dirty(!1),this},setClipPath:function(i){var t=this.__zr;t&&i.addSelfToZr(t),this.clipPath&&this.clipPath!==i&&this.removeClipPath(),this.clipPath=i,i.__zr=t,i.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var i=this.clipPath;i&&(i.__zr&&i.removeSelfFromZr(i.__zr),i.__zr=null,i.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(i){this.__zr=i;var t=this.animators;if(t)for(var r=0;r<t.length;r++)i.animation.addAnimator(t[r]);this.clipPath&&this.clipPath.addSelfToZr(i)},removeSelfFromZr:function(i){this.__zr=null;var t=this.animators;if(t)for(var r=0;r<t.length;r++)i.animation.removeAnimator(t[r]);this.clipPath&&this.clipPath.removeSelfFromZr(i)}},a.mixin(n,e),a.mixin(n,r),a.mixin(n,t);var s=n;module.exports=s;
},{"./core/guid":310,"./mixin/Eventful":250,"./core/util":113,"./mixin/Transformable":265,"./mixin/Animatable":456}],256:[function(require,module,exports) {
function t(t,i,h,s){h<0&&(t+=h,h=-h),s<0&&(i+=s,s=-s),this.x=t,this.y=i,this.width=h,this.height=s}var i=require("./vector"),h=require("./matrix"),s=i.applyTransform,e=Math.min,n=Math.max;t.prototype={constructor:t,union:function(t){var i=e(t.x,this.x),h=e(t.y,this.y);this.width=n(t.x+t.width,this.x+this.width)-i,this.height=n(t.y+t.height,this.y+this.height)-h,this.x=i,this.y=h},applyTransform:function(){var t=[],i=[],h=[],r=[];return function(a){if(a){t[0]=h[0]=this.x,t[1]=r[1]=this.y,i[0]=r[0]=this.x+this.width,i[1]=h[1]=this.y+this.height,s(t,t,a),s(i,i,a),s(h,h,a),s(r,r,a),this.x=e(t[0],i[0],h[0],r[0]),this.y=e(t[1],i[1],h[1],r[1]);var y=n(t[0],i[0],h[0],r[0]),x=n(t[1],i[1],h[1],r[1]);this.width=y-this.x,this.height=x-this.y}}}(),calculateTransform:function(t){var i=t.width/this.width,s=t.height/this.height,e=h.create();return h.translate(e,e,[-this.x,-this.y]),h.scale(e,e,[i,s]),h.translate(e,e,[t.x,t.y]),e},intersect:function(i){if(!i)return!1;i instanceof t||(i=t.create(i));var h=this.x,s=this.x+this.width,e=this.y,n=this.y+this.height,r=i.x,a=i.x+i.width,y=i.y,x=i.y+i.height;return!(s<r||a<h||n<y||x<e)},contain:function(t,i){return t>=this.x&&t<=this.x+this.width&&i>=this.y&&i<=this.y+this.height},clone:function(){return new t(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},t.create=function(i){return new t(i.x,i.y,i.width,i.height)};var r=t;module.exports=r;
},{"./vector":112,"./matrix":111}],266:[function(require,module,exports) {
var r=require("../core/util"),e=require("../Element"),t=require("../core/BoundingRect"),n=function(r){r=r||{},e.call(this,r);for(var t in r)r.hasOwnProperty(t)&&(this[t]=r[t]);this._children=[],this.__storage=null,this.__dirty=!0};n.prototype={constructor:n,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(r){return this._children[r]},childOfName:function(r){for(var e=this._children,t=0;t<e.length;t++)if(e[t].name===r)return e[t]},childCount:function(){return this._children.length},add:function(r){return r&&r!==this&&r.parent!==this&&(this._children.push(r),this._doAdd(r)),this},addBefore:function(r,e){if(r&&r!==this&&r.parent!==this&&e&&e.parent===this){var t=this._children,n=t.indexOf(e);n>=0&&(t.splice(n,0,r),this._doAdd(r))}return this},_doAdd:function(r){r.parent&&r.parent.remove(r),r.parent=this;var e=this.__storage,t=this.__zr;e&&e!==r.__storage&&(e.addToStorage(r),r instanceof n&&r.addChildrenToStorage(e)),t&&t.refresh()},remove:function(e){var t=this.__zr,i=this.__storage,h=this._children,o=r.indexOf(h,e);return o<0?this:(h.splice(o,1),e.parent=null,i&&(i.delFromStorage(e),e instanceof n&&e.delChildrenFromStorage(i)),t&&t.refresh(),this)},removeAll:function(){var r,e,t=this._children,i=this.__storage;for(e=0;e<t.length;e++)r=t[e],i&&(i.delFromStorage(r),r instanceof n&&r.delChildrenFromStorage(i)),r.parent=null;return t.length=0,this},eachChild:function(r,e){for(var t=this._children,n=0;n<t.length;n++){var i=t[n];r.call(e,i,n)}return this},traverse:function(r,e){for(var t=0;t<this._children.length;t++){var n=this._children[t];r.call(e,n),"group"===n.type&&n.traverse(r,e)}return this},addChildrenToStorage:function(r){for(var e=0;e<this._children.length;e++){var t=this._children[e];r.addToStorage(t),t instanceof n&&t.addChildrenToStorage(r)}},delChildrenFromStorage:function(r){for(var e=0;e<this._children.length;e++){var t=this._children[e];r.delFromStorage(t),t instanceof n&&t.delChildrenFromStorage(r)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(r){for(var e=null,n=new t(0,0,0,0),i=r||this._children,h=[],o=0;o<i.length;o++){var l=i[o];if(!l.ignore&&!l.invisible){var s=l.getBoundingRect(),a=l.getLocalTransform(h);a?(n.copy(s),n.applyTransform(a),(e=e||n.clone()).union(n)):(e=e||s.clone()).union(s)}}return e||n}},r.inherits(n,e);var i=n;module.exports=i;
},{"../Element":413,"../core/util":113,"../core/BoundingRect":256}],251:[function(require,module,exports) {
function r(r){for(var f=0;r>=u;)f|=1&r,r>>=1;return r+f}function f(r,f,i,o){var a=f+1;if(a===i)return 1;if(o(r[a++],r[f])<0){for(;a<i&&o(r[a],r[a-1])<0;)a++;e(r,f,a)}else for(;a<i&&o(r[a],r[a-1])>=0;)a++;return a-f}function e(r,f,e){for(e--;f<e;){var i=r[f];r[f++]=r[e],r[e--]=i}}function i(r,f,e,i,o){for(i===f&&i++;i<e;i++){for(var a,n=r[i],t=f,u=i;t<u;)o(n,r[a=t+u>>>1])<0?u=a:t=a+1;var v=i-t;switch(v){case 3:r[t+3]=r[t+2];case 2:r[t+2]=r[t+1];case 1:r[t+1]=r[t];break;default:for(;v>0;)r[t+v]=r[t+v-1],v--}r[t]=n}}function o(r,f,e,i,o,a){var n=0,t=0,u=1;if(a(r,f[e+o])>0){for(t=i-o;u<t&&a(r,f[e+o+u])>0;)n=u,(u=1+(u<<1))<=0&&(u=t);u>t&&(u=t),n+=o,u+=o}else{for(t=o+1;u<t&&a(r,f[e+o-u])<=0;)n=u,(u=1+(u<<1))<=0&&(u=t);u>t&&(u=t);var v=n;n=o-u,u=o-v}for(n++;n<u;){var s=n+(u-n>>>1);a(r,f[e+s])>0?n=s+1:u=s}return u}function a(r,f,e,i,o,a){var n=0,t=0,u=1;if(a(r,f[e+o])<0){for(t=o+1;u<t&&a(r,f[e+o-u])<0;)n=u,(u=1+(u<<1))<=0&&(u=t);u>t&&(u=t);var v=n;n=o-u,u=o-v}else{for(t=i-o;u<t&&a(r,f[e+o+u])>=0;)n=u,(u=1+(u<<1))<=0&&(u=t);u>t&&(u=t),n+=o,u+=o}for(n++;n<u;){var s=n+(u-n>>>1);a(r,f[e+s])<0?u=s:n=s+1}return u}function n(r,f){function e(e){var u=i[e],b=n[e],k=i[e+1],l=n[e+1];n[e]=b+l,e===s-3&&(i[e+1]=i[e+2],n[e+1]=n[e+2]),s--;var h=a(r[k],r,u,b,0,f);u+=h,0!==(b-=h)&&0!==(l=o(r[u+b-1],r,k,l,l-1,f))&&(b<=l?function(e,i,n,u){var s=0;for(s=0;s<i;s++)c[s]=r[e+s];var b=0,k=n,l=e;if(r[l++]=r[k++],0==--u){for(s=0;s<i;s++)r[l+s]=c[b+s];return}if(1===i){for(s=0;s<u;s++)r[l+s]=r[k+s];return void(r[l+u]=c[b])}var h,w,d,g=t;for(;;){h=0,w=0,d=!1;do{if(f(r[k],c[b])<0){if(r[l++]=r[k++],w++,h=0,0==--u){d=!0;break}}else if(r[l++]=c[b++],h++,w=0,1==--i){d=!0;break}}while((h|w)<g);if(d)break;do{if(0!==(h=a(r[k],c,b,i,0,f))){for(s=0;s<h;s++)r[l+s]=c[b+s];if(l+=h,b+=h,(i-=h)<=1){d=!0;break}}if(r[l++]=r[k++],0==--u){d=!0;break}if(0!==(w=o(c[b],r,k,u,0,f))){for(s=0;s<w;s++)r[l+s]=r[k+s];if(l+=w,k+=w,0===(u-=w)){d=!0;break}}if(r[l++]=c[b++],1==--i){d=!0;break}g--}while(h>=v||w>=v);if(d)break;g<0&&(g=0),g+=2}if((t=g)<1&&(t=1),1===i){for(s=0;s<u;s++)r[l+s]=r[k+s];r[l+u]=c[b]}else{if(0===i)throw new Error;for(s=0;s<i;s++)r[l+s]=c[b+s]}}(u,b,k,l):function(e,i,n,u){var s=0;for(s=0;s<u;s++)c[s]=r[n+s];var b=e+i-1,k=u-1,l=n+u-1,h=0,w=0;if(r[l--]=r[b--],0==--i){for(h=l-(u-1),s=0;s<u;s++)r[h+s]=c[s];return}if(1===u){for(w=(l-=i)+1,h=(b-=i)+1,s=i-1;s>=0;s--)r[w+s]=r[h+s];return void(r[l]=c[k])}var d=t;for(;;){var g=0,R=0,m=!1;do{if(f(c[k],r[b])<0){if(r[l--]=r[b--],g++,R=0,0==--i){m=!0;break}}else if(r[l--]=c[k--],R++,g=0,1==--u){m=!0;break}}while((g|R)<d);if(m)break;do{if(0!=(g=i-a(c[k],r,e,i,i-1,f))){for(i-=g,w=(l-=g)+1,h=(b-=g)+1,s=g-1;s>=0;s--)r[w+s]=r[h+s];if(0===i){m=!0;break}}if(r[l--]=c[k--],1==--u){m=!0;break}if(0!=(R=u-o(r[b],c,0,u,u-1,f))){for(u-=R,w=(l-=R)+1,h=(k-=R)+1,s=0;s<R;s++)r[w+s]=c[h+s];if(u<=1){m=!0;break}}if(r[l--]=r[b--],0==--i){m=!0;break}d--}while(g>=v||R>=v);if(m)break;d<0&&(d=0),d+=2}(t=d)<1&&(t=1);if(1===u){for(w=(l-=i)+1,h=(b-=i)+1,s=i-1;s>=0;s--)r[w+s]=r[h+s];r[l]=c[k]}else{if(0===u)throw new Error;for(h=l-(u-1),s=0;s<u;s++)r[h+s]=c[s]}}(u,b,k,l))}var i,n,t=v,u=0,s=0;u=r.length;var c=[];i=[],n=[],this.mergeRuns=function(){for(;s>1;){var r=s-2;if(r>=1&&n[r-1]<=n[r]+n[r+1]||r>=2&&n[r-2]<=n[r]+n[r-1])n[r-1]<n[r+1]&&r--;else if(n[r]>n[r+1])break;e(r)}},this.forceMergeRuns=function(){for(;s>1;){var r=s-2;r>0&&n[r-1]<n[r+1]&&r--,e(r)}},this.pushRun=function(r,f){i[s]=r,n[s]=f,s+=1}}function t(e,o,a,t){a||(a=0),t||(t=e.length);var v=t-a;if(!(v<2)){var s=0;if(v<u)return s=f(e,a,t,o),void i(e,a,t,a+s,o);var c=new n(e,o),b=r(v);do{if((s=f(e,a,t,o))<b){var k=v;k>b&&(k=b),i(e,a,a+k,a+s,o),s=k}c.pushRun(a,s),c.mergeRuns(),v-=s,a+=s}while(0!==v);c.forceMergeRuns()}}var u=32,v=7,s=256;module.exports=t;
},{}],308:[function(require,module,exports) {
function t(t,i){return t.zlevel===i.zlevel?t.z===i.z?t.z2-i.z2:t.z-i.z:t.zlevel-i.zlevel}var i=require("./core/util"),s=require("./core/env"),e=require("./container/Group"),r=require("./core/timsort"),o=function(){this._roots=[],this._displayList=[],this._displayListLen=0};o.prototype={constructor:o,traverse:function(t,i){for(var s=0;s<this._roots.length;s++)this._roots[s].traverse(t,i)},getDisplayList:function(t,i){return i=i||!1,t&&this.updateDisplayList(i),this._displayList},updateDisplayList:function(i){this._displayListLen=0;for(var e=this._roots,o=this._displayList,a=0,n=e.length;a<n;a++)this._updateAndAddDisplayable(e[a],null,i);o.length=this._displayListLen,s.canvasSupported&&r(o,t)},_updateAndAddDisplayable:function(t,i,s){if(!t.ignore||s){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var e=t.clipPath;if(e){i=i?i.slice():[];for(var r=e,o=t;r;)r.parent=o,r.updateTransform(),i.push(r),o=r,r=r.clipPath}if(t.isGroup){for(var a=t._children,n=0;n<a.length;n++){var l=a[n];t.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,i,s)}t.__dirty=!1}else t.__clipPaths=i,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof e&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var s=0;s<this._roots.length;s++){var r=this._roots[s];r instanceof e&&r.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array){s=0;for(var o=t.length;s<o;s++)this.delRoot(t[s])}else{var a=i.indexOf(this._roots,t);a>=0&&(this.delFromStorage(t),this._roots.splice(a,1),t instanceof e&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t.__storage=this,t.dirty(!1),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:t};var a=o;module.exports=a;
},{"./core/util":113,"./core/env":115,"./container/Group":266,"./core/timsort":251}],409:[function(require,module,exports) {
var t=function(t,e){this.image=t,this.repeat=e,this.type="pattern"};t.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")};var e=t;module.exports=e;
},{}],459:[function(require,module,exports) {
function t(t,e,l){var n=null==e.x?0:e.x,o=null==e.x2?1:e.x2,i=null==e.y?0:e.y,r=null==e.y2?0:e.y2;e.global||(n=n*l.width+l.x,o=o*l.width+l.x,i=i*l.height+l.y,r=r*l.height+l.y);return t.createLinearGradient(n,i,o,r)}function e(t,e,l){var n=l.width,o=l.height,i=Math.min(n,o),r=null==e.x?.5:e.x,a=null==e.y?.5:e.y,s=null==e.r?.5:e.r;e.global||(r=r*n+l.x,a=a*o+l.y,s*=i);return t.createRadialGradient(r,a,0,r,a,s)}var l=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],n=function(t,e){this.extendFrom(t,!1),this.host=e};n.prototype={constructor:n,host:null,fill:"#000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,n){for(var o=n&&n.style,i=!o,r=0;r<l.length;r++){var a=l[r],s=a[0];(i||this[s]!==o[s])&&(t[s]=this[s]||a[1])}if((i||this.fill!==o.fill)&&(t.fillStyle=this.fill),(i||this.stroke!==o.stroke)&&(t.strokeStyle=this.stroke),(i||this.opacity!==o.opacity)&&(t.globalAlpha=null==this.opacity?1:this.opacity),(i||this.blend!==o.blend)&&(t.globalCompositeOperation=this.blend||"source-over"),this.hasStroke()){var h=this.lineWidth;t.lineWidth=h/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&this.lineWidth>0},extendFrom:function(t,e){if(t)for(var l in t)!t.hasOwnProperty(l)||!0!==e&&(!1===e?this.hasOwnProperty(l):null==t[l])||(this[l]=t[l])},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(l,n,o){for(var i=("radial"===n.type?e:t)(l,n,o),r=n.colorStops,a=0;a<r.length;a++)i.addColorStop(r[a].offset,r[a].color);return i}};for(var o=n.prototype,i=0;i<l.length;i++){var r=l[i];r[0]in o||(o[r[0]]=r[1])}n.getGradient=o.getGradient;var a=n;module.exports=a;
},{}],428:[function(require,module,exports) {
function t(){return!1}function i(t,i,r){var a=e.createCanvas(),h=i.getWidth(),s=i.getHeight(),c=a.style;return c.position="absolute",c.left=0,c.top=0,c.width=h+"px",c.height=s+"px",a.width=h*r,a.height=s*r,a.setAttribute("data-zr-dom-id",t),a}var e=require("./core/util"),r=require("./config"),a=r.devicePixelRatio,h=require("./graphic/Style"),s=require("./graphic/Pattern"),c=function(r,h,s){var c;s=s||a,"string"==typeof r?c=i(r,h,s):e.isObject(r)&&(r=(c=r).id),this.id=r,this.dom=c;var o=c.style;o&&(c.onselectstart=t,o["-webkit-user-select"]="none",o["user-select"]="none",o["-webkit-touch-callout"]="none",o["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",o.padding=0,o.margin=0,o["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=h,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=s};c.prototype={constructor:c,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.__currentValues={},this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=i("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),this.ctxBack.__currentValues={},1!=t&&this.ctxBack.scale(t,t)},resize:function(t,i){var e=this.dpr,r=this.dom,a=r.style,h=this.domBack;a.width=t+"px",a.height=i+"px",r.width=t*e,r.height=i*e,h&&(h.width=t*e,h.height=i*e,1!=e&&this.ctxBack.scale(e,e))},clear:function(t){var i=this.dom,e=this.ctx,r=i.width,a=i.height,c=this.clearColor,o=this.motionBlur&&!t,n=this.lastFrameAlpha,l=this.dpr;if(o&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,r/l,a/l)),e.clearRect(0,0,r,a),c){var d;c.colorStops?(d=c.__canvasGradient||h.getGradient(e,c,{x:0,y:0,width:r,height:a}),c.__canvasGradient=d):c.image&&(d=s.prototype.getCanvasPattern.call(c,e)),e.save(),e.fillStyle=d||c,e.fillRect(0,0,r,a),e.restore()}if(o){var u=this.domBack;e.save(),e.globalAlpha=n,e.drawImage(u,0,0,r,a),e.restore()}}};var o=c;module.exports=o;
},{"./core/util":113,"./config":427,"./graphic/Pattern":409,"./graphic/Style":459}],429:[function(require,module,exports) {
var i="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(i){setTimeout(i,16)};module.exports=i;
},{}],406:[function(require,module,exports) {
function e(e){if("string"==typeof e){var r=a.get(e);return r&&r.image}return e}function r(e,r,i,g,c){if(e){if("string"==typeof e){if(r&&r.__zrImageSrc===e||!i)return r;var o=a.get(e),d={hostEl:i,cb:g,cbPayload:c};return o?!t(r=o.image)&&o.pending.push(d):(!r&&(r=new Image),r.onload=n,a.put(e,r.__cachedImgObj={image:r,pending:[d]}),r.src=r.__zrImageSrc=e),r}return e}return r}function n(){var e=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var r=0;r<e.pending.length;r++){var n=e.pending[r],t=n.cb;t&&t(this,n.cbPayload),n.hostEl.dirty()}e.pending.length=0}function t(e){return e&&e.width&&e.height}var i=require("../../core/LRU"),a=new i(50);exports.findExistImage=e,exports.createOrUpdateImage=r,exports.isImageReady=t;
},{"../../core/LRU":325}],287:[function(require,module,exports) {
function t(t,e){R[t]=e}function e(t,e){var i=t+":"+(e=e||I);if(w[i])return w[i];for(var r=(t+"").split("\n"),n=0,a=0,o=r.length;a<o;a++)n=Math.max(x(r[a],e).width,n);return A>y&&(A=0,w={}),A++,w[i]=n,n}function i(t,e,i,a,o,h,l){return h?n(t,e,i,a,o,h,l):r(t,e,i,a,o,l)}function r(t,i,r,n,h,l){var s=c(t,i,h,l),u=e(t,i);h&&(u+=h[1]+h[3]);var d=s.outerHeight,g=a(0,u,r),x=o(0,d,n),f=new v(g,x,u,d);return f.lineHeight=s.lineHeight,f}function n(t,e,i,r,n,h,l){var s=f(t,{rich:h,truncate:l,font:e,textAlign:i,textPadding:n}),u=s.outerWidth,d=s.outerHeight,g=a(0,u,i),x=o(0,d,r);return new v(g,x,u,d)}function a(t,e,i){return"right"===i?t-=e:"center"===i&&(t-=e/2),t}function o(t,e,i){return"middle"===i?t-=e/2:"bottom"===i&&(t-=e),t}function h(t,e,i){var r=e.x,n=e.y,a=e.height,o=e.width,h=a/2,l="left",s="top";switch(t){case"left":r-=i,n+=h,l="right",s="middle";break;case"right":r+=i+o,n+=h,s="middle";break;case"top":r+=o/2,n-=i,l="center",s="bottom";break;case"bottom":r+=o/2,n+=a+i,l="center";break;case"inside":r+=o/2,n+=h,l="center",s="middle";break;case"insideLeft":r+=i,n+=h,s="middle";break;case"insideRight":r+=o-i,n+=h,l="right",s="middle";break;case"insideTop":r+=o/2,n+=i,l="center";break;case"insideBottom":r+=o/2,n+=a-i,l="center",s="bottom";break;case"insideTopLeft":r+=i,n+=i;break;case"insideTopRight":r+=o-i,n+=i,l="right";break;case"insideBottomLeft":r+=i,n+=a-i,s="bottom";break;case"insideBottomRight":r+=o-i,n+=a-i,l="right",s="bottom"}return{x:r,y:n,textAlign:l,textVerticalAlign:s}}function l(t,e,i,r,n){if(!e)return"";var a=(t+"").split("\n");n=s(e,i,r,n);for(var o=0,h=a.length;o<h;o++)a[o]=u(a[o],n);return a.join("\n")}function s(t,i,r,n){(n=k({},n)).font=i;r=T(r,"...");n.maxIterations=T(n.maxIterations,2);var a=n.minChar=T(n.minChar,0);n.cnCharWidth=e("",i);var o=n.ascCharWidth=e("a",i);n.placeholder=T(n.placeholder,"");for(var h=t=Math.max(0,t-1),l=0;l<a&&h>=o;l++)h-=o;var s=e(r);return s>h&&(r="",s=0),h=t-s,n.ellipsis=r,n.ellipsisWidth=s,n.contentWidth=h,n.containerWidth=t,n}function u(t,i){var r=i.containerWidth,n=i.font,a=i.contentWidth;if(!r)return"";var o=e(t,n);if(o<=r)return t;for(var h=0;;h++){if(o<=a||h>=i.maxIterations){t+=i.ellipsis;break}var l=0===h?d(t,a,i.ascCharWidth,i.cnCharWidth):o>0?Math.floor(t.length*a/o):0;o=e(t=t.substr(0,l),n)}return""===t&&(t=i.placeholder),t}function d(t,e,i,r){for(var n=0,a=0,o=t.length;a<o&&n<e;a++){var h=t.charCodeAt(a);n+=0<=h&&h<=127?i:r}return a}function g(t){return e("",t)}function x(t,e){return R.measureText(t,e)}function c(t,e,i,r){null!=t&&(t+="");var n=g(e),a=t?t.split("\n"):[],o=a.length*n,h=o;if(i&&(h+=i[0]+i[2]),t&&r){var l=r.outerHeight,d=r.outerWidth;if(null!=l&&h>l)t="",a=[];else if(null!=d)for(var x=s(d-(i?i[1]+i[3]:0),e,r.ellipsis,{minChar:r.minChar,placeholder:r.placeholder}),c=0,f=a.length;c<f;c++)a[c]=u(a[c],x)}return{lines:a,height:o,outerHeight:h,lineHeight:n}}function f(t,i){var r={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return r;for(var n,a=L.lastIndex=0;null!=(n=L.exec(t));){var o=n.index;o>a&&p(r,t.substring(a,o)),p(r,n[2],n[1]),a=L.lastIndex}a<t.length&&p(r,t.substring(a,t.length));var h=r.lines,s=0,u=0,d=[],x=i.textPadding,c=i.truncate,f=c&&c.outerWidth,m=c&&c.outerHeight;x&&(null!=f&&(f-=x[1]+x[3]),null!=m&&(m-=x[0]+x[2]));for(var v=0;v<h.length;v++){for(var b=h[v],H=0,k=0,w=0;w<b.tokens.length;w++){var A=(q=b.tokens[w]).styleName&&i.rich[q.styleName]||{},y=q.textPadding=A.textPadding,I=q.font=A.font||i.font,R=q.textHeight=T(A.textHeight,g(I));if(y&&(R+=y[0]+y[2]),q.height=R,q.lineHeight=C(A.textLineHeight,i.textLineHeight,R),q.textAlign=A&&A.textAlign||i.textAlign,q.textVerticalAlign=A&&A.textVerticalAlign||"middle",null!=m&&s+q.lineHeight>m)return{lines:[],width:0,height:0};q.textWidth=e(q.text,I);var B=A.textWidth,F=null==B||"auto"===B;if("string"==typeof B&&"%"===B.charAt(B.length-1))q.percentWidth=B,d.push(q),B=0;else{if(F){B=q.textWidth;var M=A.textBackgroundColor,P=M&&M.image;P&&(P=W.findExistImage(P),W.isImageReady(P)&&(B=Math.max(B,P.width*R/P.height)))}var j=y?y[1]+y[3]:0;B+=j;var N=null!=f?f-k:null;null!=N&&N<B&&(!F||N<j?(q.text="",q.textWidth=B=0):(q.text=l(q.text,N-j,I,c.ellipsis,{minChar:c.minChar}),q.textWidth=e(q.text,I),B=q.textWidth+j))}k+=q.width=B,A&&(H=Math.max(H,q.lineHeight))}b.width=k,b.lineHeight=H,s+=H,u=Math.max(u,k)}r.outerWidth=r.width=T(i.textWidth,u),r.outerHeight=r.height=T(i.textHeight,s),x&&(r.outerWidth+=x[1]+x[3],r.outerHeight+=x[0]+x[2]);for(v=0;v<d.length;v++){var q,z=(q=d[v]).percentWidth;q.width=parseInt(z,10)/100*u}return r}function p(t,e,i){for(var r=""===e,n=e.split("\n"),a=t.lines,o=0;o<n.length;o++){var h=n[o],l={styleName:i,text:h,isLineHolder:!h&&!r};if(o)a.push({tokens:[l]});else{var s=(a[a.length-1]||(a[0]={tokens:[]})).tokens,u=s.length;1===u&&s[0].isLineHolder?s[0]=l:(h||!u||r)&&s.push(l)}}}function m(t){return(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ")||t.textFont||t.font}var v=require("../core/BoundingRect"),W=require("../graphic/helper/image"),b=require("../core/util"),H=b.getContext,k=b.extend,T=b.retrieve2,C=b.retrieve3,w={},A=0,y=5e3,L=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,I="12px sans-serif",R={};R.measureText=function(t,e){var i=H();return i.font=e||I,i.measureText(t)},exports.DEFAULT_FONT=I,exports.$override=t,exports.getWidth=e,exports.getBoundingRect=i,exports.adjustTextX=a,exports.adjustTextY=o,exports.adjustTextPositionOnRect=h,exports.truncateText=l,exports.getLineHeight=g,exports.measureText=x,exports.parsePlainText=c,exports.parseRichText=f,exports.makeFont=m;
},{"../core/BoundingRect":256,"../core/util":113,"../graphic/helper/image":406}],411:[function(require,module,exports) {
function e(e,r){var o,t,a,i,n=r.x,u=r.y,T=r.width,l=r.height,h=r.r;T<0&&(n+=T,T=-T),l<0&&(u+=l,l=-l),"number"==typeof h?o=t=a=i=h:h instanceof Array?1===h.length?o=t=a=i=h[0]:2===h.length?(o=a=h[0],t=i=h[1]):3===h.length?(o=h[0],t=i=h[1],a=h[2]):(o=h[0],t=h[1],a=h[2],i=h[3]):o=t=a=i=0;var v;o+t>T&&(o*=T/(v=o+t),t*=T/v),a+i>T&&(a*=T/(v=a+i),i*=T/v),t+a>l&&(t*=l/(v=t+a),a*=l/v),o+i>l&&(o*=l/(v=o+i),i*=l/v),e.moveTo(n+o,u),e.lineTo(n+T-t,u),0!==t&&e.quadraticCurveTo(n+T,u,n+T,u+t),e.lineTo(n+T,u+l-a),0!==a&&e.quadraticCurveTo(n+T,u+l,n+T-a,u+l),e.lineTo(n+i,u+l),0!==i&&e.quadraticCurveTo(n,u+l,n,u+l-i),e.lineTo(n,u+o),0!==o&&e.quadraticCurveTo(n,u,n+o,u)}exports.buildPath=e;
},{}],414:[function(require,module,exports) {
function t(t){return e(t),k(t.rich,e),t}function e(t){if(t){t.font=m.makeFont(t);var e=t.textAlign;"middle"===e&&(e="center"),t.textAlign=null==e||_[e]?e:"left";var r=t.textVerticalAlign||t.textBaseline;"center"===r&&(r="middle"),t.textVerticalAlign=null==r||P[r]?r:"top";t.textPadding&&(t.textPadding=O(t.textPadding))}}function r(t,e,r,n,a){n.rich?o(t,e,r,n,a):i(t,e,r,n,a)}function i(t,e,r,i,o){var n=f(e,"font",i.font||m.DEFAULT_FONT),l=i.textPadding,h=t.__textCotentBlock;h&&!t.__dirty||(h=t.__textCotentBlock=m.parsePlainText(r,n,l,i.truncate));var c=h.outerHeight,S=h.lines,v=h.lineHeight,B=s(c,i,o),A=B.baseX,k=B.baseY,O=B.textAlign,p=B.textVerticalAlign;a(e,i,o,A,k);var y=m.adjustTextY(k,c,p),C=A,T=y,_=x(i);if(_||l){var P=m.getWidth(r,n);l&&(P+=l[1]+l[3]);var X=m.adjustTextX(A,P,O);_&&d(t,e,i,X,y,P,c),l&&(C=w(A,O,l),T+=l[0])}f(e,"textAlign",O||"left"),f(e,"textBaseline","middle"),f(e,"shadowBlur",i.textShadowBlur||0),f(e,"shadowColor",i.textShadowColor||"transparent"),f(e,"shadowOffsetX",i.textShadowOffsetX||0),f(e,"shadowOffsetY",i.textShadowOffsetY||0),T+=v/2;var Y=i.textStrokeWidth,b=g(i.textStroke,Y),F=u(i.textFill);b&&(f(e,"lineWidth",Y),f(e,"strokeStyle",b)),F&&f(e,"fillStyle",F);for(var W=0;W<S.length;W++)b&&e.strokeText(S[W],C,T),F&&e.fillText(S[W],C,T),T+=v}function o(t,e,r,i,o){var a=t.__textCotentBlock;a&&!t.__dirty||(a=t.__textCotentBlock=m.parseRichText(r,i)),n(t,e,a,i,o)}function n(t,e,r,i,o){var n=r.width,h=r.outerWidth,f=r.outerHeight,g=i.textPadding,u=s(f,i,o),c=u.baseX,w=u.baseY,S=u.textAlign,v=u.textVerticalAlign;a(e,i,o,c,w);var B=m.adjustTextX(c,h,S),A=m.adjustTextY(w,f,v),k=B,O=A;g&&(k+=g[3],O+=g[0]);var p=k+n;x(i)&&d(t,e,i,B,A,h,f);for(var y=0;y<r.lines.length;y++){for(var C,T=r.lines[y],_=T.tokens,P=_.length,X=T.lineHeight,Y=T.width,b=0,F=k,W=p,V=P-1;b<P&&(!(C=_[b]).textAlign||"left"===C.textAlign);)l(t,e,C,i,X,O,F,"left"),Y-=C.width,F+=C.width,b++;for(;V>=0&&"right"===(C=_[V]).textAlign;)l(t,e,C,i,X,O,W,"right"),Y-=C.width,W-=C.width,V--;for(F+=(n-(F-k)-(p-W)-Y)/2;b<=V;)l(t,e,C=_[b],i,X,O,F+C.width/2,"center"),F+=C.width,b++;O+=X}}function a(t,e,r,i,o){if(r&&e.textRotation){var n=e.textOrigin;"center"===n?(i=r.width/2+r.x,o=r.height/2+r.y):n&&(i=n[0]+r.x,o=n[1]+r.y),t.translate(i,o),t.rotate(-e.textRotation),t.translate(-i,-o)}}function l(t,e,r,i,o,n,a,l){var h=i.rich[r.styleName]||{},s=r.textVerticalAlign,c=n+o/2;"top"===s?c=n+r.height/2:"bottom"===s&&(c=n+o-r.height/2),!r.isLineHolder&&x(h)&&d(t,e,h,"right"===l?a-r.width:"center"===l?a-r.width/2:a,c-r.height/2,r.width,r.height);var S=r.textPadding;S&&(a=w(a,l,S),c-=r.height/2-S[2]-r.textHeight/2),f(e,"shadowBlur",A(h.textShadowBlur,i.textShadowBlur,0)),f(e,"shadowColor",h.textShadowColor||i.textShadowColor||"transparent"),f(e,"shadowOffsetX",A(h.textShadowOffsetX,i.textShadowOffsetX,0)),f(e,"shadowOffsetY",A(h.textShadowOffsetY,i.textShadowOffsetY,0)),f(e,"textAlign",l),f(e,"textBaseline","middle"),f(e,"font",r.font||m.DEFAULT_FONT);var v=g(h.textStroke||i.textStroke,O),k=u(h.textFill||i.textFill),O=B(h.textStrokeWidth,i.textStrokeWidth);v&&(f(e,"lineWidth",O),f(e,"strokeStyle",v),e.strokeText(r.text,a,c)),k&&(f(e,"fillStyle",k),e.fillText(r.text,a,c))}function x(t){return t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor}function d(t,e,r,i,o,n,a){var l=r.textBackgroundColor,x=r.textBorderWidth,d=r.textBorderColor,s=p(l);if(f(e,"shadowBlur",r.textBoxShadowBlur||0),f(e,"shadowColor",r.textBoxShadowColor||"transparent"),f(e,"shadowOffsetX",r.textBoxShadowOffsetX||0),f(e,"shadowOffsetY",r.textBoxShadowOffsetY||0),s||x&&d){e.beginPath();var g=r.textBorderRadius;g?C.buildPath(e,{x:i,y:o,width:n,height:a,r:g}):e.rect(i,o,n,a),e.closePath()}if(s)f(e,"fillStyle",l),e.fill();else if(y(l)){var u=l.image;(u=T.createOrUpdateImage(u,null,t,h,l))&&T.isImageReady(u)&&e.drawImage(u,i,o,n,a)}x&&d&&(f(e,"lineWidth",x),f(e,"strokeStyle",d),e.stroke())}function h(t,e){e.image=t}function s(t,e,r){var i=e.x||0,o=e.y||0,n=e.textAlign,a=e.textVerticalAlign;if(r){var l=e.textPosition;if(l instanceof Array)i=r.x+c(l[0],r.width),o=r.y+c(l[1],r.height);else{var x=m.adjustTextPositionOnRect(l,r,e.textDistance);i=x.x,o=x.y,n=n||x.textAlign,a=a||x.textVerticalAlign}var d=e.textOffset;d&&(i+=d[0],o+=d[1])}return{baseX:i,baseY:o,textAlign:n,textVerticalAlign:a}}function f(t,e,r){return t[e]=r,t[e]}function g(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function u(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function c(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function w(t,e,r){return"right"===e?t-r[1]:"center"===e?t+r[3]/2-r[1]/2:t+r[3]}function S(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}var v=require("../../core/util"),B=v.retrieve2,A=v.retrieve3,k=v.each,O=v.normalizeCssArray,p=v.isString,y=v.isObject,m=require("../../contain/text"),C=require("./roundRect"),T=require("./image"),_={left:1,right:1,center:1},P={top:1,bottom:1,middle:1};exports.normalizeTextStyle=t,exports.renderText=r,exports.getStroke=g,exports.getFill=u,exports.needDrawText=S;
},{"../../core/util":113,"../../contain/text":287,"./roundRect":411,"./image":406}],422:[function(require,module,exports) {
var e=require("../helper/text"),t=require("../../core/BoundingRect"),r=new t,o=function(){};o.prototype={constructor:o,drawRectText:function(t,o){var n=this.style;o=n.textRect||o,this.__dirty&&e.normalizeTextStyle(n,!0);var s=n.text;if(null!=s&&(s+=""),e.needDrawText(s,n)){t.save();var a=this.transform;n.transformText?this.setTransform(t):a&&(r.copy(o),r.applyTransform(a),o=r),e.renderText(this,t,s,n,o),t.restore()}}};var n=o;module.exports=n;
},{"../../core/BoundingRect":256,"../helper/text":414}],405:[function(require,module,exports) {
function t(t){t=t||{},r.call(this,t);for(var i in t)t.hasOwnProperty(i)&&"style"!==i&&(this[i]=t[i]);this.style=new e(t.style,this),this._rect=null,this.__clipPaths=[]}var i=require("../core/util"),e=require("./Style"),r=require("../Element"),n=require("./mixin/RectText");t.prototype={constructor:t,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:-1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,i){},getBoundingRect:function(){},contain:function(t,i){return this.rectContain(t,i)},traverse:function(t,i){t.call(i,this)},rectContain:function(t,i){var e=this.transformCoordToLocal(t,i);return this.getBoundingRect().contain(e[0],e[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,i){"style"!==t?r.prototype.attrKV.call(this,t,i):this.style.set(i)},setStyle:function(t,i){return this.style.set(t,i),this.dirty(!1),this},useStyle:function(t){return this.style=new e(t,this),this.dirty(!1),this}},i.inherits(t,r),i.mixin(t,n);var s=t;module.exports=s;
},{"../core/util":113,"../Element":413,"./Style":459,"./mixin/RectText":422}],264:[function(require,module,exports) {
function e(e){t.call(this,e)}var t=require("./Displayable"),i=require("../core/BoundingRect"),r=require("../core/util"),s=require("./helper/image");e.prototype={constructor:e,type:"image",brush:function(e,t){var i=this.style,r=i.image;i.bind(e,this,t);var h=this._image=s.createOrUpdateImage(r,this._image,this,this.onload);if(h&&s.isImageReady(h)){var a=i.x||0,n=i.y||0,l=i.width,u=i.height,g=h.width/h.height;if(null==l&&null!=u?l=u*g:null==u&&null!=l?u=l/g:null==l&&null==u&&(l=h.width,u=h.height),this.setTransform(e),i.sWidth&&i.sHeight){var o=i.sx||0,d=i.sy||0;e.drawImage(h,o,d,i.sWidth,i.sHeight,a,n,l,u)}else if(i.sx&&i.sy){var c=l-(o=i.sx),m=u-(d=i.sy);e.drawImage(h,o,d,c,m,a,n,l,u)}else e.drawImage(h,a,n,l,u);this.restoreTransform(e),null!=i.text&&this.drawRectText(e,this.getBoundingRect())}},getBoundingRect:function(){var e=this.style;return this._rect||(this._rect=new i(e.x||0,e.y||0,e.width||0,e.height||0)),this._rect}},r.inherits(e,t);var h=e;module.exports=h;
},{"./Displayable":405,"../core/BoundingRect":256,"../core/util":113,"./helper/image":406}],309:[function(require,module,exports) {
function e(e){return parseInt(e,10)}function t(e){return!!e&&(!!e.__builtin__||"function"==typeof e.resize&&"function"==typeof e.refresh)}function r(e){e.__unusedCount++}function i(e){1==e.__unusedCount&&e.clear()}function s(e,t,r){return y.copy(e.getBoundingRect()),e.transform&&y.applyTransform(e.transform),m.width=t,m.height=r,!y.intersect(m)}function n(e,t){if(e==t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!0}function o(e,t){for(var r=0;r<e.length;r++){var i=e[r];i.setTransform(t),t.beginPath(),i.buildPath(t,i.shape),t.clip(),i.restoreTransform(t)}}function a(e,t){var r=document.createElement("div");return r.style.cssText=["position:relative","overflow:hidden","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var h=require("./config"),l=h.devicePixelRatio,_=require("./core/util"),u=require("./core/log"),f=require("./core/BoundingRect"),v=require("./core/timsort"),c=require("./Layer"),g=require("./animation/requestAnimationFrame"),d=require("./graphic/Image"),p=5,y=new f(0,0,0,0),m=new f(0,0,0,0),L=function(e,t,r){this.type="canvas";var i=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();this._opts=r=_.extend({},r||{}),this.dpr=r.devicePixelRatio||l,this._singleCanvas=i,this.root=e;var s=e.style;s&&(s["-webkit-tap-highlight-color"]="transparent",s["-webkit-user-select"]=s["user-select"]=s["-webkit-touch-callout"]="none",e.innerHTML=""),this.storage=t;var n=this._zlevelList=[],o=this._layers={};if(this._layerConfig={},i){null!=r.width&&(e.width=r.width),null!=r.height&&(e.height=r.height);var h=e.width,u=e.height;this._width=h,this._height=u;var f=new c(e,this,1);f.initContext(),o[0]=f,n.push(0),this._domRoot=e}else{this._width=this._getSize(0),this._height=this._getSize(1);var v=this._domRoot=a(this._width,this._height);e.appendChild(v)}this._progressiveLayers=[],this._hoverlayer,this._hoverElements=[]};L.prototype={constructor:L,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(e){var t=this.storage.getDisplayList(!0),r=this._zlevelList;this._paintList(t,e);for(var i=0;i<r.length;i++){var s=r[i],n=this._layers[s];!n.__builtin__&&n.refresh&&n.refresh()}return this.refreshHover(),this._progressiveLayers.length&&this._startProgessive(),this},addHover:function(e,t){if(!e.__hoverMir){var r=new e.constructor({style:e.style,shape:e.shape});r.__from=e,e.__hoverMir=r,r.setStyle(t),this._hoverElements.push(r)}},removeHover:function(e){var t=e.__hoverMir,r=this._hoverElements,i=_.indexOf(r,t);i>=0&&r.splice(i,1),e.__hoverMir=null},clearHover:function(e){for(var t=this._hoverElements,r=0;r<t.length;r++){var i=t[r].__from;i&&(i.__hoverMir=null)}t.length=0},refreshHover:function(){var e=this._hoverElements,t=e.length,r=this._hoverlayer;if(r&&r.clear(),t){v(e,this.storage.displayableSortFunc),r||(r=this._hoverlayer=this.getLayer(1e5));var i={};r.ctx.save();for(var s=0;s<t;){var n=e[s],o=n.__from;o&&o.__zr?(s++,o.invisible||(n.transform=o.transform,n.invTransform=o.invTransform,n.__clipPaths=o.__clipPaths,this._doPaintEl(n,r,!0,i))):(e.splice(s,1),o.__hoverMir=null,t--)}r.ctx.restore()}},_startProgessive:function(){function e(){r===t._progressiveToken&&t.storage&&(t._doPaintList(t.storage.getDisplayList()),t._furtherProgressive?(t._progress++,g(e)):t._progressiveToken=-1)}var t=this;if(t._furtherProgressive){var r=t._progressiveToken=+new Date;t._progress++,g(e)}},_clearProgressive:function(){this._progressiveToken=-1,this._progress=0,_.each(this._progressiveLayers,function(e){e.__dirty&&e.clear()})},_paintList:function(e,t){null==t&&(t=!1),this._updateLayerStatus(e),this._clearProgressive(),this.eachBuiltinLayer(r),this._doPaintList(e,t),this.eachBuiltinLayer(i)},_doPaintList:function(e,t){function r(e){var t=n.dpr||1;n.save(),n.globalAlpha=1,n.shadowBlur=0,i.__dirty=!0,n.setTransform(1,0,0,1,0,0),n.drawImage(e.dom,0,0,f*t,v*t),n.restore()}for(var i,s,n,o,a,h,l=0,f=this._width,v=this._height,c=this._progress,g=0,d=e.length;g<d;g++){var y=e[g],m=this._singleCanvas?0:y.zlevel,L=y.__frame;if(L<0&&a&&(r(a),a=null),s!==m&&(n&&n.restore(),o={},s=m,(i=this.getLayer(s)).__builtin__||u("ZLevel "+s+" has been used by unkown layer "+i.id),(n=i.ctx).save(),i.__unusedCount=0,(i.__dirty||t)&&i.clear()),i.__dirty||t){if(L>=0){if(!a){if((a=this._progressiveLayers[Math.min(l++,p-1)]).ctx.save(),a.renderScope={},a&&a.__progress>a.__maxProgress){g=a.__nextIdxNotProg-1;continue}h=a.__progress,a.__dirty||(c=h),a.__progress=c+1}L===c&&this._doPaintEl(y,a,!0,a.renderScope)}else this._doPaintEl(y,i,t,o);y.__dirty=!1}}a&&r(a),n&&n.restore(),this._furtherProgressive=!1,_.each(this._progressiveLayers,function(e){e.__maxProgress>=e.__progress&&(this._furtherProgressive=!0)},this)},_doPaintEl:function(e,t,r,i){var a=t.ctx,h=e.transform;if((t.__dirty||r)&&!e.invisible&&0!==e.style.opacity&&(!h||h[0]||h[3])&&(!e.culling||!s(e,this._width,this._height))){var l=e.__clipPaths;(i.prevClipLayer!==t||n(l,i.prevElClipPaths))&&(i.prevElClipPaths&&(i.prevClipLayer.ctx.restore(),i.prevClipLayer=i.prevElClipPaths=null,i.prevEl=null),l&&(a.save(),o(l,a),i.prevClipLayer=t,i.prevElClipPaths=l)),e.beforeBrush&&e.beforeBrush(a),e.brush(a,i.prevEl||null),i.prevEl=e,e.afterBrush&&e.afterBrush(a)}},getLayer:function(e){if(this._singleCanvas)return this._layers[0];var t=this._layers[e];return t||((t=new c("zr_"+e,this,this.dpr)).__builtin__=!0,this._layerConfig[e]&&_.merge(t,this._layerConfig[e],!0),this.insertLayer(e,t),t.initContext()),t},insertLayer:function(e,r){var i=this._layers,s=this._zlevelList,n=s.length,o=null,a=-1,h=this._domRoot;if(i[e])u("ZLevel "+e+" has been used already");else if(t(r)){if(n>0&&e>s[0]){for(a=0;a<n-1&&!(s[a]<e&&s[a+1]>e);a++);o=i[s[a]]}if(s.splice(a+1,0,e),i[e]=r,!r.virtual)if(o){var l=o.dom;l.nextSibling?h.insertBefore(r.dom,l.nextSibling):h.appendChild(r.dom)}else h.firstChild?h.insertBefore(r.dom,h.firstChild):h.appendChild(r.dom)}else u("Layer of zlevel "+e+" is not valid")},eachLayer:function(e,t){var r,i,s=this._zlevelList;for(i=0;i<s.length;i++)r=s[i],e.call(t,this._layers[r],r)},eachBuiltinLayer:function(e,t){var r,i,s,n=this._zlevelList;for(s=0;s<n.length;s++)i=n[s],(r=this._layers[i]).__builtin__&&e.call(t,r,i)},eachOtherLayer:function(e,t){var r,i,s,n=this._zlevelList;for(s=0;s<n.length;s++)i=n[s],(r=this._layers[i]).__builtin__||e.call(t,r,i)},getLayers:function(){return this._layers},_updateLayerStatus:function(e){var t=this._layers,r=this._progressiveLayers,i={},s={};this.eachBuiltinLayer(function(e,t){i[t]=e.elCount,e.elCount=0,e.__dirty=!1}),_.each(r,function(e,t){s[t]=e.elCount,e.elCount=0,e.__dirty=!1});for(var n,o,a=0,h=0,l=0,u=e.length;l<u;l++){var f=e[l],v=t[this._singleCanvas?0:f.zlevel],g=f.progressive;if(v&&(v.elCount++,v.__dirty=v.__dirty||f.__dirty),g>=0){o!==g&&(o=g,h++);var d=f.__frame=h-1;if(!n){var y=Math.min(a,p-1);(n=r[y])||(n=r[y]=new c("progressive",this,this.dpr)).initContext(),n.__maxProgress=0}n.__dirty=n.__dirty||f.__dirty,n.elCount++,n.__maxProgress=Math.max(n.__maxProgress,d),n.__maxProgress>=n.__progress&&(v.__dirty=!0)}else f.__frame=-1,n&&(n.__nextIdxNotProg=l,a++,n=null)}n&&(a++,n.__nextIdxNotProg=l),this.eachBuiltinLayer(function(e,t){i[t]!==e.elCount&&(e.__dirty=!0)}),r.length=Math.min(a,p),_.each(r,function(e,t){s[t]!==e.elCount&&(f.__dirty=!0),e.__dirty&&(e.__progress=0)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(e){e.clear()},configLayer:function(e,t){if(t){var r=this._layerConfig;r[e]?_.merge(r[e],t,!0):r[e]=t;var i=this._layers[e];i&&_.merge(i,r[e],!0)}},delLayer:function(e){var t=this._layers,r=this._zlevelList,i=t[e];i&&(i.dom.parentNode.removeChild(i.dom),delete t[e],r.splice(_.indexOf(r,e),1))},resize:function(e,t){var r=this._domRoot;r.style.display="none";var i=this._opts;if(null!=e&&(i.width=e),null!=t&&(i.height=t),e=this._getSize(0),t=this._getSize(1),r.style.display="",this._width!=e||t!=this._height){r.style.width=e+"px",r.style.height=t+"px";for(var s in this._layers)this._layers.hasOwnProperty(s)&&this._layers[s].resize(e,t);_.each(this._progressiveLayers,function(r){r.resize(e,t)}),this.refresh(!0)}return this._width=e,this._height=t,this},clearLayer:function(e){var t=this._layers[e];t&&t.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(e){function t(e,t){var i=o._zlevelList;null==e&&(e=-1/0);for(var s,n=0;n<i.length;n++){var a=i[n],h=o._layers[a];if(!h.__builtin__&&a>e&&a<t){s=h;break}}s&&s.renderToCanvas&&(r.ctx.save(),s.renderToCanvas(r.ctx),r.ctx.restore())}if(e=e||{},this._singleCanvas)return this._layers[0].dom;var r=new c("image",this,e.pixelRatio||this.dpr);r.initContext(),r.clearColor=e.backgroundColor,r.clear();for(var i,s=this.storage.getDisplayList(!0),n={},o=this,a=0;a<s.length;a++){var h=s[a];h.zlevel!==i&&(t(i,h.zlevel),i=h.zlevel),this._doPaintEl(h,r,!0,n)}return t(i,1/0),r.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var r=this._opts,i=["width","height"][t],s=["clientWidth","clientHeight"][t],n=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=r[i]&&"auto"!==r[i])return parseFloat(r[i]);var a=this.root,h=document.defaultView.getComputedStyle(a);return(a[s]||e(h[i])||e(a.style[i]))-(e(h[n])||0)-(e(h[o])||0)|0},pathToImage:function(e,t){t=t||this.dpr;var r=document.createElement("canvas"),i=r.getContext("2d"),s=e.getBoundingRect(),n=e.style,o=n.shadowBlur,a=n.shadowOffsetX,h=n.shadowOffsetY,l=n.hasStroke()?n.lineWidth:0,_=Math.max(l/2,-a+o),u=Math.max(l/2,a+o),f=Math.max(l/2,-h+o),v=Math.max(l/2,h+o),c=s.width+_+u,g=s.height+f+v;r.width=c*t,r.height=g*t,i.scale(t,t),i.clearRect(0,0,c,g),i.dpr=t;var p={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[_-s.x,f-s.y],e.rotation=0,e.scale=[1,1],e.updateTransform(),e&&e.brush(i);var y=new d({style:{x:0,y:0,image:r}});return null!=p.position&&(y.position=e.position=p.position),null!=p.rotation&&(y.rotation=e.rotation=p.rotation),null!=p.scale&&(y.scale=e.scale=p.scale),y}};var C=L;module.exports=C;
},{"./core/util":113,"./core/timsort":251,"./config":427,"./Layer":428,"./core/log":416,"./core/BoundingRect":256,"./animation/requestAnimationFrame":429,"./graphic/Image":264}],344:[function(require,module,exports) {
function e(e){return e.getBoundingClientRect?e.getBoundingClientRect():{left:0,top:0}}function t(e,t,r,o){return r=r||{},o||!a.canvasSupported?n(e,t,r):a.browser.firefox&&null!=t.layerX&&t.layerX!==t.offsetX?(r.zrX=t.layerX,r.zrY=t.layerY):null!=t.offsetX?(r.zrX=t.offsetX,r.zrY=t.offsetY):n(e,t,r),r}function n(t,n,r){var o=e(t);r.zrX=n.clientX-o.left,r.zrY=n.clientY-o.top}function r(e,n,r){if(null!=(n=n||window.event).zrX)return n;var o=n.type;if(o&&o.indexOf("touch")>=0){var i="touchend"!=o?n.targetTouches[0]:n.changedTouches[0];i&&t(e,i,n,r)}else t(e,n,n,r),n.zrDelta=n.wheelDelta?n.wheelDelta/120:-(n.detail||0)/3;var u=n.button;return null==n.which&&void 0!==u&&f.test(n.type)&&(n.which=1&u?1:2&u?3:4&u?2:0),n}function o(e,t,n){c?e.addEventListener(t,n):e.attachEvent("on"+t,n)}function i(e,t,n){c?e.removeEventListener(t,n):e.detachEvent("on"+t,n)}function u(e){return e.which>1}var l=require("../mixin/Eventful");exports.Dispatcher=l;var a=require("./env"),c="undefined"!=typeof window&&!!window.addEventListener,f=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,s=c?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0};exports.clientToLocal=t,exports.normalizeEvent=r,exports.addEventListener=o,exports.removeEventListener=i,exports.stop=s,exports.notLeftMouse=u;
},{"./env":115,"../mixin/Eventful":250}],311:[function(require,module,exports) {
var t=require("../core/util"),i=require("../core/event"),e=i.Dispatcher,s=require("./requestAnimationFrame"),n=require("./Animator"),a=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,e.call(this)};a.prototype={constructor:a,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var i=t.getClips(),e=0;e<i.length;e++)this.addClip(i[e])},removeClip:function(i){var e=t.indexOf(this._clips,i);e>=0&&this._clips.splice(e,1)},removeAnimator:function(t){for(var i=t.getClips(),e=0;e<i.length;e++)this.removeClip(i[e]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,i=t-this._time,e=this._clips,s=e.length,n=[],a=[],r=0;r<s;r++){var u=e[r],o=u.step(t,i);o&&(n.push(o),a.push(u))}for(r=0;r<s;)e[r]._needsRemove?(e[r]=e[s-1],e.pop(),s--):r++;s=n.length;for(r=0;r<s;r++)a[r].fire(n[r]);this._time=t,this.onframe(i),this.trigger("frame",i),this.stage.update&&this.stage.update()},_startLoop:function(){function t(){i._running&&(s(t),!i._paused&&i._update())}var i=this;this._running=!0,s(t)},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},animate:function(t,i){var e=new n(t,(i=i||{}).loop,i.getter,i.setter);return this.addAnimator(e),e}},t.mixin(a,e);var r=a;module.exports=r;
},{"../core/util":113,"../core/event":344,"./requestAnimationFrame":429,"./Animator":434}],435:[function(require,module,exports) {
function t(t){var r=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(r*r+n*n)}function r(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var n=require("./event"),e=function(){this._track=[]};e.prototype={constructor:e,recognize:function(t,r,n){return this._doTrack(t,r,n),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,r,e){var i=t.touches;if(i){for(var c={points:[],touches:[],target:r,event:t},o=0,a=i.length;o<a;o++){var h=i[o],u=n.clientToLocal(e,h,{});c.points.push([u.zrX,u.zrY]),c.touches.push(h)}this._track.push(c)}},_recognize:function(t){for(var r in i)if(i.hasOwnProperty(r)){var n=i[r](this._track,t);if(n)return n}}};var i={pinch:function(n,e){var i=n.length;if(i){var c=(n[i-1]||{}).points,o=(n[i-2]||{}).points||c;if(o&&o.length>1&&c&&c.length>1){var a=t(c)/t(o);!isFinite(a)&&(a=1),e.pinchScale=a;var h=r(c);return e.pinchX=h[0],e.pinchY=h[1],{type:"pinch",target:n[0].target,event:e}}}}},c=e;module.exports=c;
},{"./event":344}],312:[function(require,module,exports) {
function e(e){return"mousewheel"===e&&l.browser.firefox?"DOMMouseScroll":e}function t(e,t,o){var n=e._gestureMgr;"start"===o&&n.clear();var i=n.recognize(t,e.handler.findHover(t.zrX,t.zrY,null).target,e.dom);if("end"===o&&n.clear(),i){var r=i.type;t.gestureEvent=r,e.handler.dispatchToElement({target:i.target},r,i.event)}}function o(e){e._touching=!0,clearTimeout(e._touchTimer),e._touchTimer=setTimeout(function(){e._touching=!1},700)}function n(e){var t=e.pointerType;return"pen"===t||"touch"===t}function i(e){m.each(v,function(t){e._handlers[t]=m.bind(T[t],e)}),m.each(_,function(t){e._handlers[t]=m.bind(T[t],e)}),m.each(p,function(t){e._handlers[t]=function(e,t){return function(){if(!t._touching)return e.apply(t,arguments)}}(T[t],e)})}function r(t){function o(o,n){m.each(o,function(o){s(t,e(o),n._handlers[o])},n)}a.call(this),this.dom=t,this._touching=!1,this._touchTimer,this._gestureMgr=new d,this._handlers={},i(this),l.pointerEventsSupported?o(_,this):(l.touchEventsSupported&&o(v,this),o(p,this))}var u=require("../core/event"),s=u.addEventListener,c=u.removeEventListener,h=u.normalizeEvent,m=require("../core/util"),a=require("../mixin/Eventful"),l=require("../core/env"),d=require("../core/GestureMgr"),f=300,p=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],v=["touchstart","touchend","touchmove"],g={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},_=m.map(p,function(e){var t=e.replace("mouse","pointer");return g[t]?t:e}),T={mousemove:function(e){e=h(this.dom,e),this.trigger("mousemove",e)},mouseout:function(e){var t=(e=h(this.dom,e)).toElement||e.relatedTarget;if(t!=this.dom)for(;t&&9!=t.nodeType;){if(t===this.dom)return;t=t.parentNode}this.trigger("mouseout",e)},touchstart:function(e){(e=h(this.dom,e)).zrByTouch=!0,this._lastTouchMoment=new Date,t(this,e,"start"),T.mousemove.call(this,e),T.mousedown.call(this,e),o(this)},touchmove:function(e){(e=h(this.dom,e)).zrByTouch=!0,t(this,e,"change"),T.mousemove.call(this,e),o(this)},touchend:function(e){(e=h(this.dom,e)).zrByTouch=!0,t(this,e,"end"),T.mouseup.call(this,e),+new Date-this._lastTouchMoment<f&&T.click.call(this,e),o(this)},pointerdown:function(e){T.mousedown.call(this,e)},pointermove:function(e){n(e)||T.mousemove.call(this,e)},pointerup:function(e){T.mouseup.call(this,e)},pointerout:function(e){n(e)||T.mouseout.call(this,e)}};m.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){T[e]=function(t){t=h(this.dom,t),this.trigger(e,t)}});var w=r.prototype;w.dispose=function(){for(var t=p.concat(v),o=0;o<t.length;o++){var n=t[o];c(this.dom,e(n),this._handlers[n])}},w.setCursor=function(e){this.dom.style.cursor=e||"default"},m.mixin(r,a);var y=r;module.exports=y;
},{"../core/event":344,"../core/util":113,"../mixin/Eventful":250,"../core/env":115,"../core/GestureMgr":435}],110:[function(require,module,exports) {
function e(e,r){var t=new m(s(),e,r);return p[t.id]=t,t}function r(e){if(e)e.dispose();else{for(var r in p)p.hasOwnProperty(r)&&p[r].dispose();p={}}return this}function t(e){return p[e]}function i(e,r){v[e]=r}function n(e){delete p[e]}var s=require("./core/guid"),o=require("./core/env"),h=require("./core/util"),a=require("./Handler"),d=require("./Storage"),f=require("./Painter"),u=require("./animation/Animation"),c=require("./dom/HandlerProxy"),l=!o.canvasSupported,v={canvas:f},p={},g="3.7.4",m=function(e,r,t){t=t||{},this.dom=r,this.id=e;var i=this,n=new d,s=t.renderer;if(l){if(!v.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");s="vml"}else s&&v[s]||(s="canvas");var f=new v[s](r,n,t);this.storage=n,this.painter=f;var p=o.node?null:new c(f.getViewportRoot());this.handler=new a(n,f,p,f.root),this.animation=new u({stage:{update:h.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var g=n.delFromStorage,m=n.addToStorage;n.delFromStorage=function(e){g.call(n,e),e&&e.removeSelfFromZr(i)},n.addToStorage=function(e){m.call(n,e),e.addSelfToZr(i)}};m.prototype={constructor:m,getId:function(){return this.id},add:function(e){this.storage.addRoot(e),this._needsRefresh=!0},remove:function(e){this.storage.delRoot(e),this._needsRefresh=!0},configLayer:function(e,r){this.painter.configLayer(e,r),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){this._needsRefresh&&this.refreshImmediately(),this._needsRefreshHover&&this.refreshHoverImmediately()},addHover:function(e,r){this.painter.addHover&&(this.painter.addHover(e,r),this.refreshHover())},removeHover:function(e){this.painter.removeHover&&(this.painter.removeHover(e),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(e,r){return this.painter.pathToImage(e,r)},setCursorStyle:function(e){this.handler.setCursorStyle(e)},findHover:function(e,r){return this.handler.findHover(e,r)},on:function(e,r,t){this.handler.on(e,r,t)},off:function(e,r){this.handler.off(e,r)},trigger:function(e,r){this.handler.trigger(e,r)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,n(this.id)}},exports.version=g,exports.init=e,exports.dispose=r,exports.getInstance=t,exports.registerPainter=i;
},{"./Handler":307,"./Storage":308,"./Painter":309,"./core/guid":310,"./core/env":115,"./core/util":113,"./animation/Animation":311,"./dom/HandlerProxy":312}],460:[function(require,module,exports) {
function r(r,e,n,t,u,f){if(f>e&&f>t||f<e&&f<t)return 0;if(t===e)return 0;var i=t<e?1:-1,o=(f-e)/(t-e);1!==o&&0!==o||(i=t<e?.5:-.5);return o*(n-r)+r>u?i:0}module.exports=r;
},{}],454:[function(require,module,exports) {
function r(r,t,n,e,a,i,u){if(0===a)return!1;var f=a,o=0;if(u>t+f&&u>e+f||u<t-f&&u<e-f||i>r+f&&i>n+f||i<r-f&&i<n-f)return!1;if(r===n)return Math.abs(i-r)<=f/2;var c=(o=(t-e)/(r-n))*i-u+(r*e-n*t)/(r-n);return c*c/(o*o+1)<=f/2*f/2}exports.containStroke=r;
},{}],415:[function(require,module,exports) {
function r(r){return r>-A&&r<A}function t(r){return r>A||r<-A}function e(r,t,e,i,a){var n=1-a;return n*n*(n*r+3*a*t)+a*a*(a*i+3*n*e)}function i(r,t,e,i,a){var n=1-a;return 3*(((t-r)*n+2*(e-t)*a)*n+(i-e)*a*a)}function a(t,e,i,a,n,u){var o=a+3*(e-i)-t,c=3*(i-2*e+t),v=3*(e-t),f=t-n,s=c*c-3*o*v,x=c*v-9*o*f,p=v*v-3*c*f,d=0;if(r(s)&&r(x))if(r(c))u[0]=0;else{(g=-v/c)>=0&&g<=1&&(u[d++]=g)}else{var l=x*x-4*s*p;if(r(l)){var q=x/s,A=-q/2;(g=-c/o+q)>=0&&g<=1&&(u[d++]=g),A>=0&&A<=1&&(u[d++]=A)}else if(l>0){var M=h(l),S=s*c+1.5*o*(-x+M),j=s*c+1.5*o*(-x-M);(g=(-c-((S=S<0?-b(-S,m):b(S,m))+(j=j<0?-b(-j,m):b(j,m))))/(3*o))>=0&&g<=1&&(u[d++]=g)}else{var D=(2*s*c-3*o*x)/(2*h(s*s*s)),E=Math.acos(D)/3,R=h(s),w=Math.cos(E),g=(-c-2*R*w)/(3*o),k=(A=(-c+R*(w+P*Math.sin(E)))/(3*o),(-c+R*(w-P*Math.sin(E)))/(3*o));g>=0&&g<=1&&(u[d++]=g),A>=0&&A<=1&&(u[d++]=A),k>=0&&k<=1&&(u[d++]=k)}}return d}function n(e,i,a,n,u){var o=6*a-12*i+6*e,c=9*i+3*n-3*e-9*a,v=3*i-3*e,f=0;if(r(c)){if(t(o)){(x=-v/o)>=0&&x<=1&&(u[f++]=x)}}else{var s=o*o-4*c*v;if(r(s))u[0]=-o/(2*c);else if(s>0){var x,p=h(s),d=(-o-p)/(2*c);(x=(-o+p)/(2*c))>=0&&x<=1&&(u[f++]=x),d>=0&&d<=1&&(u[f++]=d)}}return f}function u(r,t,e,i,a,n){var u=(t-r)*a+r,o=(e-t)*a+t,c=(i-e)*a+e,v=(o-u)*a+u,f=(c-o)*a+o,s=(f-v)*a+v;n[0]=r,n[1]=u,n[2]=v,n[3]=s,n[4]=s,n[5]=f,n[6]=c,n[7]=i}function o(r,t,i,a,n,u,o,c,v,f,s){var x,p,d,l,b,A=.005,P=1/0;S[0]=v,S[1]=f;for(var m=0;m<1;m+=.05)j[0]=e(r,i,n,o,m),j[1]=e(t,a,u,c,m),(l=q(S,j))<P&&(x=m,P=l);P=1/0;for(var E=0;E<32&&!(A<M);E++)p=x-A,d=x+A,j[0]=e(r,i,n,o,p),j[1]=e(t,a,u,c,p),l=q(j,S),p>=0&&l<P?(x=p,P=l):(D[0]=e(r,i,n,o,d),D[1]=e(t,a,u,c,d),b=q(D,S),d<=1&&b<P?(x=d,P=b):A*=.5);return s&&(s[0]=e(r,i,n,o,x),s[1]=e(t,a,u,c,x)),h(P)}function c(r,t,e,i){var a=1-i;return a*(a*r+2*i*t)+i*i*e}function v(r,t,e,i){return 2*((1-i)*(t-r)+i*(e-t))}function f(e,i,a,n,u){var o=e-2*i+a,c=2*(i-e),v=e-n,f=0;if(r(o)){if(t(c)){(x=-v/c)>=0&&x<=1&&(u[f++]=x)}}else{var s=c*c-4*o*v;if(r(s)){(x=-c/(2*o))>=0&&x<=1&&(u[f++]=x)}else if(s>0){var x,p=h(s),d=(-c-p)/(2*o);(x=(-c+p)/(2*o))>=0&&x<=1&&(u[f++]=x),d>=0&&d<=1&&(u[f++]=d)}}return f}function s(r,t,e){var i=r+e-2*t;return 0===i?.5:(r-t)/i}function x(r,t,e,i,a){var n=(t-r)*i+r,u=(e-t)*i+t,o=(u-n)*i+n;a[0]=r,a[1]=n,a[2]=o,a[3]=o,a[4]=u,a[5]=e}function p(r,t,e,i,a,n,u,o,v){var f,s=.005,x=1/0;S[0]=u,S[1]=o;for(var p=0;p<1;p+=.05){j[0]=c(r,e,a,p),j[1]=c(t,i,n,p);(A=q(S,j))<x&&(f=p,x=A)}x=1/0;for(var d=0;d<32&&!(s<M);d++){var l=f-s,b=f+s;j[0]=c(r,e,a,l),j[1]=c(t,i,n,l);var A=q(j,S);if(l>=0&&A<x)f=l,x=A;else{D[0]=c(r,e,a,b),D[1]=c(t,i,n,b);var P=q(D,S);b<=1&&P<x?(f=b,x=P):s*=.5}}return v&&(v[0]=c(r,e,a,f),v[1]=c(t,i,n,f)),h(x)}var d=require("./vector"),l=d.create,q=d.distSquare,b=Math.pow,h=Math.sqrt,A=1e-8,M=1e-4,P=h(3),m=1/3,S=l(),j=l(),D=l();exports.cubicAt=e,exports.cubicDerivativeAt=i,exports.cubicRootAt=a,exports.cubicExtrema=n,exports.cubicSubdivide=u,exports.cubicProjectPoint=o,exports.quadraticAt=c,exports.quadraticDerivativeAt=v,exports.quadraticRootAt=f,exports.quadraticExtremum=s,exports.quadraticSubdivide=x,exports.quadraticProjectPoint=p;
},{"./vector":112}],391:[function(require,module,exports) {
function r(r,t,a){if(0!==r.length){var e,o=r[0],i=o[0],c=o[0],u=o[1],m=o[1];for(e=1;e<r.length;e++)o=r[e],i=n(i,o[0]),c=f(c,o[0]),u=n(u,o[1]),m=f(m,o[1]);t[0]=i,t[1]=u,a[0]=c,a[1]=m}}function t(r,t,a,e,o,i){o[0]=n(r,a),o[1]=n(t,e),i[0]=f(r,a),i[1]=f(t,e)}function a(r,t,a,e,o,i,u,m,v,h){var s,x=c.cubicExtrema,b=c.cubicAt,d=x(r,a,o,u,M);for(v[0]=1/0,v[1]=1/0,h[0]=-1/0,h[1]=-1/0,s=0;s<d;s++){var q=b(r,a,o,u,M[s]);v[0]=n(q,v[0]),h[0]=f(q,h[0])}for(d=x(t,e,i,m,p),s=0;s<d;s++){var A=b(t,e,i,m,p[s]);v[1]=n(A,v[1]),h[1]=f(A,h[1])}v[0]=n(r,v[0]),h[0]=f(r,h[0]),v[0]=n(u,v[0]),h[0]=f(u,h[0]),v[1]=n(t,v[1]),h[1]=f(t,h[1]),v[1]=n(m,v[1]),h[1]=f(m,h[1])}function e(r,t,a,e,o,i,u,m){var v=c.quadraticExtremum,h=c.quadraticAt,s=f(n(v(r,a,o),1),0),x=f(n(v(t,e,i),1),0),M=h(r,a,o,s),p=h(t,e,i,x);u[0]=n(r,o,M),u[1]=n(t,i,p),m[0]=f(r,o,M),m[1]=f(t,i,p)}function o(r,t,a,e,o,c,n,f,M){var p=i.min,b=i.max,d=Math.abs(o-c);if(d%v<1e-4&&d>1e-4)return f[0]=r-a,f[1]=t-e,M[0]=r+a,void(M[1]=t+e);if(h[0]=m(o)*a+r,h[1]=u(o)*e+t,s[0]=m(c)*a+r,s[1]=u(c)*e+t,p(f,h,s),b(M,h,s),(o%=v)<0&&(o+=v),(c%=v)<0&&(c+=v),o>c&&!n?c+=v:o<c&&n&&(o+=v),n){var q=c;c=o,o=q}for(var A=0;A<c;A+=Math.PI/2)A>o&&(x[0]=m(A)*a+r,x[1]=u(A)*e+t,p(f,x,f),b(M,x,M))}var i=require("./vector"),c=require("./curve"),n=Math.min,f=Math.max,u=Math.sin,m=Math.cos,v=2*Math.PI,h=i.create(),s=i.create(),x=i.create(),M=[],p=[];exports.fromPoints=r,exports.fromLine=t,exports.fromCubic=a,exports.fromQuadratic=e,exports.fromArc=o;
},{"./vector":112,"./curve":415}],402:[function(require,module,exports) {
var t=require("./curve"),i=require("./vector"),a=require("./bbox"),s=require("./BoundingRect"),e=require("../config"),h=e.devicePixelRatio,n={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},r=[],o=[],_=[],c=[],d=Math.min,u=Math.max,f=Math.cos,l=Math.sin,x=Math.sqrt,v=Math.abs,D="undefined"!=typeof Float32Array,y=function(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null};y.prototype={constructor:y,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,i){this._ux=v(1/h/t)||0,this._uy=v(1/h/i)||0},getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,i){return this.addData(n.M,t,i),this._ctx&&this._ctx.moveTo(t,i),this._x0=t,this._y0=i,this._xi=t,this._yi=i,this},lineTo:function(t,i){var a=v(t-this._xi)>this._ux||v(i-this._yi)>this._uy||this._len<5;return this.addData(n.L,t,i),this._ctx&&a&&(this._needsDash()?this._dashedLineTo(t,i):this._ctx.lineTo(t,i)),a&&(this._xi=t,this._yi=i),this},bezierCurveTo:function(t,i,a,s,e,h){return this.addData(n.C,t,i,a,s,e,h),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,i,a,s,e,h):this._ctx.bezierCurveTo(t,i,a,s,e,h)),this._xi=e,this._yi=h,this},quadraticCurveTo:function(t,i,a,s){return this.addData(n.Q,t,i,a,s),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,i,a,s):this._ctx.quadraticCurveTo(t,i,a,s)),this._xi=a,this._yi=s,this},arc:function(t,i,a,s,e,h){return this.addData(n.A,t,i,a,a,s,e-s,0,h?0:1),this._ctx&&this._ctx.arc(t,i,a,s,e,h),this._xi=f(e)*a+t,this._yi=l(e)*a+t,this},arcTo:function(t,i,a,s,e){return this._ctx&&this._ctx.arcTo(t,i,a,s,e),this},rect:function(t,i,a,s){return this._ctx&&this._ctx.rect(t,i,a,s),this.addData(n.R,t,i,a,s),this},closePath:function(){this.addData(n.Z);var t=this._ctx,i=this._x0,a=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(i,a),t.closePath()),this._xi=i,this._yi=a,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var i=0,a=0;a<t.length;a++)i+=t[a];this._dashSum=i}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var i=t.length;this.data&&this.data.length==i||!D||(this.data=new Float32Array(i));for(var a=0;a<i;a++)this.data[a]=t[a];this._len=i},appendPath:function(t){t instanceof Array||(t=[t]);for(var i=t.length,a=0,s=this._len,e=0;e<i;e++)a+=t[e].len();D&&this.data instanceof Float32Array&&(this.data=new Float32Array(s+a));for(e=0;e<i;e++)for(var h=t[e].data,n=0;n<h.length;n++)this.data[s++]=h[n];this._len=s},addData:function(t){if(this._saveData){var i=this.data;this._len+arguments.length>i.length&&(this._expandData(),i=this.data);for(var a=0;a<arguments.length;a++)i[this._len++]=arguments[a];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],i=0;i<this._len;i++)t[i]=this.data[i];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,i){var a,s,e=this._dashSum,h=this._dashOffset,n=this._lineDash,r=this._ctx,o=this._xi,_=this._yi,c=t-o,f=i-_,l=x(c*c+f*f),v=o,D=_,y=n.length;for(c/=l,f/=l,h<0&&(h=e+h),v-=(h%=e)*c,D-=h*f;c>0&&v<=t||c<0&&v>=t||0==c&&(f>0&&D<=i||f<0&&D>=i);)v+=c*(a=n[s=this._dashIdx]),D+=f*a,this._dashIdx=(s+1)%y,c>0&&v<o||c<0&&v>o||f>0&&D<_||f<0&&D>_||r[s%2?"moveTo":"lineTo"](c>=0?d(v,t):u(v,t),f>=0?d(D,i):u(D,i));c=v-t,f=D-i,this._dashOffset=-x(c*c+f*f)},_dashedBezierTo:function(i,a,s,e,h,n){var r,o,_,c,d,u=this._dashSum,f=this._dashOffset,l=this._lineDash,v=this._ctx,D=this._xi,y=this._yi,T=t.cubicAt,b=0,m=this._dashIdx,g=l.length,A=0;for(f<0&&(f=u+f),f%=u,r=0;r<1;r+=.1)o=T(D,i,s,h,r+.1)-T(D,i,s,h,r),_=T(y,a,e,n,r+.1)-T(y,a,e,n,r),b+=x(o*o+_*_);for(;m<g&&!((A+=l[m])>f);m++);for(r=(A-f)/b;r<=1;)c=T(D,i,s,h,r),d=T(y,a,e,n,r),m%2?v.moveTo(c,d):v.lineTo(c,d),r+=l[m]/b,m=(m+1)%g;m%2!=0&&v.lineTo(h,n),o=h-c,_=n-d,this._dashOffset=-x(o*o+_*_)},_dashedQuadraticTo:function(t,i,a,s){var e=a,h=s;a=(a+2*t)/3,s=(s+2*i)/3,t=(this._xi+2*t)/3,i=(this._yi+2*i)/3,this._dashedBezierTo(t,i,a,s,e,h)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,D&&(this.data=new Float32Array(t)))},getBoundingRect:function(){r[0]=r[1]=_[0]=_[1]=Number.MAX_VALUE,o[0]=o[1]=c[0]=c[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,h=0,d=0,u=0,x=0;x<t.length;){var v=t[x++];switch(1==x&&(d=e=t[x],u=h=t[x+1]),v){case n.M:e=d=t[x++],h=u=t[x++],_[0]=d,_[1]=u,c[0]=d,c[1]=u;break;case n.L:a.fromLine(e,h,t[x],t[x+1],_,c),e=t[x++],h=t[x++];break;case n.C:a.fromCubic(e,h,t[x++],t[x++],t[x++],t[x++],t[x],t[x+1],_,c),e=t[x++],h=t[x++];break;case n.Q:a.fromQuadratic(e,h,t[x++],t[x++],t[x],t[x+1],_,c),e=t[x++],h=t[x++];break;case n.A:var D=t[x++],y=t[x++],T=t[x++],b=t[x++],m=t[x++],g=t[x++]+m,A=(t[x++],1-t[x++]);1==x&&(d=f(m)*T+D,u=l(m)*b+y),a.fromArc(D,y,T,b,m,g,A,_,c),e=f(g)*T+D,h=l(g)*b+y;break;case n.R:d=e=t[x++],u=h=t[x++];var k=t[x++],C=t[x++];a.fromLine(d,u,d+k,u+C,_,c);break;case n.Z:e=d,h=u}i.min(r,r,_),i.max(o,o,c)}return 0===x&&(r[0]=r[1]=o[0]=o[1]=0),new s(r[0],r[1],o[0]-r[0],o[1]-r[1])},rebuildPath:function(t){for(var i,a,s,e,h,r,o=this.data,_=this._ux,c=this._uy,d=this._len,u=0;u<d;){var x=o[u++];switch(1==u&&(i=s=o[u],a=e=o[u+1]),x){case n.M:i=s=o[u++],a=e=o[u++],t.moveTo(s,e);break;case n.L:h=o[u++],r=o[u++],(v(h-s)>_||v(r-e)>c||u===d-1)&&(t.lineTo(h,r),s=h,e=r);break;case n.C:t.bezierCurveTo(o[u++],o[u++],o[u++],o[u++],o[u++],o[u++]),s=o[u-2],e=o[u-1];break;case n.Q:t.quadraticCurveTo(o[u++],o[u++],o[u++],o[u++]),s=o[u-2],e=o[u-1];break;case n.A:var D=o[u++],y=o[u++],T=o[u++],b=o[u++],m=o[u++],g=o[u++],A=o[u++],k=o[u++],C=T>b?T:b,M=T>b?1:T/b,L=T>b?b/T:1,p=m+g;Math.abs(T-b)>.001?(t.translate(D,y),t.rotate(A),t.scale(M,L),t.arc(0,0,C,m,p,1-k),t.scale(1/M,1/L),t.rotate(-A),t.translate(-D,-y)):t.arc(D,y,C,m,p,1-k),1==u&&(i=f(m)*T+D,a=l(m)*b+y),s=f(p)*T+D,e=l(p)*b+y;break;case n.R:i=s=o[u],a=e=o[u+1],t.rect(o[u++],o[u++],o[u++],o[u++]);break;case n.Z:t.closePath(),s=i,e=a}}}},y.CMD=n;var T=y;module.exports=T;
},{"./curve":415,"./vector":112,"../config":427,"./bbox":391,"./BoundingRect":256}],461:[function(require,module,exports) {
function r(r,n,t,u,c,i,o,a,f,v,l){if(0===f)return!1;var P=f;if(l>n+P&&l>u+P&&l>i+P&&l>a+P||l<n-P&&l<u-P&&l<i-P&&l<a-P||v>r+P&&v>t+P&&v>c+P&&v>o+P||v<r-P&&v<t-P&&v<c-P&&v<o-P)return!1;return e.cubicProjectPoint(r,n,t,u,c,i,o,a,v,l,null)<=P/2}var e=require("../core/curve");exports.containStroke=r;
},{"../core/curve":415}],455:[function(require,module,exports) {
function r(r,e,n,u,i,o,c,a,f){if(0===c)return!1;var v=c;if(f>e+v&&f>u+v&&f>o+v||f<e-v&&f<u-v&&f<o-v||a>r+v&&a>n+v&&a>i+v||a<r-v&&a<n-v&&a<i-v)return!1;return t(r,e,n,u,i,o,a,f,null)<=v/2}var e=require("../core/curve"),t=e.quadraticProjectPoint;exports.containStroke=r;
},{"../core/curve":415}],463:[function(require,module,exports) {
function a(a){return(a%=n)<0&&(a+=n),a}var n=2*Math.PI;exports.normalizeRadian=a;
},{}],462:[function(require,module,exports) {
function r(r,a,n,i,u,f,o,v,h){if(0===o)return!1;var s=o;v-=r,h-=a;var M=Math.sqrt(v*v+h*h);if(M-s>n||M+s<n)return!1;if(Math.abs(i-u)%e<1e-4)return!0;if(f){var l=i;i=t(u),u=t(l)}else i=t(i),u=t(u);i>u&&(u+=e);var c=Math.atan2(h,v);return c<0&&(c+=e),c>=i&&c<=u||c+e>=i&&c+e<=u}var a=require("./util"),t=a.normalizeRadian,e=2*Math.PI;exports.containStroke=r;
},{"./util":463}],408:[function(require,module,exports) {
function r(r,e){return Math.abs(r-e)<A}function e(){var r=x[0];x[0]=x[1],x[1]=r}function t(r,t,a,i,n,u,c,o,f,s){if(s>t&&s>i&&s>u&&s>o||s<t&&s<i&&s<u&&s<o)return 0;var v=h.cubicRootAt(t,i,u,o,s,d);if(0===v)return 0;for(var k,q,b=0,M=-1,l=0;l<v;l++){var S=d[l],A=0===S||1===S?.5:1;h.cubicAt(r,a,n,c,S)<f||(M<0&&(M=h.cubicExtrema(t,i,u,o,x),x[1]<x[0]&&M>1&&e(),k=h.cubicAt(t,i,u,o,x[0]),M>1&&(q=h.cubicAt(t,i,u,o,x[1]))),2==M?S<x[0]?b+=k<t?A:-A:S<x[1]?b+=q<k?A:-A:b+=o<q?A:-A:S<x[0]?b+=k<t?A:-A:b+=o<k?A:-A)}return b}function a(r,e,t,a,i,n,u,c){if(c>e&&c>a&&c>n||c<e&&c<a&&c<n)return 0;var o=h.quadraticRootAt(e,a,n,c,d);if(0===o)return 0;var f=h.quadraticExtremum(e,a,n);if(f>=0&&f<=1){for(var s=0,v=h.quadraticAt(e,a,n,f),k=0;k<o;k++){var q=0===d[k]||1===d[k]?.5:1;h.quadraticAt(r,t,i,d[k])<u||(d[k]<f?s+=v<e?q:-q:s+=n<v?q:-q)}return s}q=0===d[0]||1===d[0]?.5:1;return h.quadraticAt(r,t,i,d[0])<u?0:n<e?q:-q}function i(r,e,t,a,i,n,u,c){if((c-=e)>t||c<-t)return 0;var o=Math.sqrt(t*t-c*c);d[0]=-o,d[1]=o;var f=Math.abs(a-i);if(f<1e-4)return 0;if(f%S<1e-4){a=0,i=S;var s=n?1:-1;return u>=d[0]+r&&u<=d[1]+r?s:0}if(n){o=a;a=b(i),i=b(o)}else a=b(a),i=b(i);a>i&&(i+=S);for(var v=0,k=0;k<2;k++){var q=d[k];if(q+r>u){var h=Math.atan2(c,q);s=n?1:-1;h<0&&(h=S+h),(h>=a&&h<=i||h+S>=a&&h+S<=i)&&(h>Math.PI/2&&h<1.5*Math.PI&&(s=-s),v+=s)}}return v}function n(e,n,u,c,o){for(var q=0,b=0,h=0,S=0,A=0,d=0;d<e.length;){var x=e[d++];switch(x===l.M&&d>1&&(u||(q+=M(b,h,S,A,c,o))),1==d&&(S=b=e[d],A=h=e[d+1]),x){case l.M:b=S=e[d++],h=A=e[d++];break;case l.L:if(u){if(f.containStroke(b,h,e[d],e[d+1],n,c,o))return!0}else q+=M(b,h,e[d],e[d+1],c,o)||0;b=e[d++],h=e[d++];break;case l.C:if(u){if(s.containStroke(b,h,e[d++],e[d++],e[d++],e[d++],e[d],e[d+1],n,c,o))return!0}else q+=t(b,h,e[d++],e[d++],e[d++],e[d++],e[d],e[d+1],c,o)||0;b=e[d++],h=e[d++];break;case l.Q:if(u){if(v.containStroke(b,h,e[d++],e[d++],e[d],e[d+1],n,c,o))return!0}else q+=a(b,h,e[d++],e[d++],e[d],e[d+1],c,o)||0;b=e[d++],h=e[d++];break;case l.A:var P=e[d++],m=e[d++],R=e[d++],I=e[d++],g=e[d++],p=e[d++],w=(e[d++],1-e[d++]),C=Math.cos(g)*R+P,E=Math.sin(g)*I+m;d>1?q+=M(b,h,C,E,c,o):(S=C,A=E);var L=(c-P)*I/R+P;if(u){if(k.containStroke(P,m,I,g,g+p,w,n,L,o))return!0}else q+=i(P,m,I,g,g+p,w,L,o);b=Math.cos(g+p)*R+P,h=Math.sin(g+p)*I+m;break;case l.R:S=b=e[d++],A=h=e[d++];C=S+e[d++],E=A+e[d++];if(u){if(f.containStroke(S,A,C,A,n,c,o)||f.containStroke(C,A,C,E,n,c,o)||f.containStroke(C,E,S,E,n,c,o)||f.containStroke(S,E,S,A,n,c,o))return!0}else q+=M(C,A,C,E,c,o),q+=M(S,E,S,A,c,o);break;case l.Z:if(u){if(f.containStroke(b,h,S,A,n,c,o))return!0}else q+=M(b,h,S,A,c,o);b=S,h=A}}return u||r(h,A)||(q+=M(b,h,S,A,c,o)||0),0!==q}function u(r,e,t){return n(r,0,!1,e,t)}function c(r,e,t,a){return n(r,e,!0,t,a)}var o=require("../core/PathProxy"),f=require("./line"),s=require("./cubic"),v=require("./quadratic"),k=require("./arc"),q=require("./util"),b=q.normalizeRadian,h=require("../core/curve"),M=require("./windingLine"),l=o.CMD,S=2*Math.PI,A=1e-4,d=[-1,-1,-1],x=[-1,-1];exports.contain=u,exports.containStroke=c;
},{"./windingLine":460,"./line":454,"../core/PathProxy":402,"./cubic":461,"./quadratic":455,"./arc":462,"./util":463,"../core/curve":415}],263:[function(require,module,exports) {
function t(t){i.call(this,t),this.path=null}var i=require("./Displayable"),e=require("../core/util"),s=require("../core/PathProxy"),r=require("../contain/path"),h=require("./Pattern"),a=h.prototype.getCanvasPattern,n=Math.abs,o=new s(!0);t.prototype={constructor:t,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(t,i){var e=this.style,s=this.path||o,r=e.hasStroke(),h=e.hasFill(),n=e.fill,l=e.stroke,c=h&&!!n.colorStops,u=r&&!!l.colorStops,f=h&&!!n.image,p=r&&!!l.image;if(e.bind(t,this,i),this.setTransform(t),this.__dirty){var d;c&&(d=d||this.getBoundingRect(),this._fillGradient=e.getGradient(t,n,d)),u&&(d=d||this.getBoundingRect(),this._strokeGradient=e.getGradient(t,l,d))}c?t.fillStyle=this._fillGradient:f&&(t.fillStyle=a.call(n,t)),u?t.strokeStyle=this._strokeGradient:p&&(t.strokeStyle=a.call(l,t));var y=e.lineDash,_=e.lineDashOffset,g=!!t.setLineDash,P=this.getGlobalScale();s.setScale(P[0],P[1]),this.__dirtyPath||y&&!g&&r?(s.beginPath(t),y&&!g&&(s.setLineDash(y),s.setLineDashOffset(_)),this.buildPath(s,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),h&&s.fill(t),y&&g&&(t.setLineDash(y),t.lineDashOffset=_),r&&s.stroke(t),y&&g&&t.setLineDash([]),this.restoreTransform(t),null!=e.text&&this.drawRectText(t,this.getBoundingRect())},buildPath:function(t,i,e){},createPathProxy:function(){this.path=new s},getBoundingRect:function(){var t=this._rect,i=this.style,e=!t;if(e){var r=this.path;r||(r=this.path=new s),this.__dirtyPath&&(r.beginPath(),this.buildPath(r,this.shape,!1)),t=r.getBoundingRect()}if(this._rect=t,i.hasStroke()){var h=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||e){h.copy(t);var a=i.lineWidth,n=i.strokeNoScale?this.getLineScale():1;i.hasFill()||(a=Math.max(a,this.strokeContainThreshold||4)),n>1e-10&&(h.width+=a/n,h.height+=a/n,h.x-=a/n/2,h.y-=a/n/2)}return h}return t},contain:function(t,i){var e=this.transformCoordToLocal(t,i),s=this.getBoundingRect(),h=this.style;if(t=e[0],i=e[1],s.contain(t,i)){var a=this.path.data;if(h.hasStroke()){var n=h.lineWidth,o=h.strokeNoScale?this.getLineScale():1;if(o>1e-10&&(h.hasFill()||(n=Math.max(n,this.strokeContainThreshold)),r.containStroke(a,n/o,t,i)))return!0}if(h.hasFill())return r.contain(a,t,i)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):i.prototype.attrKV.call(this,t,e)},setShape:function(t,i){var s=this.shape;if(s){if(e.isObject(t))for(var r in t)t.hasOwnProperty(r)&&(s[r]=t[r]);else s[t]=i;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&n(t[0]-1)>1e-10&&n(t[3]-1)>1e-10?Math.sqrt(n(t[0]*t[3]-t[2]*t[1])):1}},t.extend=function(i){var s=function(e){t.call(this,e),i.style&&this.style.extendFrom(i.style,!1);var s=i.shape;if(s){this.shape=this.shape||{};var r=this.shape;for(var h in s)!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&(r[h]=s[h])}i.init&&i.init.call(this,e)};e.inherits(s,t);for(var r in i)"style"!==r&&"shape"!==r&&(s.prototype[r]=i[r]);return s},e.inherits(t,i);var l=t;module.exports=l;
},{"./Displayable":405,"../core/util":113,"../contain/path":408,"../core/PathProxy":402,"./Pattern":409}],403:[function(require,module,exports) {
function a(a,r){var e,n,v,b,f,i=a.data,k=t.M,u=t.C,M=t.L,l=t.R,p=t.A,q=t.Q;for(v=0,b=0;v<i.length;){switch(e=i[v++],b=v,n=0,e){case k:case M:n=1;break;case u:n=3;break;case q:n=2;break;case p:var d=r[4],m=r[5],x=s(r[0]*r[0]+r[1]*r[1]),y=s(r[2]*r[2]+r[3]*r[3]),C=h(-r[1]/y,r[0]/x);i[v]*=x,i[v++]+=d,i[v]*=y,i[v++]+=m,i[v++]*=x,i[v++]*=y,i[v++]+=C,i[v++]+=C,b=v+=2;break;case l:P[0]=i[v++],P[1]=i[v++],c(P,P,r),i[b++]=P[0],i[b++]=P[1],P[0]+=i[v++],P[1]+=i[v++],c(P,P,r),i[b++]=P[0],i[b++]=P[1]}for(f=0;f<n;f++){var P;(P=o[f])[0]=i[v++],P[1]=i[v++],c(P,P,r),i[b++]=P[0],i[b++]=P[1]}}}var r=require("../core/PathProxy"),e=require("../core/vector"),c=e.applyTransform,t=r.CMD,o=[[],[],[]],s=Math.sqrt,h=Math.atan2;module.exports=a;
},{"../core/PathProxy":402,"../core/vector":112}],262:[function(require,module,exports) {
function a(a,e,t,r,n,d,c,s,h,i,p){var g=h*(b/180),P=u(g)*(a-t)/2+l(g)*(e-r)/2,k=-1*l(g)*(a-t)/2+u(g)*(e-r)/2,v=P*P/(c*c)+k*k/(s*s);v>1&&(c*=o(v),s*=o(v));var x=(n===d?-1:1)*o((c*c*(s*s)-c*c*(k*k)-s*s*(P*P))/(c*c*(k*k)+s*s*(P*P)))||0,C=x*c*k/s,M=x*-s*P/c,L=(a+t)/2+u(g)*C-l(g)*M,Q=(e+r)/2+l(g)*C+u(g)*M,m=D([1,0],[(P-C)/c,(k-M)/s]),q=[(P-C)/c,(k-M)/s],y=[(-1*P-C)/c,(-1*k-M)/s],w=D(q,y);f(q,y)<=-1&&(w=b),f(q,y)>=1&&(w=0),0===d&&w>0&&(w-=2*b),1===d&&w<0&&(w+=2*b),p.addData(i,L,Q,c,s,m,w,g,d)}function e(e){if(!e)return[];var t,r=e.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(t=0;t<i.length;t++)r=r.replace(new RegExp(i[t],"g"),"|"+i[t]);var n,d=r.split("|"),c=0,h=0,o=new s,l=s.CMD;for(t=1;t<d.length;t++){var u,b=d[t],p=b.charAt(0),f=0,D=b.slice(1).replace(/e,-/g,"e-").split(",");D.length>0&&""===D[0]&&D.shift();for(var g=0;g<D.length;g++)D[g]=parseFloat(D[g]);for(;f<D.length&&!isNaN(D[f])&&!isNaN(D[0]);){var P,k,v,x,C,M,L,Q=c,m=h;switch(p){case"l":c+=D[f++],h+=D[f++],u=l.L,o.addData(u,c,h);break;case"L":c=D[f++],h=D[f++],u=l.L,o.addData(u,c,h);break;case"m":c+=D[f++],h+=D[f++],u=l.M,o.addData(u,c,h),p="l";break;case"M":c=D[f++],h=D[f++],u=l.M,o.addData(u,c,h),p="L";break;case"h":c+=D[f++],u=l.L,o.addData(u,c,h);break;case"H":c=D[f++],u=l.L,o.addData(u,c,h);break;case"v":h+=D[f++],u=l.L,o.addData(u,c,h);break;case"V":h=D[f++],u=l.L,o.addData(u,c,h);break;case"C":u=l.C,o.addData(u,D[f++],D[f++],D[f++],D[f++],D[f++],D[f++]),c=D[f-2],h=D[f-1];break;case"c":u=l.C,o.addData(u,D[f++]+c,D[f++]+h,D[f++]+c,D[f++]+h,D[f++]+c,D[f++]+h),c+=D[f-2],h+=D[f-1];break;case"S":P=c,k=h;var q=o.len(),y=o.data;n===l.C&&(P+=c-y[q-4],k+=h-y[q-3]),u=l.C,Q=D[f++],m=D[f++],c=D[f++],h=D[f++],o.addData(u,P,k,Q,m,c,h);break;case"s":P=c,k=h;q=o.len(),y=o.data;n===l.C&&(P+=c-y[q-4],k+=h-y[q-3]),u=l.C,Q=c+D[f++],m=h+D[f++],c+=D[f++],h+=D[f++],o.addData(u,P,k,Q,m,c,h);break;case"Q":Q=D[f++],m=D[f++],c=D[f++],h=D[f++],u=l.Q,o.addData(u,Q,m,c,h);break;case"q":Q=D[f++]+c,m=D[f++]+h,c+=D[f++],h+=D[f++],u=l.Q,o.addData(u,Q,m,c,h);break;case"T":P=c,k=h;q=o.len(),y=o.data;n===l.Q&&(P+=c-y[q-4],k+=h-y[q-3]),c=D[f++],h=D[f++],u=l.Q,o.addData(u,P,k,c,h);break;case"t":P=c,k=h;q=o.len(),y=o.data;n===l.Q&&(P+=c-y[q-4],k+=h-y[q-3]),c+=D[f++],h+=D[f++],u=l.Q,o.addData(u,P,k,c,h);break;case"A":v=D[f++],x=D[f++],C=D[f++],M=D[f++],L=D[f++],a(Q=c,m=h,c=D[f++],h=D[f++],M,L,v,x,C,u=l.A,o);break;case"a":v=D[f++],x=D[f++],C=D[f++],M=D[f++],L=D[f++],a(Q=c,m=h,c+=D[f++],h+=D[f++],M,L,v,x,C,u=l.A,o)}}"z"!==p&&"Z"!==p||(u=l.Z,o.addData(u)),n=u}return o.toStatic(),o}function t(a,t){var r=e(a);return t=t||{},t.buildPath=function(a){if(a.setData){a.setData(r.data);(e=a.getContext())&&a.rebuildPath(e)}else{var e=a;r.rebuildPath(e)}},t.applyTransform=function(a){h(r,a),this.dirty(!0)},t}function r(a,e){return new c(t(a,e))}function n(a,e){return c.extend(t(a,e))}function d(a,e){for(var t=[],r=a.length,n=0;n<r;n++){var d=a[n];d.path||d.createPathProxy(),d.__dirtyPath&&d.buildPath(d.path,d.shape,!0),t.push(d.path)}var s=new c(e);return s.createPathProxy(),s.buildPath=function(a){a.appendPath(t);var e=a.getContext();e&&a.rebuildPath(e)},s}var c=require("../graphic/Path"),s=require("../core/PathProxy"),h=require("./transformPath"),i=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],o=Math.sqrt,l=Math.sin,u=Math.cos,b=Math.PI,p=function(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])},f=function(a,e){return(a[0]*e[0]+a[1]*e[1])/(p(a)*p(e))},D=function(a,e){return(a[0]*e[1]<a[1]*e[0]?-1:1)*Math.acos(f(a,e))};exports.createFromString=r,exports.extendFromString=n,exports.mergePath=d;
},{"../graphic/Path":263,"../core/PathProxy":402,"./transformPath":403}],267:[function(require,module,exports) {
var t=require("./Displayable"),e=require("../core/util"),r=require("../contain/text"),i=require("./helper/text"),o=function(e){t.call(this,e)};o.prototype={constructor:o,type:"text",brush:function(t,e){var r=this.style;this.__dirty&&i.normalizeTextStyle(r,!0),r.fill=r.stroke=r.shadowBlur=r.shadowColor=r.shadowOffsetX=r.shadowOffsetY=null;var o=r.text;null!=o&&(o+=""),r.bind(t,this,e),i.needDrawText(o,r)&&(this.setTransform(t),i.renderText(this,t,o,r),this.restoreTransform(t))},getBoundingRect:function(){var t=this.style;if(this.__dirty&&i.normalizeTextStyle(t,!0),!this._rect){var e=t.text;null!=e?e+="":e="";var o=r.getBoundingRect(t.text+"",t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.rich);if(o.x+=t.x||0,o.y+=t.y||0,i.getStroke(t.textStroke,t.textStrokeWidth)){var s=t.textStrokeWidth;o.x-=s/2,o.y-=s/2,o.width+=s,o.height+=s}this._rect=o}return this._rect}},e.inherits(o,t);var s=o;module.exports=s;
},{"./Displayable":405,"../core/util":113,"../contain/text":287,"./helper/text":414}],268:[function(require,module,exports) {
var t=require("./Path"),h=t.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,h=this.shape.paths,a=0;a<h.length;a++)t=t||h[a].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],h=this.getGlobalScale(),a=0;a<t.length;a++)t[a].path||t[a].createPathProxy(),t[a].path.setScale(h[0],h[1])},buildPath:function(t,h){for(var a=h.paths||[],e=0;e<a.length;e++)a[e].buildPath(t,a[e].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],h=0;h<t.length;h++)t[h].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),t.prototype.getBoundingRect.call(this)}});module.exports=h;
},{"./Path":263}],376:[function(require,module,exports) {
var o=function(o){this.colorStops=o||[]};o.prototype={constructor:o,addColorStop:function(o,t){this.colorStops.push({offset:o,color:t})}};var t=o;module.exports=t;
},{}],269:[function(require,module,exports) {
var t=require("../core/util"),r=require("./Gradient"),i=function(t,i,l,e,o){this.x=null==t?.5:t,this.y=null==i?.5:i,this.r=null==l?.5:l,this.type="radial",this.global=o||!1,r.call(this,e)};i.prototype={constructor:i},t.inherits(i,r);var l=i;module.exports=l;
},{"../core/util":113,"./Gradient":376}],270:[function(require,module,exports) {
var t=require("../core/util"),i=require("./Gradient"),l=function(t,l,r,e,n,s){this.x=null==t?0:t,this.y=null==l?0:l,this.x2=null==r?1:r,this.y2=null==e?0:e,this.type="linear",this.global=s||!1,i.call(this,n)};l.prototype={constructor:l},t.inherits(l,i);var r=l;module.exports=r;
},{"../core/util":113,"./Gradient":376}],273:[function(require,module,exports) {
var r=require("../Path"),e=r.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(r,e){var a=e.cx,c=e.cy,o=2*Math.PI;r.moveTo(a+e.r,c),r.arc(a,c,e.r,0,o,!1),r.moveTo(a+e.r0,c),r.arc(a,c,e.r0,0,o,!0)}});module.exports=e;
},{"../Path":263}],407:[function(require,module,exports) {
function e(e){return r.browser.ie&&r.browser.version>=11?function(){var r,o=this.__clipPaths,s=this.style;if(o)for(var h=0;h<o.length;h++){var a=o[h],i=a&&a.shape,n=a&&a.type;if(i&&("sector"===n&&i.startAngle===i.endAngle||"rect"===n&&(!i.width||!i.height))){for(var f=0;f<t.length;f++)t[f][2]=s[t[f][0]],s[t[f][0]]=t[f][1];r=!0;break}}if(e.apply(this,arguments),r)for(f=0;f<t.length;f++)s[t[f][0]]=t[f][2]}:e}var r=require("../../core/env"),t=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];module.exports=e;
},{"../../core/env":115}],274:[function(require,module,exports) {
var e=require("../Path"),t=require("../helper/fixClipWithShadow"),a=e.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:t(e.prototype.brush),buildPath:function(e,t){var a=t.cx,r=t.cy,h=Math.max(t.r0||0,0),o=Math.max(t.r,0),c=t.startAngle,s=t.endAngle,i=t.clockwise,l=Math.cos(c),n=Math.sin(c);e.moveTo(l*h+a,n*h+r),e.lineTo(l*o+a,n*o+r),e.arc(a,r,o,c,s,!i),e.lineTo(Math.cos(s)*h+a,Math.sin(s)*h+r),0!==h&&e.arc(a,r,h,s,c,i),e.closePath()}});module.exports=a;
},{"../Path":263,"../helper/fixClipWithShadow":407}],275:[function(require,module,exports) {
var c=require("../Path"),e=c.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(c,e,r){r&&c.moveTo(e.cx+e.r,e.cy),c.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}});module.exports=e;
},{"../Path":263}],276:[function(require,module,exports) {
var e=require("../Path"),t=e.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.x1,r=t.y1,i=t.x2,l=t.y2,o=t.percent;0!==o&&(e.moveTo(n,r),o<1&&(i=n*(1-o)+i*o,l=r*(1-o)+l*o),e.lineTo(i,l))},pointAt:function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]}});module.exports=t;
},{"../Path":263}],457:[function(require,module,exports) {
function r(r,e,o,t,a,n,u){var v=.5*(o-r),c=.5*(t-e);return(2*(e-o)+v+c)*u+(-3*(e-o)-2*v-c)*n+v*a+e}function e(e,o){for(var a=e.length,n=[],u=0,v=1;v<a;v++)u+=t(e[v-1],e[v]);var c=u/2;c=c<a?a:c;for(v=0;v<c;v++){var f,i,h,l=v/(c-1)*(o?a:a-1),s=Math.floor(l),d=l-s,p=e[s%a];o?(f=e[(s-1+a)%a],i=e[(s+1)%a],h=e[(s+2)%a]):(f=e[0===s?s:s-1],i=e[s>a-2?a-1:s+1],h=e[s>a-3?a-1:s+2]);var g=d*d,m=d*g;n.push([r(f[0],p[0],i[0],h[0],d,g,m),r(f[1],p[1],i[1],h[1],d,g,m)])}return n}var o=require("../../core/vector"),t=o.distance;module.exports=e;
},{"../../core/vector":112}],458:[function(require,module,exports) {
function e(e,r,c,f){var h,v,l,p,d=[],m=[],g=[],x=[];if(f){l=[1/0,1/0],p=[-1/0,-1/0];for(var b=0,q=e.length;b<q;b++)a(l,l,e[b]),n(p,p,e[b]);a(l,l,f[0]),n(p,p,f[1])}for(b=0,q=e.length;b<q;b++){var j=e[b];if(c)h=e[b?b-1:q-1],v=e[(b+1)%q];else{if(0===b||b===q-1){d.push(o(e[b]));continue}h=e[b-1],v=e[b+1]}t(m,v,h),s(m,m,r);var k=u(j,h),w=u(j,v),y=k+w;0!==y&&(k/=y,w/=y),s(g,m,-k),s(x,m,w);var z=i([],j,g),A=i([],j,x);f&&(n(z,z,l),a(z,z,p),n(A,A,l),a(A,A,p)),d.push(z),d.push(A)}return c&&d.push(d.shift()),d}var r=require("../../core/vector"),a=r.min,n=r.max,s=r.scale,u=r.distance,i=r.add,o=r.clone,t=r.sub;module.exports=e;
},{"../../core/vector":112}],410:[function(require,module,exports) {
function e(e,i,t){var n=i.points,s=i.smooth;if(n&&n.length>=2){if(s&&"spline"!==s){var l=r(n,s,t,i.smoothConstraint);e.moveTo(n[0][0],n[0][1]);for(var a=n.length,h=0;h<(t?a:a-1);h++){var v=l[2*h],m=l[2*h+1],f=n[(h+1)%a];e.bezierCurveTo(v[0],v[1],m[0],m[1],f[0],f[1])}}else{"spline"===s&&(n=o(n,t)),e.moveTo(n[0][0],n[0][1]);h=1;for(var p=n.length;h<p;h++)e.lineTo(n[h][0],n[h][1])}t&&e.closePath()}}var o=require("./smoothSpline"),r=require("./smoothBezier");exports.buildPath=e;
},{"./smoothSpline":457,"./smoothBezier":458}],277:[function(require,module,exports) {
var e=require("../Path"),o=require("../helper/poly"),t=e.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(e,t){o.buildPath(e,t,!0)}});module.exports=t;
},{"../Path":263,"../helper/poly":410}],278:[function(require,module,exports) {
var e=require("../Path"),t=e.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(e,t){var a=t.cx,l=t.cy,c=Math.max(t.r,0),r=t.startAngle,n=t.endAngle,s=t.clockwise,o=Math.cos(r),h=Math.sin(r);e.moveTo(o*c+a,h*c+l),e.arc(a,l,c,r,n,!s)}});module.exports=t;
},{"../Path":263}],279:[function(require,module,exports) {
var l=require("../Path"),e=require("../helper/poly"),t=l.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(l,t){e.buildPath(l,t,!1)}});module.exports=t;
},{"../Path":263,"../helper/poly":410}],280:[function(require,module,exports) {
function e(e,r,c){var t=e.cpx2,i=e.cpy2;return null===t||null===i?[(c?x:p)(e.x1,e.cpx1,e.cpx2,e.x2,r),(c?x:p)(e.y1,e.cpy1,e.cpy2,e.y2,r)]:[(c?a:n)(e.x1,e.cpx1,e.x2,r),(c?a:n)(e.y1,e.cpy1,e.y2,r)]}var r=require("../Path"),c=require("../../core/vector"),t=require("../../core/curve"),i=t.quadraticSubdivide,u=t.cubicSubdivide,n=t.quadraticAt,p=t.cubicAt,a=t.quadraticDerivativeAt,x=t.cubicDerivativeAt,y=[],l=r.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,r){var c=r.x1,t=r.y1,n=r.x2,p=r.y2,a=r.cpx1,x=r.cpy1,l=r.cpx2,o=r.cpy2,v=r.percent;0!==v&&(e.moveTo(c,t),null==l||null==o?(v<1&&(i(c,a,n,v,y),a=y[1],n=y[2],i(t,x,p,v,y),x=y[1],p=y[2]),e.quadraticCurveTo(a,x,n,p)):(v<1&&(u(c,a,l,n,v,y),a=y[1],l=y[2],n=y[3],u(t,x,o,p,v,y),x=y[1],o=y[2],p=y[3]),e.bezierCurveTo(a,x,l,o,n,p)))},pointAt:function(r){return e(this.shape,r,!1)},tangentAt:function(r){var t=e(this.shape,r,!0);return c.normalize(t,t)}});module.exports=l;
},{"../Path":263,"../../core/vector":112,"../../core/curve":415}],281:[function(require,module,exports) {
var e=require("../Path"),t=require("../helper/roundRect"),r=e.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(e,r){var h=r.x,i=r.y,a=r.width,d=r.height;r.r?t.buildPath(e,r):e.rect(h,i,a,d),e.closePath()}});module.exports=r;
},{"../Path":263,"../helper/roundRect":411}],59:[function(require,module,exports) {
function t(t){return U.extend(t)}function e(t,e){return X.extendFromString(t,e)}function r(t,e,r,o){var l=X.createFromString(t,e),a=l.getBoundingRect();return r&&("center"===o&&(r=i(r,a)),n(l,r)),l}function o(t,e,r){var o=new J({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if("center"===r){var n={width:t.width,height:t.height};o.setStyle(i(e,n))}}});return o}function i(t,e){var r,o=e.width/e.height,i=t.height*o;r=i<=t.width?t.height:(i=t.width)/o;return{x:t.x+t.width/2-i/2,y:t.y+t.height/2-r/2,width:i,height:r}}function n(t,e){if(t.applyTransform){var r=t.getBoundingRect().calculateTransform(e);t.applyTransform(r)}}function l(t){var e=t.shape,r=t.style.lineWidth;return xt(2*e.x1)===xt(2*e.x2)&&(e.x1=e.x2=h(e.x1,r,!0)),xt(2*e.y1)===xt(2*e.y2)&&(e.y1=e.y2=h(e.y1,r,!0)),t}function a(t){var e=t.shape,r=t.style.lineWidth,o=e.x,i=e.y,n=e.width,l=e.height;return e.x=h(e.x,r,!0),e.y=h(e.y,r,!0),e.width=Math.max(h(o+n,r,!1)-e.x,0===n?0:1),e.height=Math.max(h(i+l,r,!1)-e.y,0===l?0:1),t}function h(t,e,r){var o=xt(2*t);return(o+xt(e))%2==0?o/2:(o+(r?1:-1))/2}function s(t){return null!=t&&"none"!=t}function u(t){return"string"==typeof t?Y.lift(t,-.1):t}function x(t){if(t.__hoverStlDirty){var e=t.style.stroke,r=t.style.fill,o=t.__hoverStl;o.fill=o.fill||(s(r)?u(r):null),o.stroke=o.stroke||(s(e)?u(e):null);var i={};for(var n in o)null!=o[n]&&(i[n]=t.style[n]);t.__normalStl=i,t.__hoverStlDirty=!1}}function d(t){if(!t.__isHover){if(x(t),t.useHoverLayer)t.__zr&&t.__zr.addHover(t,t.__hoverStl);else{var e=t.style,r=e.insideRollbackOpt;r&&R(e),e.extendFrom(t.__hoverStl),r&&(O(e,e.insideOriginalTextPosition,r),null==e.textFill&&(e.textFill=r.autoColor)),t.dirty(!1),t.z2+=1}t.__isHover=!0}}function f(t){if(t.__isHover){var e=t.__normalStl;t.useHoverLayer?t.__zr&&t.__zr.removeHover(t):(e&&t.setStyle(e),t.z2-=1),t.__isHover=!1}}function c(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&d(t)}):d(t)}function p(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&f(t)}):f(t)}function g(t,e){t.__hoverStl=t.hoverStyle||e||{},t.__hoverStlDirty=!0,t.__isHover&&x(t)}function S(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasis&&c(this)}function v(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasis&&p(this)}function y(){this.__isEmphasis=!0,c(this)}function w(){this.__isEmphasis=!1,p(this)}function m(t,e,r){t.__hoverSilentOnTouch=r&&r.hoverSilentOnTouch,"group"===t.type?t.traverse(function(t){"group"!==t.type&&g(t,e)}):g(t,e),t.on("mouseover",S).on("mouseout",v),t.on("emphasis",y).on("normal",w)}function b(t,e,r,o,i,n,l){var a=(i=i||ct).labelFetcher,h=i.labelDataIndex,s=i.labelDimIndex,u=r.getShallow("show"),x=o.getShallow("show"),d=u||x?E.retrieve2(a?a.getFormattedLabel(h,"normal",null,s):null,i.defaultText):null,f=u?d:null,c=x?E.retrieve2(a?a.getFormattedLabel(h,"emphasis",null,s):null,d):null;null==f&&null==c||(_(t,r,n,i),_(e,o,l,i,!0)),t.text=f,e.text=c}function _(t,e,r,o,i){return B(t,e,o,i),r&&E.extend(t,r),t.host&&t.host.dirty&&t.host.dirty(!1),t}function z(t,e,r){var o,i={isRectText:!0};!1===r?o=!0:i.autoColor=r,B(t,e,i,o),t.host&&t.host.dirty&&t.host.dirty(!1)}function B(t,e,r,o){if((r=r||ct).isRectText){var i=e.getShallow("position")||(o?null:"inside");"outside"===i&&(i="top"),t.textPosition=i,t.textOffset=e.getShallow("offset");var n=e.getShallow("rotate");null!=n&&(n*=Math.PI/180),t.textRotation=n,t.textDistance=E.retrieve2(e.getShallow("distance"),o?null:5)}var l,a=e.ecModel,h=a&&a.option.textStyle,s=P(e);if(s){l={};for(var u in s)if(s.hasOwnProperty(u)){var x=e.getModel(["rich",u]);T(l[u]={},x,h,r,o)}}return t.rich=l,T(t,e,h,r,o,!0),r.forceRich&&!r.textStyle&&(r.textStyle={}),t}function P(t){for(var e;t&&t!==t.ecModel;){var r=(t.option||ct).rich;if(r){e=e||{};for(var o in r)r.hasOwnProperty(o)&&(e[o]=1)}t=t.parentModel}return e}function T(t,e,r,o,i,n){if(r=!i&&r||ct,t.textFill=k(e.getShallow("color"),o)||r.color,t.textStroke=k(e.getShallow("textBorderColor"),o)||r.textBorderColor,t.textStrokeWidth=E.retrieve2(e.getShallow("textBorderWidth"),r.textBorderWidth),!i){if(n){var l=t.textPosition;t.insideRollback=O(t,l,o),t.insideOriginalTextPosition=l,t.insideRollbackOpt=o}null==t.textFill&&(t.textFill=o.autoColor)}t.fontStyle=e.getShallow("fontStyle")||r.fontStyle,t.fontWeight=e.getShallow("fontWeight")||r.fontWeight,t.fontSize=e.getShallow("fontSize")||r.fontSize,t.fontFamily=e.getShallow("fontFamily")||r.fontFamily,t.textAlign=e.getShallow("align"),t.textVerticalAlign=e.getShallow("verticalAlign")||e.getShallow("baseline"),t.textLineHeight=e.getShallow("lineHeight"),t.textWidth=e.getShallow("width"),t.textHeight=e.getShallow("height"),t.textTag=e.getShallow("tag"),n&&o.disableBox||(t.textBackgroundColor=k(e.getShallow("backgroundColor"),o),t.textPadding=e.getShallow("padding"),t.textBorderColor=k(e.getShallow("borderColor"),o),t.textBorderWidth=e.getShallow("borderWidth"),t.textBorderRadius=e.getShallow("borderRadius"),t.textBoxShadowColor=e.getShallow("shadowColor"),t.textBoxShadowBlur=e.getShallow("shadowBlur"),t.textBoxShadowOffsetX=e.getShallow("shadowOffsetX"),t.textBoxShadowOffsetY=e.getShallow("shadowOffsetY")),t.textShadowColor=e.getShallow("textShadowColor")||r.textShadowColor,t.textShadowBlur=e.getShallow("textShadowBlur")||r.textShadowBlur,t.textShadowOffsetX=e.getShallow("textShadowOffsetX")||r.textShadowOffsetX,t.textShadowOffsetY=e.getShallow("textShadowOffsetY")||r.textShadowOffsetY}function k(t,e){return"auto"!==t?t:e&&e.autoColor?e.autoColor:null}function O(t,e,r){var o,i=r.useInsideStyle;return null==t.textFill&&!1!==i&&(!0===i||r.isRectText&&e&&"string"==typeof e&&e.indexOf("inside")>=0)&&(o={textFill:null,textStroke:t.textStroke,textStrokeWidth:t.textStrokeWidth},t.textFill="#fff",null==t.textStroke&&(t.textStroke=r.autoColor,null==t.textStrokeWidth&&(t.textStrokeWidth=2))),o}function R(t){var e=t.insideRollback;e&&(t.textFill=e.textFill,t.textStroke=e.textStroke,t.textStrokeWidth=e.textStrokeWidth)}function q(t,e){var r=e||e.getModel("textStyle");return[t.fontStyle||r&&r.getShallow("fontStyle")||"",t.fontWeight||r&&r.getShallow("fontWeight")||"",(t.fontSize||r&&r.getShallow("fontSize")||12)+"px",t.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" ")}function C(t,e,r,o,i,n){"function"==typeof i&&(n=i,i=null);if(o&&o.isAnimationEnabled()){var l=t?"Update":"",a=o.getShallow("animationDuration"+l),h=o.getShallow("animationEasing"+l),s=o.getShallow("animationDelay"+l);"function"==typeof s&&(s=s(i,o.getAnimationDelayParams?o.getAnimationDelayParams(e,i):null)),"function"==typeof a&&(a=a(i)),a>0?e.animateTo(r,a,s||0,h,n,!!n):(e.stopAnimation(),e.attr(r),n&&n())}else e.stopAnimation(),e.attr(r),n&&n()}function F(t,e,r,o,i){C(!0,t,e,r,o,i)}function W(t,e,r,o,i){C(!1,t,e,r,o,i)}function M(t,e){for(var r=j.identity([]);t&&t!==e;)j.mul(r,t.getLocalTransform(),r),t=t.parent;return r}function H(t,e,r){return e&&!E.isArrayLike(e)&&(e=V.getLocalTransform(e)),r&&(e=j.invert([],e)),N.applyTransform([],t,e)}function L(t,e,r){var o=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),i=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),n=["left"===t?-o:"right"===t?o:0,"top"===t?-i:"bottom"===t?i:0];return n=H(n,e,r),Math.abs(n[0])>Math.abs(n[1])?n[0]>0?"right":"left":n[1]>0?"bottom":"top"}function A(t,e,r,o){function i(t){var e={position:N.clone(t.position),rotation:t.rotation};return t.shape&&(e.shape=E.extend({},t.shape)),e}if(t&&e){var n=function(t){var e={};return t.traverse(function(t){!t.isGroup&&t.anid&&(e[t.anid]=t)}),e}(t);e.traverse(function(t){if(!t.isGroup&&t.anid){var e=n[t.anid];if(e){var o=i(t);t.attr(i(e)),F(t,o,r,t.dataIndex)}}})}}function D(t,e){return E.map(t,function(t){var r=t[0];r=dt(r,e.x),r=ft(r,e.x+e.width);var o=t[1];return o=dt(o,e.y),o=ft(o,e.y+e.height),[r,o]})}function I(t,e){var r=dt(t.x,e.x),o=ft(t.x+t.width,e.x+e.width),i=dt(t.y,e.y),n=ft(t.y+t.height,e.y+e.height);if(o>=r&&n>=i)return{x:r,y:i,width:o-r,height:n-i}}function G(t,e,o){var i=(e=E.extend({rectHover:!0},e)).style={strokeNoScale:!0};if(o=o||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(i.image=t.slice(8),E.defaults(i,o),new J(e)):r(t.replace("path://",""),e,o,"center")}var E=require("zrender/lib/core/util"),X=require("zrender/lib/tool/path"),Y=require("zrender/lib/tool/color"),j=require("zrender/lib/core/matrix"),N=require("zrender/lib/core/vector"),U=require("zrender/lib/graphic/Path"),V=require("zrender/lib/mixin/Transformable"),J=require("zrender/lib/graphic/Image");exports.Image=J;var K=require("zrender/lib/container/Group");exports.Group=K;var Q=require("zrender/lib/graphic/Text");exports.Text=Q;var Z=require("zrender/lib/graphic/shape/Circle");exports.Circle=Z;var $=require("zrender/lib/graphic/shape/Sector");exports.Sector=$;var tt=require("zrender/lib/graphic/shape/Ring");exports.Ring=tt;var et=require("zrender/lib/graphic/shape/Polygon");exports.Polygon=et;var rt=require("zrender/lib/graphic/shape/Polyline");exports.Polyline=rt;var ot=require("zrender/lib/graphic/shape/Rect");exports.Rect=ot;var it=require("zrender/lib/graphic/shape/Line");exports.Line=it;var nt=require("zrender/lib/graphic/shape/BezierCurve");exports.BezierCurve=nt;var lt=require("zrender/lib/graphic/shape/Arc");exports.Arc=lt;var at=require("zrender/lib/graphic/CompoundPath");exports.CompoundPath=at;var ht=require("zrender/lib/graphic/LinearGradient");exports.LinearGradient=ht;var st=require("zrender/lib/graphic/RadialGradient");exports.RadialGradient=st;var ut=require("zrender/lib/core/BoundingRect");exports.BoundingRect=ut;var xt=Math.round,dt=Math.max,ft=Math.min,ct={},pt=X.mergePath;exports.extendShape=t,exports.extendPath=e,exports.makePath=r,exports.makeImage=o,exports.mergePath=pt,exports.resizePath=n,exports.subPixelOptimizeLine=l,exports.subPixelOptimizeRect=a,exports.subPixelOptimize=h,exports.setHoverStyle=m,exports.setLabelStyle=b,exports.setTextStyle=_,exports.setText=z,exports.getFont=q,exports.updateProps=F,exports.initProps=W,exports.getTransform=M,exports.applyTransform=H,exports.transformDirection=L,exports.groupTransition=A,exports.clipPointsByRect=D,exports.clipRectByRect=I,exports.createIcon=G;
},{"zrender/lib/core/util":113,"zrender/lib/tool/path":262,"zrender/lib/tool/color":114,"zrender/lib/graphic/Path":263,"zrender/lib/core/vector":112,"zrender/lib/core/matrix":111,"zrender/lib/graphic/Image":264,"zrender/lib/mixin/Transformable":265,"zrender/lib/container/Group":266,"zrender/lib/graphic/Text":267,"zrender/lib/graphic/CompoundPath":268,"zrender/lib/graphic/RadialGradient":269,"zrender/lib/graphic/LinearGradient":270,"zrender/lib/core/BoundingRect":256,"zrender/lib/graphic/shape/Ring":273,"zrender/lib/graphic/shape/Sector":274,"zrender/lib/graphic/shape/Circle":275,"zrender/lib/graphic/shape/Line":276,"zrender/lib/graphic/shape/Polygon":277,"zrender/lib/graphic/shape/Arc":278,"zrender/lib/graphic/shape/Polyline":279,"zrender/lib/graphic/shape/BezierCurve":280,"zrender/lib/graphic/shape/Rect":281}],62:[function(require,module,exports) {
function t(t,e,n){function r(){f=(new Date).getTime(),p=null,t.apply(u,i||[])}var l,o,u,i,a,c=0,f=0,p=null;e=e||0;var v=function(){l=(new Date).getTime(),u=this,i=arguments;var t=a||e,v=a||n;a=null,o=l-(v?c:f)-t,clearTimeout(p),v?p=setTimeout(r,t):o>=0?r():p=setTimeout(r,-o),c=l};return v.clear=function(){p&&(clearTimeout(p),p=null)},v.debounceNextCall=function(t){a=t},v}function e(e,n,u,i){var a=e[n];if(a){var c=a[r]||a,f=a[o];if(a[l]!==u||f!==i){if(null==u||!i)return e[n]=c;(a=e[n]=t(c,u,"debounce"===i))[r]=c,a[o]=i,a[l]=u}return a}}function n(t,e){var n=t[e];n&&n[r]&&(t[e]=n[r])}var r="\0__throttleOriginMethod",l="\0__throttleRate",o="\0__throttleType";exports.throttle=t,exports.createOrUpdate=e,exports.clear=n;
},{}],195:[function(require,module,exports) {

function t(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function n(e){if(s===setTimeout)return setTimeout(e,0);if((s===t||!s)&&setTimeout)return s=setTimeout,setTimeout(e,0);try{return s(e,0)}catch(t){try{return s.call(null,e,0)}catch(t){return s.call(this,e,0)}}}function r(t){if(l===clearTimeout)return clearTimeout(t);if((l===e||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function o(){m&&f&&(m=!1,f.length?h=f.concat(h):p=-1,h.length&&i())}function i(){if(!m){var t=n(o);m=!0;for(var e=h.length;e;){for(f=h,h=[];++p<e;)f&&f[p].run();p=-1,e=h.length}f=null,m=!1,r(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var s,l,a=module.exports={};!function(){try{s="function"==typeof setTimeout?setTimeout:t}catch(e){s=t}try{l="function"==typeof clearTimeout?clearTimeout:e}catch(t){l=e}}();var f,h=[],m=!1,p=-1;a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new u(t,e)),1!==h.length||m||n(i)},u.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=c,a.addListener=c,a.once=c,a.off=c,a.removeListener=c,a.removeAllListeners=c,a.emit=c,a.prependListener=c,a.prependOnceListener=c,a.listeners=function(t){return[]},a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0};
},{}],116:[function(require,module,exports) {
var global = (1,eval)("this");
var _,d=(0,eval)("this");"undefined"!=typeof window?_=window.__DEV__:void 0!==d&&(_=d.__DEV__),void 0===_&&(_=!0);var i=_;exports.__DEV__=i;
},{}],196:[function(require,module,exports) {
function e(e){t.each(i,function(i){this[i]=t.bind(e[i],e)},this)}var t=require("zrender/lib/core/util"),i=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"],o=e;module.exports=o;
},{"zrender/lib/core/util":113}],197:[function(require,module,exports) {
function t(){this._coordinateSystems=[]}var e=require("zrender/lib/core/util"),n={};t.prototype={constructor:t,create:function(t,o){var r=[];e.each(n,function(e,n){var c=e.create(t,o);r=r.concat(c||[])}),this._coordinateSystems=r},update:function(t,n){e.each(this._coordinateSystems,function(e){e.update&&e.update(t,n)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},t.register=function(t,e){n[t]=e},t.get=function(t){return n[t]};var o=t;module.exports=o;
},{"zrender/lib/core/util":113}],282:[function(require,module,exports) {
function e(e,n,t){return e[C+n]=t}function n(e,n){return e[C+n]}function t(e,n){return e.hasOwnProperty(C+n)}function r(e){var n={main:"",sub:""};return e&&(e=e.split(h),n.main=e[0]||"",n.sub=e[1]||""),n}function s(e){f.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function i(e,n){e.$constructor=e,e.extend=function(e){var n=this,t=function(){e.$constructor?e.$constructor.apply(this,arguments):n.apply(this,arguments)};return f.extend(t.prototype,e),t.extend=this.extend,t.superCall=u,t.superApply=a,f.inherits(t,this),t.superClass=n,t}}function u(e,n){var t=f.slice(arguments,2);return this.superClass.prototype[n].apply(e,t)}function a(e,n,t){return this.superClass.prototype[n].apply(e,t)}function o(e,n){n=n||{};var t={};if(e.registerClass=function(e,n){if(n)if(s(n),(n=r(n)).sub){if(n.sub!==y){((function(e){var n=t[e.main];return n&&n[y]||((n=t[e.main]={})[y]=!0),n})(n))[n.sub]=e}}else t[n.main]=e;return e},e.getClass=function(e,n,r){var s=t[e];if(s&&s[y]&&(s=n?s[n]:null),r&&!s)throw new Error(n?"Component "+e+"."+(n||"")+" not exists. Load it first.":e+".type should be specified.");return s},e.getClassesByMainType=function(e){e=r(e);var n=[],s=t[e.main];return s&&s[y]?f.each(s,function(e,t){t!==y&&n.push(e)}):n.push(s),n},e.hasClass=function(e){return e=r(e),!!t[e.main]},e.getAllClassMainTypes=function(){var e=[];return f.each(t,function(n,t){e.push(t)}),e},e.hasSubTypes=function(e){e=r(e);var n=t[e.main];return n&&n[y]},e.parseClassType=r,n.registerWhenExtend){var i=e.extend;i&&(e.extend=function(n){var t=i.call(this,n);return e.registerClass(t,n.type)})}return e}function p(e,n){}var l=require("../config"),c=l.__DEV__,f=require("zrender/lib/core/util"),h=".",y="___EC__COMPONENT__CONTAINER___",C="\0ec_\0";exports.set=e,exports.get=n,exports.hasOwn=t,exports.parseClassType=r,exports.enableClassExtend=i,exports.enableClassManagement=o,exports.setReadOnly=p;
},{"zrender/lib/core/util":113,"../config":116}],296:[function(require,module,exports) {
function r(r){for(var n=0;n<r.length;n++)r[n][1]||(r[n][1]=r[n][0]);return function(n,l,t){for(var i={},o=0;o<r.length;o++){var u=r[o][1];if(!(l&&e.indexOf(l,u)>=0||t&&e.indexOf(t,u)<0)){var f=n.getShallow(u);null!=f&&(i[r[o][0]]=f)}}return i}}var e=require("zrender/lib/core/util");module.exports=r;
},{"zrender/lib/core/util":113}],283:[function(require,module,exports) {
var e=require("./makeStyleMapper"),t=e([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),i={getLineStyle:function(e){var i=t(this,e),a=this.getLineDash(i.lineWidth);return a&&(i.lineDash=a),i},getLineDash:function(e){null==e&&(e=1);var t=this.get("type"),i=Math.max(e,2),a=4*e;return"solid"===t||null==t?null:"dashed"===t?[a,a]:[i,i]}};module.exports=i;
},{"./makeStyleMapper":296}],284:[function(require,module,exports) {
var e=require("./makeStyleMapper"),o=e([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),r={getAreaStyle:function(e,r){return o(this,e,r)}};module.exports=r;
},{"./makeStyleMapper":296}],285:[function(require,module,exports) {
var t=require("zrender/lib/contain/text"),e=require("../../util/graphic"),l=["textStyle","color"],o={getTextColor:function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(l):null)},getFont:function(){return e.getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(e){return t.getBoundingRect(e,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}};module.exports=o;
},{"../../util/graphic":59,"zrender/lib/contain/text":287}],286:[function(require,module,exports) {
var e=require("./makeStyleMapper"),r=e([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),t={getItemStyle:function(e,t){var o=r(this,e,t),i=this.getBorderLineDash();return i&&(o.lineDash=i),o},getBorderLineDash:function(){var e=this.get("borderType");return"solid"===e||null==e?null:"dashed"===e?[5,5]:[1,1]}};module.exports=t;
},{"./makeStyleMapper":296}],64:[function(require,module,exports) {
function t(t,n,e){this.parentModel=n,this.ecModel=e,this.option=t}function n(t,n,e){for(var i=0;i<n.length&&(!n[i]||null!=(t=t&&"object"==typeof t?t[n[i]]:null));i++);return null==t&&e&&(t=e.get(n)),t}function e(t,n){var e=r.get(t,"getParent");return e?e.call(t,n):t.parentModel}var i=require("zrender/lib/core/util"),o=require("zrender/lib/core/env"),r=require("../util/clazz"),l=require("./mixin/lineStyle"),u=require("./mixin/areaStyle"),s=require("./mixin/textStyle"),a=require("./mixin/itemStyle"),h=i.mixin;t.prototype={constructor:t,init:null,mergeOption:function(t){i.merge(this.option,t,!0)},get:function(t,i){return null==t?this.option:n(this.option,this.parsePath(t),!i&&e(this,t))},getShallow:function(t,n){var i=this.option,o=null==i?i:i[t],r=!n&&e(this,t);return null==o&&r&&(o=r.getShallow(t)),o},getModel:function(i,o){var r,l=null==i?this.option:n(this.option,i=this.parsePath(i));return o=o||(r=e(this,i))&&r.getModel(i),new t(l,o,this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new(0,this.constructor)(i.clone(this.option))},setReadOnly:function(t){r.setReadOnly(this,t)},parsePath:function(t){return"string"==typeof t&&(t=t.split(".")),t},customizeGetParent:function(t){r.set(this,"getParent",t)},isAnimationEnabled:function(){if(!o.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},r.enableClassExtend(t),h(t,l),h(t,u),h(t,s),h(t,a);var c=t;module.exports=c;
},{"../util/clazz":282,"./mixin/lineStyle":283,"./mixin/areaStyle":284,"./mixin/textStyle":285,"./mixin/itemStyle":286,"zrender/lib/core/util":113,"zrender/lib/core/env":115}],60:[function(require,module,exports) {
function r(r){return r.replace(/^\s+/,"").replace(/\s+$/,"")}function e(r,e,t,n){var a=e[1]-e[0],i=t[1]-t[0];if(0===a)return 0===i?t[0]:(t[0]+t[1])/2;if(n)if(a>0){if(r<=e[0])return t[0];if(r>=e[1])return t[1]}else{if(r>=e[0])return t[0];if(r<=e[1])return t[1]}else{if(r===e[0])return t[0];if(r===e[1])return t[1]}return(r-e[0])/a*i+t[0]}function t(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%"}return"string"==typeof e?r(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):null==e?NaN:+e}function n(r,e,t){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),r=(+r).toFixed(e),t?r:+r}function a(r){return r.sort(function(r,e){return r-e}),r}function i(r){if(r=+r,isNaN(r))return 0;for(var e=1,t=0;Math.round(r*e)/e!==r;)e*=10,t++;return t}function o(r){var e=r.toString(),t=e.indexOf("e");if(t>0){var n=+e.slice(t+1);return n<0?-n:0}var a=e.indexOf(".");return a<0?0:e.length-1-a}function u(r,e){var t=Math.log,n=Math.LN10,a=Math.floor(t(r[1]-r[0])/n),i=Math.round(t(Math.abs(e[1]-e[0]))/n),o=Math.min(Math.max(-a+i,0),20);return isFinite(o)?o:20}function f(r,e,t){if(!r[e])return 0;var n=M.reduce(r,function(r,e){return r+(isNaN(e)?0:e)},0);if(0===n)return 0;for(var a=Math.pow(10,t),i=M.map(r,function(r){return(isNaN(r)?0:r)/n*a*100}),o=100*a,u=M.map(i,function(r){return Math.floor(r)}),f=M.reduce(u,function(r,e){return r+e},0),s=M.map(i,function(r,e){return r-u[e]});f<o;){for(var c=Number.NEGATIVE_INFINITY,l=null,p=0,d=s.length;p<d;++p)s[p]>c&&(c=s[p],l=p);++u[l],s[l]=0,++f}return u[e]/a}function s(r){var e=2*Math.PI;return(r%e+e)%e}function c(r){return r>-N&&r<N}function l(r){if(r instanceof Date)return r;if("string"==typeof r){var e=g.exec(r);if(!e)return new Date(NaN);if(e[8]){var t=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(t-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,t,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}return null==r?new Date(NaN):new Date(Math.round(r))}function p(r){return Math.pow(10,d(r))}function d(r){return Math.floor(Math.log(r)/Math.LN10)}function h(r,e){var t,n=d(r),a=Math.pow(10,n),i=r/a;return t=e?i<1.5?1:i<2.5?2:i<4?3:i<7?5:10:i<1?1:i<2?2:i<3?3:i<5?5:10,r=t*a,n>=-20?+r.toFixed(n<0?-n:0):r}function x(r){function e(r,t,n){return r.interval[n]<t.interval[n]||r.interval[n]===t.interval[n]&&(r.close[n]-t.close[n]==(n?-1:1)||!n&&e(r,t,1))}r.sort(function(r,t){return e(r,t,0)?-1:1});for(var t=-1/0,n=1,a=0;a<r.length;){for(var i=r[a].interval,o=r[a].close,u=0;u<2;u++)i[u]<=t&&(i[u]=t,o[u]=u?1:1-n),t=i[u],n=o[u];i[0]===i[1]&&o[0]*o[1]!=1?r.splice(a,1):a++}return r}function v(r){return r-parseFloat(r)>=0}var M=require("zrender/lib/core/util"),N=1e-4,m=9007199254740991,g=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;exports.linearMap=e,exports.parsePercent=t,exports.round=n,exports.asc=a,exports.getPrecision=i,exports.getPrecisionSafe=o,exports.getPixelPrecision=u,exports.getPercentWithPrecision=f,exports.MAX_SAFE_INTEGER=m,exports.remRadian=s,exports.isRadianAroundZero=c,exports.parseDate=l,exports.quantity=p,exports.nice=h,exports.reformIntervals=x,exports.isNumeric=v;
},{"zrender/lib/core/util":113}],364:[function(require,module,exports) {
function t(t){this._setting=t||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}var e=require("../util/clazz");t.prototype.parse=function(t){return t},t.prototype.getSetting=function(t){return this._setting[t]},t.prototype.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]},t.prototype.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},t.prototype.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},t.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},t.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getDataExtent(e,!0))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},t.prototype.getTicksLabels=function(){for(var t=[],e=this.getTicks(),n=0;n<e.length;n++)t.push(this.getLabel(e[n]));return t},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(t){this._isBlank=t},e.enableClassExtend(t),e.enableClassManagement(t,{registerWhenExtend:!0});var n=t;module.exports=n;
},{"../util/clazz":282}],362:[function(require,module,exports) {
var t=require("zrender/lib/core/util"),n=require("./Scale"),e=n.prototype,i=n.extend({type:"ordinal",init:function(t,n){this._data=t,this._extent=n||[0,t.length-1]},parse:function(n){return"string"==typeof n?t.indexOf(this._data,n):Math.round(n)},contain:function(t){return t=this.parse(t),e.contain.call(this,t)&&null!=this._data[t]},normalize:function(t){return e.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(e.scale.call(this,t))},getTicks:function(){for(var t=[],n=this._extent,e=n[0];e<=n[1];)t.push(e),e++;return t},getLabel:function(t){return this._data[t]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(t,n){this.unionExtent(t.getDataExtent(n,!1))},niceTicks:t.noop,niceExtent:t.noop});i.create=function(){return new i};var r=i;module.exports=r;
},{"./Scale":364,"zrender/lib/core/util":113}],61:[function(require,module,exports) {
function e(e){return isNaN(e)?"-":(e=(e+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function r(e,r){return e=(e||"").toLowerCase().replace(/-(.)/g,function(e,r){return r.toUpperCase()}),r&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}function t(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function a(e,r,a){l.isArray(r)||(r=[r]);var n=r.length;if(!n)return"";for(var o=r[0].$vars||[],p=0;p<o.length;p++){var c=g[p],i=d(c,0);e=e.replace(d(c),a?t(i):i)}for(var s=0;s<n;s++)for(var u=0;u<o.length;u++){i=r[s][o[u]];e=e.replace(d(g[u],s),a?t(i):i)}return e}function n(e,r,a){return l.each(r,function(r,n){e=e.replace("{"+n+"}",a?t(r):r)}),e}function o(e,r){return e?'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+t(e)+";"+(r||"")+'"></span>':""}function p(e,r,t){"week"!==e&&"month"!==e&&"quarter"!==e&&"half-year"!==e&&"year"!==e||(e="MM-dd\nyyyy");var a=s.parseDate(r),n=t?"UTC":"",o=a["get"+n+"FullYear"](),p=a["get"+n+"Month"]()+1,c=a["get"+n+"Date"](),l=a["get"+n+"Hours"](),i=a["get"+n+"Minutes"](),u=a["get"+n+"Seconds"]();return e=e.replace("MM",f(p)).replace("M",p).replace("yyyy",o).replace("yy",o%100).replace("dd",f(c)).replace("d",c).replace("hh",f(l)).replace("h",l).replace("mm",f(i)).replace("m",i).replace("ss",f(u)).replace("s",u)}function c(e){return e?e.charAt(0).toUpperCase()+e.substr(1):e}var l=require("zrender/lib/core/util"),i=require("zrender/lib/contain/text"),s=require("./number"),u=l.normalizeCssArray,g=["a","b","c","d","e","f","g"],d=function(e,r){return"{"+e+(null==r?"":r)+"}"},f=function(e){return e<10?"0"+e:e},x=i.truncateText,h=i.getBoundingRect;exports.addCommas=e,exports.toCamelCase=r,exports.normalizeCssArray=u,exports.encodeHTML=t,exports.formatTpl=a,exports.formatTplSimple=n,exports.getTooltipMarker=o,exports.formatTime=p,exports.capitalFirst=c,exports.truncateText=x,exports.getTextRect=h;
},{"zrender/lib/core/util":113,"./number":60,"zrender/lib/contain/text":287}],449:[function(require,module,exports) {
function e(e,t,r,u){var c={},o=e[1]-e[0],s=c.interval=a.nice(o/t,!0);null!=r&&s<r&&(s=c.interval=r),null!=u&&s>u&&(s=c.interval=u);var v=c.intervalPrecision=n(s);return i(c.niceTickExtent=[l(Math.ceil(e[0]/s)*s,v),l(Math.floor(e[1]/s)*s,v)],e),c}function n(e){return a.getPrecisionSafe(e)+2}function t(e,n,t){e[n]=Math.max(Math.min(e[n],t[1]),t[0])}function i(e,n){!isFinite(e[0])&&(e[0]=n[0]),!isFinite(e[1])&&(e[1]=n[1]),t(e,0,n),t(e,1,n),e[0]>e[1]&&(e[0]=e[1])}function r(e,n,t,i){var r=[];if(!e)return r;n[0]<t[0]&&r.push(n[0]);for(var a=t[0];a<=t[1]&&(r.push(a),(a=l(a+e,i))!==r[r.length-1]);)if(r.length>1e4)return[];return n[1]>(r.length?r[r.length-1]:t[1])&&r.push(n[1]),r}var a=require("../util/number"),l=a.round;exports.intervalScaleNiceTicks=e,exports.getIntervalPrecision=n,exports.fixExtent=i,exports.intervalScaleGetTicks=r;
},{"../util/number":60}],363:[function(require,module,exports) {
var t=require("../util/number"),e=require("../util/format"),i=require("./Scale"),n=require("./helper"),r=t.round,a=i.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(t,e){var i=this._extent;isNaN(t)||(i[0]=parseFloat(t)),isNaN(e)||(i[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),a.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=n.getIntervalPrecision(t)},getTicks:function(){return n.intervalScaleGetTicks(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getTicksLabels:function(){for(var t=[],e=this.getTicks(),i=0;i<e.length;i++)t.push(this.getLabel(e[i]));return t},getLabel:function(i,n){if(null==i)return"";var a=n&&n.precision;return null==a?a=t.getPrecisionSafe(i)||0:"auto"===a&&(a=this._intervalPrecision),i=r(i,a,!0),e.addCommas(i)},niceTicks:function(t,e,i){t=t||5;var r=this._extent,a=r[1]-r[0];if(isFinite(a)){a<0&&(a=-a,r.reverse());var s=n.intervalScaleNiceTicks(r,t,e,i);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},niceExtent:function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var i=e[0];t.fixMax?e[0]-=i/2:(e[1]+=i/2,e[0]-=i/2)}else e[1]=1;var n=e[1]-e[0];isFinite(n)||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var a=this._interval;t.fixMin||(e[0]=r(Math.floor(e[0]/a)*a)),t.fixMax||(e[1]=r(Math.ceil(e[1]/a)*a))}});a.create=function(){return new a};var s=a;module.exports=s;
},{"../util/number":60,"./Scale":364,"../util/format":61,"./helper":449}],365:[function(require,module,exports) {
var e=require("zrender/lib/core/util"),t=require("../util/number"),n=require("../util/format"),r=require("./helper"),h=require("./Interval"),i=h.prototype,a=Math.ceil,m=Math.floor,M=1e3,d=60*M,s=60*d,u=24*s,o=function(e,t,n,r){for(;n<r;){var h=n+r>>>1;e[h][1]<t?n=h+1:r=h}return n},y=h.extend({type:"time",getLabel:function(e){var t=this._stepLvl,r=new Date(e);return n.formatTime(t[0],r,this.getSetting("useUTC"))},niceExtent:function(e){var n=this._extent;if(n[0]===n[1]&&(n[0]-=u,n[1]+=u),n[1]===-1/0&&n[0]===1/0){var r=new Date;n[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate()),n[0]=n[1]-u}this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var h=this._interval;e.fixMin||(n[0]=t.round(m(n[0]/h)*h)),e.fixMax||(n[1]=t.round(a(n[1]/h)*h))},niceTicks:function(e,n,h){e=e||10;var i=this._extent,M=i[1]-i[0],d=M/e;null!=n&&d<n&&(d=n),null!=h&&d>h&&(d=h);var s=l.length,u=o(l,d,0,s),y=l[Math.min(u,s-1)],c=y[1];if("year"===y[0]){var f=M/c;c*=t.nice(f/e,!0)}var v=this.getSetting("useUTC")?0:60*new Date(+i[0]||+i[1]).getTimezoneOffset()*1e3,p=[Math.round(a((i[0]-v)/c)*c+v),Math.round(m((i[1]-v)/c)*c+v)];r.fixExtent(p,i),this._stepLvl=y,this._interval=c,this._niceExtent=p},parse:function(e){return+t.parseDate(e)}});e.each(["contain","normalize"],function(e){y.prototype[e]=function(t){return i[e].call(this,this.parse(t))}});var l=[["hh:mm:ss",M],["hh:mm:ss",5*M],["hh:mm:ss",10*M],["hh:mm:ss",15*M],["hh:mm:ss",30*M],["hh:mm\nMM-dd",d],["hh:mm\nMM-dd",5*d],["hh:mm\nMM-dd",10*d],["hh:mm\nMM-dd",15*d],["hh:mm\nMM-dd",30*d],["hh:mm\nMM-dd",s],["hh:mm\nMM-dd",2*s],["hh:mm\nMM-dd",6*s],["hh:mm\nMM-dd",12*s],["MM-dd\nyyyy",u],["MM-dd\nyyyy",2*u],["MM-dd\nyyyy",3*u],["MM-dd\nyyyy",4*u],["MM-dd\nyyyy",5*u],["MM-dd\nyyyy",6*u],["week",7*u],["MM-dd\nyyyy",10*u],["week",14*u],["week",21*u],["month",31*u],["week",42*u],["month",62*u],["week",42*u],["quarter",380*u/4],["month",31*u*4],["month",31*u*5],["half-year",380*u/2],["month",31*u*8],["month",31*u*10],["year",380*u]];y.create=function(e){return new y({useUTC:e.ecModel.get("useUTC")})};var c=y;module.exports=c;
},{"zrender/lib/core/util":113,"../util/number":60,"../util/format":61,"./helper":449,"./Interval":363}],366:[function(require,module,exports) {
function t(t,n){return s(t,c(n))}var n=require("zrender/lib/core/util"),e=require("./Scale"),i=require("../util/number"),a=require("./Interval"),r=e.prototype,o=a.prototype,c=i.getPrecisionSafe,s=i.round,u=Math.floor,l=Math.ceil,h=Math.pow,x=Math.log,f=e.extend({type:"log",base:10,$constructor:function(){e.apply(this,arguments),this._originalScale=new a},getTicks:function(){var e=this._originalScale,a=this._extent,r=e.getExtent();return n.map(o.getTicks.call(this),function(n){var o=i.round(h(this.base,n));return o=n===a[0]&&e.__fixMin?t(o,r[0]):o,o=n===a[1]&&e.__fixMax?t(o,r[1]):o},this)},getLabel:o.getLabel,scale:function(t){return t=r.scale.call(this,t),h(this.base,t)},setExtent:function(t,n){var e=this.base;t=x(t)/x(e),n=x(n)/x(e),o.setExtent.call(this,t,n)},getExtent:function(){var n=this.base,e=r.getExtent.call(this);e[0]=h(n,e[0]),e[1]=h(n,e[1]);var i=this._originalScale,a=i.getExtent();return i.__fixMin&&(e[0]=t(e[0],a[0])),i.__fixMax&&(e[1]=t(e[1],a[1])),e},unionExtent:function(t){this._originalScale.unionExtent(t);var n=this.base;t[0]=x(t[0])/x(n),t[1]=x(t[1])/x(n),r.unionExtent.call(this,t)},unionExtentFromData:function(t,n){this.unionExtent(t.getDataExtent(n,!0,function(t){return t>0}))},niceTicks:function(t){t=t||10;var n=this._extent,e=n[1]-n[0];if(!(e===1/0||e<=0)){var a=i.quantity(e);for(t/e*a<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var r=[i.round(l(n[0]/a)*a),i.round(u(n[1]/a)*a)];this._interval=a,this._niceExtent=r}},niceExtent:function(t){o.niceExtent.call(this,t);var n=this._originalScale;n.__fixMin=t.fixMin,n.__fixMax=t.fixMax}});n.each(["contain","normalize"],function(t){f.prototype[t]=function(n){return n=x(n)/x(this.base),r[t].call(this,n)}}),f.create=function(){return new f};var _=f;module.exports=_;
},{"zrender/lib/core/util":113,"./Scale":364,"../util/number":60,"./Interval":363}],191:[function(require,module,exports) {
function e(e,t){var n,r,a,l=e.type,i=t.getMin(),u=t.getMax(),o=null!=i,c=null!=u,g=e.getExtent();return"ordinal"===l?n=(t.get("data")||[]).length:(r=t.get("boundaryGap"),s.isArray(r)||(r=[r||0,r||0]),"boolean"==typeof r[0]&&(r=[0,0]),r[0]=p.parsePercent(r[0],1),r[1]=p.parsePercent(r[1],1),a=g[1]-g[0]||Math.abs(g[0])),null==i&&(i="ordinal"===l?n?0:NaN:g[0]-r[0]*a),null==u&&(u="ordinal"===l?n?n-1:NaN:g[1]+r[1]*a),"dataMin"===i?i=g[0]:"function"==typeof i&&(i=i({min:g[0],max:g[1]})),"dataMax"===u?u=g[1]:"function"==typeof u&&(u=u({min:g[0],max:g[1]})),(null==i||!isFinite(i))&&(i=NaN),(null==u||!isFinite(u))&&(u=NaN),e.setBlank(s.eqNaN(i)||s.eqNaN(u)),t.getNeedCrossZero()&&(i>0&&u>0&&!o&&(i=0),i<0&&u<0&&!c&&(u=0)),[i,u]}function t(t,n){var r=e(t,n),a=null!=n.getMin(),l=null!=n.getMax(),i=n.get("splitNumber");"log"===t.type&&(t.base=n.get("logBase"));var u=t.type;t.setExtent(r[0],r[1]),t.niceExtent({splitNumber:i,fixMin:a,fixMax:l,minInterval:"interval"===u||"time"===u?n.get("minInterval"):null,maxInterval:"interval"===u||"time"===u?n.get("maxInterval"):null});var o=n.get("interval");null!=o&&t.setInterval&&t.setInterval(o)}function n(e,t){if(t=t||e.get("type"))switch(t){case"category":return new g(e.getCategories(),[1/0,-1/0]);case"value":return new x;default:return(f.getClass(t)||x).create(e)}}function r(e){var t=e.scale.getExtent(),n=t[0],r=t[1];return!(n>0&&r>0||n<0&&r<0)}function a(e,t,n,r,a){var l,i=0,u=0,o=(r-a)/180*Math.PI,s=1;t.length>40&&(s=Math.floor(t.length/40));for(var g=0;g<e.length;g+=s){var x=e[g],f=c.getBoundingRect(t[g],n,"center","top");f.x+=x*Math.cos(o),f.y+=x*Math.sin(o),f.width*=1.3,f.height*=1.3,l?l.intersect(f)?(u++,i=Math.max(i,u)):(l.union(f),u=0):l=f.clone()}return 0===i&&s>1?s:(i+1)*s-1}function l(e,t){var n=e.scale,r=n.getTicksLabels(),a=n.getTicks();return"string"==typeof t?(t=function(e){return function(t){return e.replace("{value}",null!=t?t:"")}}(t),s.map(r,t)):"function"==typeof t?s.map(a,function(n,r){return t(i(e,n),r)},this):r}function i(e,t){return"category"===e.type?e.scale.getLabel(t):t}var u=require("../config"),o=u.__DEV__,s=require("zrender/lib/core/util"),c=require("zrender/lib/contain/text"),g=require("../scale/Ordinal"),x=require("../scale/Interval"),f=require("../scale/Scale"),p=require("../util/number");require("../scale/Time"),require("../scale/Log"),exports.getScaleExtent=e,exports.niceScaleExtent=t,exports.createScaleByModel=n,exports.ifAxisCrossZero=r,exports.getAxisLabelInterval=a,exports.getFormattedLabels=l,exports.getAxisRawValue=i;
},{"zrender/lib/core/util":113,"../util/number":60,"../config":116,"../scale/Ordinal":362,"../scale/Interval":363,"../scale/Scale":364,"../scale/Time":365,"../scale/Log":366,"zrender/lib/contain/text":287}],192:[function(require,module,exports) {
function t(t){return e.isObject(t)&&null!=t.value?t.value:t+""}var e=require("zrender/lib/core/util"),n=require("./axisHelper"),a={getFormattedLabels:function(){return n.getFormattedLabels(this.axis,this.get("axisLabel.formatter"))},getCategories:function(){return"category"===this.get("type")&&e.map(this.get("data"),t)},getMin:function(t){var n=this.option,a=t||null==n.rangeStart?n.min:n.rangeStart;return this.axis&&null!=a&&"dataMin"!==a&&"function"!=typeof a&&!e.eqNaN(a)&&(a=this.axis.scale.parse(a)),a},getMax:function(t){var n=this.option,a=t||null==n.rangeEnd?n.max:n.rangeEnd;return this.axis&&null!=a&&"dataMax"!==a&&"function"!=typeof a&&!e.eqNaN(a)&&(a=this.axis.scale.parse(a)),a},getNeedCrossZero:function(){var t=this.option;return null==t.rangeStart&&null==t.rangeEnd&&!t.scale},getCoordSysModel:e.noop,setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}};module.exports=a;
},{"zrender/lib/core/util":113,"./axisHelper":191}],193:[function(require,module,exports) {
function e(e,t){if("image"!==this.type){var i=this.style,h=this.shape;h&&"line"===h.symbolType?i.stroke=e:this.__isEmptyBrush?(i.stroke=e,i.fill=t||"#fff"):(i.fill&&(i.fill=e),i.stroke&&(i.stroke=e)),this.dirty(!1)}}function t(t,i,o,r,a,c,s){var l=0===t.indexOf("empty");l&&(t=t.substr(5,1).toLowerCase()+t.substr(6));var d;return d=0===t.indexOf("image://")?h.makeImage(t.slice(8),new n(i,o,r,a),s?"center":"cover"):0===t.indexOf("path://")?h.makePath(t.slice(7),{},new n(i,o,r,a),s?"center":"cover"):new y({shape:{symbolType:t,x:i,y:o,width:r,height:a}}),d.__isEmptyBrush=l,d.setColor=e,d.setColor(c),d}var i=require("zrender/lib/core/util"),h=require("./graphic"),n=require("zrender/lib/core/BoundingRect"),o=h.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var i=t.cx,h=t.cy,n=t.width/2,o=t.height/2;e.moveTo(i,h-o),e.lineTo(i+n,h+o),e.lineTo(i-n,h+o),e.closePath()}}),r=h.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var i=t.cx,h=t.cy,n=t.width/2,o=t.height/2;e.moveTo(i,h-o),e.lineTo(i+n,h),e.lineTo(i,h+o),e.lineTo(i-n,h),e.closePath()}}),a=h.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var i=t.x,h=t.y,n=t.width/5*3,o=Math.max(n,t.height),r=n/2,a=r*r/(o-r),c=h-o+r+a,s=Math.asin(a/r),l=Math.cos(s)*r,d=Math.sin(s),y=Math.cos(s),u=.6*r,p=.7*r;e.moveTo(i-l,c+a),e.arc(i,c,r,Math.PI-s,2*Math.PI+s),e.bezierCurveTo(i+l-d*u,c+a+y*u,i,h-p,i,h),e.bezierCurveTo(i,h-p,i-l+d*u,c+a+y*u,i-l,c+a),e.closePath()}}),c=h.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var i=t.height,h=t.width,n=t.x,o=t.y,r=h/3*2;e.moveTo(n,o),e.lineTo(n+r,o+i),e.lineTo(n,o+i/4*3),e.lineTo(n-r,o+i),e.lineTo(n,o),e.closePath()}}),s={line:h.Line,rect:h.Rect,roundRect:h.Rect,square:h.Rect,circle:h.Circle,diamond:r,pin:a,arrow:c,triangle:o},l={line:function(e,t,i,h,n){n.x1=e,n.y1=t+h/2,n.x2=e+i,n.y2=t+h/2},rect:function(e,t,i,h,n){n.x=e,n.y=t,n.width=i,n.height=h},roundRect:function(e,t,i,h,n){n.x=e,n.y=t,n.width=i,n.height=h,n.r=Math.min(i,h)/4},square:function(e,t,i,h,n){var o=Math.min(i,h);n.x=e,n.y=t,n.width=o,n.height=o},circle:function(e,t,i,h,n){n.cx=e+i/2,n.cy=t+h/2,n.r=Math.min(i,h)/2},diamond:function(e,t,i,h,n){n.cx=e+i/2,n.cy=t+h/2,n.width=i,n.height=h},pin:function(e,t,i,h,n){n.x=e+i/2,n.y=t+h/2,n.width=i,n.height=h},arrow:function(e,t,i,h,n){n.x=e+i/2,n.y=t+h/2,n.width=i,n.height=h},triangle:function(e,t,i,h,n){n.cx=e+i/2,n.cy=t+h/2,n.width=i,n.height=h}},d={};i.each(s,function(e,t){d[t]=new e});var y=h.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var e=this.style;"pin"===this.shape.symbolType&&"inside"===e.textPosition&&(e.textPosition=["50%","40%"],e.textAlign="center",e.textVerticalAlign="middle")},buildPath:function(e,t,i){var h=t.symbolType,n=d[h];"none"!==t.symbolType&&(n||(n=d[h="rect"]),l[h](t.x,t.y,t.width,t.height,n.shape),n.buildPath(e,n.shape,i))}});exports.createSymbol=t;
},{"zrender/lib/core/util":113,"zrender/lib/core/BoundingRect":256,"./graphic":59}],117:[function(require,module,exports) {
function t(t){return t}function e(e,n,i,h,r){this._old=e,this._new=n,this._oldKeyGetter=i||t,this._newKeyGetter=h||t,this.context=r}function n(t,e,n,i,h){for(var r=0;r<t.length;r++){var s="_ec_"+h[i](t[r],r),o=e[s];null==o?(n.push(s),e[s]=r):(o.length||(e[s]=o=[o]),o.push(r))}}e.prototype={constructor:e,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t=this._old,e=this._new,i={},h=[],r=[];for(n(t,{},h,"_oldKeyGetter",this),n(e,i,r,"_newKeyGetter",this),s=0;s<t.length;s++){if(null!=(u=i[o=h[s]])){(d=u.length)?(1===d&&(i[o]=null),u=u.unshift()):i[o]=null,this._update&&this._update(u,s)}else this._remove&&this._remove(s)}for(var s=0;s<r.length;s++){var o=r[s];if(i.hasOwnProperty(o)){var u;if(null==(u=i[o]))continue;if(u.length)for(var l=0,d=u.length;l<d;l++)this._add&&this._add(u[l]);else this._add&&this._add(u)}}}};var i=e;module.exports=i;
},{}],125:[function(require,module,exports) {
function e(e){return e instanceof Array?e:null==e?[]:[e]}function n(e,n){if(e)for(var t=e.emphasis=e.emphasis||{},a=e.normal=e.normal||{},r=0,i=n.length;r<i;r++){var o=n[r];!t.hasOwnProperty(o)&&a.hasOwnProperty(o)&&(t[o]=a[o])}}function t(e){return e&&(null==e.value?e:e.value)}function a(e){return D(e)&&!(e instanceof Array)}function r(e,n){var t=n&&n.type;return"ordinal"===t?e:("time"===t&&"number"!=typeof e&&null!=e&&"-"!==e&&(e=+I.parseDate(e)),null==e||""===e?NaN:+e)}function i(e,n){var t=new g;return v.mixin(t,w),t.seriesIndex=n.seriesIndex,t.name=n.name||"",t.mainType=n.mainType,t.subType=n.subType,t.getData=function(){return e},t}function o(e,n){n=(n||[]).slice();var t=v.map(e||[],function(e,n){return{exist:e}});return y(n,function(e,a){if(D(e)){for(var r=0;r<t.length;r++)if(!t[r].option&&null!=e.id&&t[r].exist.id===e.id+"")return t[r].option=e,void(n[a]=null);for(r=0;r<t.length;r++){var i=t[r].exist;if(!(t[r].option||null!=i.id&&null!=e.id||null==e.name||d(e)||d(i)||i.name!==e.name+""))return t[r].option=e,void(n[a]=null)}}}),y(n,function(e,n){if(D(e)){for(var a=0;a<t.length;a++){var r=t[a].exist;if(!t[a].option&&!d(r)&&null==e.id){t[a].option=e;break}}a>=t.length&&t.push({option:e})}}),t}function s(e){var n=v.createHashMap();y(e,function(e,t){var a=e.exist;a&&n.set(a.id,e)}),y(e,function(e,t){var a=e.option;v.assert(!a||null==a.id||!n.get(a.id)||n.get(a.id)===e,"id duplicates: "+(a&&a.id)),a&&null!=a.id&&n.set(a.id,e),!e.keyInfo&&(e.keyInfo={})}),y(e,function(e,t){var a=e.exist,r=e.option,i=e.keyInfo;if(D(r)){if(i.name=null!=r.name?r.name+"":a?a.name:"\0-",a)i.id=a.id;else if(null!=r.id)i.id=r.id+"";else{var o=0;do{i.id="\0"+i.name+"\0"+o++}while(n.get(i.id))}n.set(i.id,e)}})}function d(e){return D(e)&&e.id&&0===(e.id+"").indexOf("\0_ec_\0")}function u(n,t){function a(n,t,a){for(var r=0,i=n.length;r<i;r++)for(var o=n[r].seriesId,s=e(n[r].dataIndex),d=a&&a[o],u=0,l=s.length;u<l;u++){var f=s[u];d&&d[f]?d[f]=null:(t[o]||(t[o]={}))[f]=1}}function r(e,n){var t=[];for(var a in e)if(e.hasOwnProperty(a)&&null!=e[a])if(n)t.push(+a);else{var i=r(e[a],!0);i.length&&t.push({seriesId:a,dataIndex:i})}return t}var i={},o={};return a(n||[],i),a(t||[],o,i),[r(i),r(o)]}function l(e,n){return null!=n.dataIndexInside?n.dataIndexInside:null!=n.dataIndex?v.isArray(n.dataIndex)?v.map(n.dataIndex,function(n){return e.indexOfRawIndex(n)}):e.indexOfRawIndex(n.dataIndex):null!=n.name?v.isArray(n.name)?v.map(n.name,function(n){return e.indexOfName(n)}):e.indexOfName(n.name):void 0}function f(e,n,t){if(v.isString(n)){var a={};a[n+"Index"]=0,n=a}var r=t&&t.defaultMainType;!r||x(n,r+"Index")||x(n,r+"Id")||x(n,r+"Name")||(n[r+"Index"]=0);var i={};return y(n,function(a,r){a=n[r];if("dataIndex"!==r&&"dataIndexInside"!==r){var o=r.match(/^(\w+)(Index|Id|Name)$/)||[],s=o[1],d=(o[2]||"").toLowerCase();if(!(!s||!d||null==a||"index"===d&&"none"===a||t&&t.includeMainTypes&&v.indexOf(t.includeMainTypes,s)<0)){var u={mainType:s};"index"===d&&"all"===a||(u[d]=a);var l=e.queryComponents(u);i[s+"Models"]=l,i[s+"Model"]=l[0]}}else i[r]=a}),i}function m(e,n){var t=e.dimensions;n=e.getDimension(n);for(var a=0;a<t.length;a++){var r=e.getDimensionInfo(t[a]);if(r.name===n)return r.coordDim}}function p(e,n){var t=[];return y(e.dimensions,function(a){var r=e.getDimensionInfo(a);r.coordDim===n&&(t[r.coordDimIndex]=r.name)}),t}function c(e,n){var t=[];return y(e.dimensions,function(a){var r=e.getDimensionInfo(a),i=r.otherDims[n];null!=i&&!1!==i&&(t[i]=r.name)}),t}function x(e,n){return e&&e.hasOwnProperty(n)}var v=require("zrender/lib/core/util"),h=require("./format"),I=require("./number"),g=require("../model/Model"),y=v.each,D=v.isObject,T=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],w={getDataParams:function(e,n){var t=this.getData(n),a=this.getRawValue(e,n),r=t.getRawIndex(e),i=t.getName(e,!0),o=t.getRawDataItem(e),s=t.getItemVisual(e,"color");return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:i,dataIndex:r,data:o,dataType:n,value:a,color:s,marker:h.getTooltipMarker(s),$vars:["seriesName","name","value"]}},getFormattedLabel:function(e,n,t,a,r){n=n||"normal";var i=this.getData(t).getItemModel(e),o=this.getDataParams(e,t);null!=a&&o.value instanceof Array&&(o.value=o.value[a]);var s=i.get([r||"label",n,"formatter"]);return"function"==typeof s?(o.status=n,s(o)):"string"==typeof s?h.formatTpl(s,o):void 0},getRawValue:function(e,n){var t=this.getData(n).getRawDataItem(e);if(null!=t)return!D(t)||t instanceof Array?t:t.value},formatTooltip:v.noop},O=function(){var e=0;return function(){var n="\0__ec_prop_getter_"+e++;return function(e){return e[n]||(e[n]={})}}}();exports.normalizeToArray=e,exports.defaultEmphasis=n,exports.TEXT_STYLE_OPTIONS=T,exports.getDataItemValue=t,exports.isDataItemOption=a,exports.converDataValue=r,exports.createDataFormatModel=i,exports.dataFormatMixin=w,exports.mappingToExists=o,exports.makeIdAndName=s,exports.isIdInner=d,exports.compressBatches=u,exports.queryDataIndex=l,exports.makeGetter=O,exports.parseFinder=f,exports.dataDimToCoordDim=m,exports.coordDimToDataDim=p,exports.otherDimToDataDim=c;
},{"zrender/lib/core/util":113,"./format":61,"./number":60,"../model/Model":64}],63:[function(require,module,exports) {
var global = (1,eval)("this");
function t(t,i){o.each(_.concat(i.__wrappedMethods||[]),function(e){i.hasOwnProperty(e)&&(t[e]=i[e])}),t.__wrappedMethods=i.__wrappedMethods}function i(t){this._array=t||[]}function e(t){return o.isArray(t)||(t=[t]),t}function n(i,e){var n=i.dimensions,s=new p(o.map(n,i.getDimensionInfo,i),i.hostModel);t(s,i);for(var r=s._storage={},a=i._storage,h=0;h<n.length;h++){var u=n[h],l=a[u];o.indexOf(e,u)>=0?r[u]=new l.constructor(a[u].length):r[u]=a[u]}return s}var s=(0,eval)("this"),r=require("../config"),a=r.__DEV__,o=require("zrender/lib/core/util"),h=require("../model/Model"),u=require("./DataDiffer"),l=require("../util/model"),c=o.isObject,f="undefined",d=typeof window===f?s:window,m={float:typeof d.Float64Array===f?Array:d.Float64Array,int:typeof d.Int32Array===f?Array:d.Int32Array,ordinal:Array,number:Array,time:Array},_=["stackedOn","hasItemOption","_nameList","_idList","_rawData"];i.prototype.pure=!1,i.prototype.count=function(){return this._array.length},i.prototype.getItem=function(t){return this._array[t]};var p=function(t,i){t=t||["x","y"];for(var e={},n=[],s=0;s<t.length;s++){var r,a={};"string"==typeof t[s]?a={name:r=t[s],coordDim:r,coordDimIndex:0,stackable:!1,type:"number"}:(r=(a=t[s]).name,a.type=a.type||"number",a.coordDim||(a.coordDim=r,a.coordDimIndex=0)),a.otherDims=a.otherDims||{},n.push(r),e[r]=a}this.dimensions=n,this._dimensionInfos=e,this.hostModel=i,this.dataType,this.indices=[],this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this.stackedOn=null,this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._rawData,this._extent},g=p.prototype;g.type="list",g.hasItemOption=!0,g.getDimension=function(t){return isNaN(t)||(t=this.dimensions[t]||t),t},g.getDimensionInfo=function(t){return o.clone(this._dimensionInfos[this.getDimension(t)])},g.initData=function(t,e,n){t=t||[];o.isArray(t)&&(t=new i(t)),this._rawData=t;var s,r=this._storage={},a=this.indices=[],h=this.dimensions,u=this._dimensionInfos,c=t.count(),f=[],d={};e=e||[];for(var _=0;_<h.length;_++){var p=u[h[_]];0===p.otherDims.itemName&&(s=_);var g=m[p.type];r[h[_]]=new g(c)}var v=this;n||(v.hasItemOption=!1),n=n||function(t,i,e,n){var s=l.getDataItemValue(t);return l.isDataItemOption(t)&&(v.hasItemOption=!0),l.converDataValue(s instanceof Array?s[n]:s,u[i])};for(_=0;_<c;_++){for(var y=t.getItem(_),I=0;I<h.length;I++){var w=h[I];r[w][_]=n(y,w,_,I)}a.push(_)}for(_=0;_<c;_++){y=t.getItem(_);!e[_]&&y&&(null!=y.name?e[_]=y.name:null!=s&&(e[_]=r[h[s]][_]));var D=e[_]||"",x=y&&y.id;!x&&D&&(d[D]=d[D]||0,x=D,d[D]>0&&(x+="__ec__"+d[D]),d[D]++),x&&(f[_]=x)}this._nameList=e,this._idList=f},g.count=function(){return this.indices.length},g.get=function(t,i,e){var n=this._storage,s=this.indices[i];if(null==s||!n[t])return NaN;var r=n[t][s];if(e){var a=this._dimensionInfos[t];if(a&&a.stackable)for(var o=this.stackedOn;o;){var h=o.get(t,i);(r>=0&&h>0||r<=0&&h<0)&&(r+=h),o=o.stackedOn}}return r},g.getValues=function(t,i,e){var n=[];o.isArray(t)||(e=i,i=t,t=this.dimensions);for(var s=0,r=t.length;s<r;s++)n.push(this.get(t[s],i,e));return n},g.hasValue=function(t){for(var i=this.dimensions,e=this._dimensionInfos,n=0,s=i.length;n<s;n++)if("ordinal"!==e[i[n]].type&&isNaN(this.get(i[n],t)))return!1;return!0},g.getDataExtent=function(t,i,e){t=this.getDimension(t);var n=this._storage[t],s=this.getDimensionInfo(t);i=s&&s.stackable&&i;var r,a=(this._extent||(this._extent={}))[t+!!i];if(a)return a;if(n){for(var o=1/0,h=-1/0,u=0,l=this.count();u<l;u++)r=this.get(t,u,i),e&&!e(r,t,u)||(r<o&&(o=r),r>h&&(h=r));return this._extent[t+!!i]=[o,h]}return[1/0,-1/0]},g.getSum=function(t,i){var e=0;if(this._storage[t])for(var n=0,s=this.count();n<s;n++){var r=this.get(t,n,i);isNaN(r)||(e+=r)}return e},g.indexOf=function(t,i){var e=this._storage[t],n=this.indices;if(e)for(var s=0,r=n.length;s<r;s++){if(e[n[s]]===i)return s}return-1},g.indexOfName=function(t){for(var i=this.indices,e=this._nameList,n=0,s=i.length;n<s;n++){if(e[i[n]]===t)return n}return-1},g.indexOfRawIndex=function(t){var i=this.indices,e=i[t];if(null!=e&&e===t)return t;for(var n=0,s=i.length-1;n<=s;){var r=(n+s)/2|0;if(i[r]<t)n=r+1;else{if(!(i[r]>t))return r;s=r-1}}return-1},g.indicesOfNearest=function(t,i,e,n){var s=[];if(!this._storage[t])return s;null==n&&(n=1/0);for(var r=Number.MAX_VALUE,a=-1,o=0,h=this.count();o<h;o++){var u=i-this.get(t,o,e),l=Math.abs(u);u<=n&&l<=r&&((l<r||u>=0&&a<0)&&(r=l,a=u,s.length=0),s.push(o))}return s},g.getRawIndex=function(t){var i=this.indices[t];return null==i?-1:i},g.getRawDataItem=function(t){return this._rawData.getItem(this.getRawIndex(t))},g.getName=function(t){return this._nameList[this.indices[t]]||""},g.getId=function(t){return this._idList[this.indices[t]]||this.getRawIndex(t)+""},g.each=function(t,i,n,s){"function"==typeof t&&(s=n,n=i,i=t,t=[]);var r=[],a=(t=o.map(e(t),this.getDimension,this)).length,h=this.indices;s=s||this;for(var u=0;u<h.length;u++)switch(a){case 0:i.call(s,u);break;case 1:i.call(s,this.get(t[0],u,n),u);break;case 2:i.call(s,this.get(t[0],u,n),this.get(t[1],u,n),u);break;default:for(var l=0;l<a;l++)r[l]=this.get(t[l],u,n);r[l]=u,i.apply(s,r)}},g.filterSelf=function(t,i,n,s){"function"==typeof t&&(s=n,n=i,i=t,t=[]);var r=[],a=[],h=(t=o.map(e(t),this.getDimension,this)).length,u=this.indices;s=s||this;for(var l=0;l<u.length;l++){var c;if(h)if(1===h)c=i.call(s,this.get(t[0],l,n),l);else{for(var f=0;f<h;f++)a[f]=this.get(t[f],l,n);a[f]=l,c=i.apply(s,a)}else c=i.call(s,l);c&&r.push(u[l])}return this.indices=r,this._extent={},this},g.mapArray=function(t,i,e,n){"function"==typeof t&&(n=e,e=i,i=t,t=[]);var s=[];return this.each(t,function(){s.push(i&&i.apply(this,arguments))},e,n),s},g.map=function(t,i,s,r){var a=n(this,t=o.map(e(t),this.getDimension,this)),h=a.indices=this.indices,u=a._storage,l=[];return this.each(t,function(){var e=arguments[arguments.length-1],n=i&&i.apply(this,arguments);if(null!=n){"number"==typeof n&&(l[0]=n,n=l);for(var s=0;s<n.length;s++){var r=t[s],a=u[r],o=h[e];a&&(a[o]=n[s])}}},s,r),a},g.downSample=function(t,i,e,s){for(var r=n(this,[t]),a=this._storage,o=r._storage,h=this.indices,u=r.indices=[],l=[],c=[],f=Math.floor(1/i),d=o[t],m=this.count(),_=0;_<a[t].length;_++)o[t][_]=a[t][_];for(_=0;_<m;_+=f){f>m-_&&(f=m-_,l.length=f);for(var p=0;p<f;p++){var g=h[_+p];l[p]=d[g],c[p]=g}var v=e(l);d[g=c[s(l,v)||0]]=v,u.push(g)}return r},g.getItemModel=function(t){var i=this.hostModel;return t=this.indices[t],new h(this._rawData.getItem(t),i,i&&i.ecModel)},g.diff=function(t){var i,e=this._idList,n=t&&t._idList;return new u(t?t.indices:[],this.indices,function(t){return null!=(i=n[t])?i:"e\0\0"+t},function(t){return null!=(i=e[t])?i:"e\0\0"+t})},g.getVisual=function(t){var i=this._visual;return i&&i[t]},g.setVisual=function(t,i){if(c(t))for(var e in t)t.hasOwnProperty(e)&&this.setVisual(e,t[e]);else this._visual=this._visual||{},this._visual[t]=i},g.setLayout=function(t,i){if(c(t))for(var e in t)t.hasOwnProperty(e)&&this.setLayout(e,t[e]);else this._layout[t]=i},g.getLayout=function(t){return this._layout[t]},g.getItemLayout=function(t){return this._itemLayouts[t]},g.setItemLayout=function(t,i,e){this._itemLayouts[t]=e?o.extend(this._itemLayouts[t]||{},i):i},g.clearItemLayouts=function(){this._itemLayouts.length=0},g.getItemVisual=function(t,i,e){var n=this._itemVisuals[t],s=n&&n[i];return null!=s||e?s:this.getVisual(i)},g.setItemVisual=function(t,i,e){var n=this._itemVisuals[t]||{};if(this._itemVisuals[t]=n,c(i))for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s]);else n[i]=e},g.clearAllVisual=function(){this._visual={},this._itemVisuals=[]};var v=function(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType};g.setItemGraphicEl=function(t,i){var e=this.hostModel;i&&(i.dataIndex=t,i.dataType=this.dataType,i.seriesIndex=e&&e.seriesIndex,"group"===i.type&&i.traverse(v,i)),this._graphicEls[t]=i},g.getItemGraphicEl=function(t){return this._graphicEls[t]},g.eachItemGraphicEl=function(t,i){o.each(this._graphicEls,function(e,n){e&&t&&t.call(i,e,n)})},g.cloneShallow=function(){var i=o.map(this.dimensions,this.getDimensionInfo,this),e=new p(i,this.hostModel);return e._storage=this._storage,t(e,this),e.indices=this.indices.slice(),this._extent&&(e._extent=o.extend({},this._extent)),e},g.wrapMethod=function(t,i){var e=this[t];"function"==typeof e&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=e.apply(this,arguments);return i.apply(this,[t].concat(o.slice(arguments)))})},g.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],g.CHANGABLE_METHODS=["filterSelf"];var y=p;module.exports=y;
},{"../config":116,"../model/Model":64,"./DataDiffer":117,"../util/model":125,"zrender/lib/core/util":113}],194:[function(require,module,exports) {
function e(e,t,c){function s(e,r,n){u[r]?e.otherDims[r]=n:(e.coordDim=r,e.coordDimIndex=n,v.set(r,!0))}function f(e,r,n){if(n||null!=r.get(e)){for(var t=0;null!=r.get(e+t);)t++;e+=t}return r.set(e,!0),e}t=t||[],c=c||{},e=(e||[]).slice();var d=(c.dimsDef||[]).slice(),h=n.createHashMap(c.encodeDef),D=n.createHashMap(),v=n.createHashMap(),g=[],p=c.dimCount;if(null==p){var x=r(t[0]);p=Math.max(n.isArray(x)&&x.length||1,e.length,d.length),o(e,function(e){var r=e.dimsDef;r&&(p=Math.max(p,r.length))})}for(var y=0;y<p;y++){var M=l(d[y])?{name:d[y]}:d[y]||{},A=M.name,b=g[y]={otherDims:{}};null!=A&&null==D.get(A)&&(b.name=b.tooltipName=A,D.set(A,y)),null!=M.type&&(b.type=M.type)}h.each(function(e,r){e=h.set(r,i(e).slice()),o(e,function(n,t){l(n)&&(n=D.get(n)),null!=n&&n<p&&(e[t]=n,s(g[n],r,t))})});var H=0;o(e,function(e,r){var t,u,m;l(e)?(t=e,e={}):(t=e.name,e=n.clone(e),u=e.dimsDef,m=e.otherDims,e.name=e.coordDim=e.coordDimIndex=e.dimsDef=e.otherDims=null);var c=i(h.get(t));if(!c.length)for(var f=0;f<(u&&u.length||1);f++){for(;H<g.length&&null!=g[H].coordDim;)H++;H<g.length&&c.push(H++)}o(c,function(r,n){var i=g[r];s(a(i,e),t,n),null==i.name&&u&&(i.name=i.tooltipName=u[n]),m&&a(i.otherDims,m)})});for(var I=c.extraPrefix||"value",N=0;N<p;N++){null==(b=g[N]=g[N]||{}).coordDim&&(b.coordDim=f(I,v,c.extraFromZero),b.coordDimIndex=0,b.isExtraCoord=!0),null==b.name&&(b.name=f(b.coordDim,D)),null==b.type&&m(t,N)&&(b.type="ordinal")}return g}function r(e){return n.isArray(e)?e:n.isObject(e)?e.value:e}var n=require("zrender/lib/core/util"),t=require("../../util/model"),i=t.normalizeToArray,o=n.each,l=n.isString,a=n.defaults,u={tooltip:1,label:1,itemName:1},m=e.guessOrdinal=function(e,t){for(var i=0,o=e.length;i<o;i++){var a=r(e[i]);if(!n.isArray(a))return!1;if(null!=(a=a[t])&&isFinite(a)&&""!==a)return!1;if(l(a)&&"-"!==a)return!0}return!1},c=e;module.exports=c;
},{"../../util/model":125,"zrender/lib/core/util":113}],119:[function(require,module,exports) {
function e(e){for(var n=0;n<e.length&&null==e[n];)n++;return e[n]}function n(n){var t=e(n);return null!=t&&!g.isArray(u(t))}function t(e,t,i){e=e||[];var r=t.get("coordinateSystem"),o=p[r],s=x.get(r),c={encodeDef:t.get("encode"),dimsDef:t.get("dimensions")},f=o&&o(e,t,i,c),I=f&&f.dimensions;I||(I=s&&(s.getDimensionsInfo?s.getDimensionsInfo():s.dimensions.slice())||["x","y"],I=l(I,e,c));var v=f?f.categoryIndex:-1,A=new d(I,t),D=a(f,e),q={},h=v>=0&&n(e)?function(e,n,t,i){return m(e)&&(A.hasItemOption=!0),i===v?t:y(u(e),I[i])}:function(e,n,t,i){var r=u(e),a=y(r&&r[i],I[i]);m(e)&&(A.hasItemOption=!0);var o=f&&f.categoryAxesModels;return o&&o[n]&&"string"==typeof a&&(q[n]=q[n]||o[n].getCategories(),(a=g.indexOf(q[n],a))<0&&!isNaN(a)&&(a=+a)),a};return A.hasItemOption=!1,A.initData(e,D,h),A}function i(e){return"category"!==e&&"time"!==e}function r(e){return"category"===e?"ordinal":"time"===e?"time":"float"}function a(e,n){var t,i=[],r=e&&e.dimensions[e.categoryIndex];if(r&&(t=e.categoryAxesModels[r.name]),t){var a=t.getCategories();if(a){var o=n.length;if(g.isArray(n[0])&&n[0].length>1){i=[];for(var s=0;s<o;s++)i[s]=a[n[s][e.categoryIndex||0]]}else i=a.slice(0)}}return i}var o=require("../../config"),s=o.__DEV__,g=require("zrender/lib/core/util"),d=require("../../data/List"),l=require("../../data/helper/completeDimensions"),c=require("../../util/model"),u=c.getDataItemValue,y=c.converDataValue,m=c.isDataItemOption,x=require("../../CoordinateSystem"),p={cartesian2d:function(e,n,t,a){var o=g.map(["xAxis","yAxis"],function(e){return t.queryComponents({mainType:e,index:n.get(e+"Index"),id:n.get(e+"Id")})[0]}),s=o[0],d=o[1],c=s.get("type"),u=d.get("type"),y=[{name:"x",type:r(c),stackable:i(c)},{name:"y",type:r(u),stackable:i(u)}],m="category"===c,x="category"===u;y=l(y,e,a);var p={};return m&&(p.x=s),x&&(p.y=d),{dimensions:y,categoryIndex:m?0:x?1:-1,categoryAxesModels:p}},singleAxis:function(e,n,t,a){var o=t.queryComponents({mainType:"singleAxis",index:n.get("singleAxisIndex"),id:n.get("singleAxisId")})[0],s=o.get("type"),g="category"===s,d=[{name:"single",type:r(s),stackable:i(s)}];d=l(d,e,a);var c={};return g&&(c.single=o),{dimensions:d,categoryIndex:g?0:-1,categoryAxesModels:c}},polar:function(e,n,t,a){var o=t.queryComponents({mainType:"polar",index:n.get("polarIndex"),id:n.get("polarId")})[0],s=o.findAxisModel("angleAxis"),g=o.findAxisModel("radiusAxis"),d=g.get("type"),c=s.get("type"),u=[{name:"radius",type:r(d),stackable:i(d)},{name:"angle",type:r(c),stackable:i(c)}],y="category"===c,m="category"===d;u=l(u,e,a);var x={};return m&&(x.radius=g),y&&(x.angle=s),{dimensions:u,categoryIndex:y?1:m?0:-1,categoryAxesModels:x}},geo:function(e,n,t,i){return{dimensions:l([{name:"lng"},{name:"lat"}],e,i)}}},f=t;module.exports=f;
},{"../../config":116,"../../CoordinateSystem":197,"../../data/List":63,"../../util/model":125,"../../data/helper/completeDimensions":194,"zrender/lib/core/util":113}],58:[function(require,module,exports) {
function e(e){var r=e.get("data");return i(r,e,e.ecModel)}function r(e,r){var o=r;r instanceof c||(o=new c(r),t.mixin(o,a));var i=n.createScaleByModel(o);return i.setExtent(e[0],e[1]),n.niceScaleExtent(i,o),i}function o(e){t.mixin(e,a)}var t=require("zrender/lib/core/util"),i=require("./chart/helper/createListFromArray"),n=require("./coord/axisHelper"),a=require("./coord/axisModelCommonMixin"),c=require("./model/Model"),l=require("./data/helper/completeDimensions");exports.completeDimensions=l;var s=require("./util/symbol");exports.createSymbol=s.createSymbol,exports.createList=e,exports.createScale=r,exports.mixinAxisModelCommonMethods=o;
},{"zrender/lib/core/util":113,"./model/Model":64,"./coord/axisHelper":191,"./coord/axisModelCommonMixin":192,"./util/symbol":193,"./chart/helper/createListFromArray":119,"./data/helper/completeDimensions":194}],65:[function(require,module,exports) {
function t(t,e){var n=(t[1]-t[0])/e/2;t[0]+=n,t[1]-=n}var e=require("zrender/lib/core/util"),n=require("../util/number"),i=require("./axisHelper"),a=n.linearMap,s=[0,1],r=function(t,e,n){this.dim=t,this.scale=e,this._extent=n||[0,0],this.inverse=!1,this.onBand=!1,this._labelInterval};r.prototype={constructor:r,contain:function(t){var e=this._extent,n=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]);return t>=n&&t<=i},containData:function(t){return this.contain(this.dataToCoord(t))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(t){return n.getPixelPrecision(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var n=this._extent;n[0]=t,n[1]=e},dataToCoord:function(e,n){var i=this._extent,r=this.scale;return e=r.normalize(e),this.onBand&&"ordinal"===r.type&&t(i=i.slice(),r.count()),a(e,s,i,n)},coordToData:function(e,n){var i=this._extent,r=this.scale;this.onBand&&"ordinal"===r.type&&t(i=i.slice(),r.count());var o=a(e,i,s,n);return this.scale.scale(o)},pointToData:function(t,e){},getTicksCoords:function(t){if(this.onBand&&!t){for(var n=this.getBands(),i=[],a=0;a<n.length;a++)i.push(n[a][0]);return n[a-1]&&i.push(n[a-1][1]),i}return e.map(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){return e.map(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var t=this.getExtent(),e=[],n=this.scale.count(),i=t[0],a=t[1]-i,s=0;s<n;s++)e.push([a*s/n+i,a*(s+1)/n+i]);return e},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);0===n&&(n=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/n},isHorizontal:null,getRotate:null,getLabelInterval:function(){var t=this._labelInterval;if(!t){var n=this.model,a=n.getModel("axisLabel");t=a.get("interval"),"category"!==this.type||null!=t&&"auto"!==t||(t=i.getAxisLabelInterval(e.map(this.scale.getTicks(),this.dataToCoord,this),n.getFormattedLabels(),a.getFont(),this.getRotate?this.getRotate():this.isHorizontal&&!this.isHorizontal()?90:0,a.get("rotate"))),this._labelInterval=t}return t}};var o=r;module.exports=o;
},{"../util/number":60,"./axisHelper":191,"zrender/lib/core/util":113}],426:[function(require,module,exports) {
function r(r,n){return Math.abs(r-n)<t}function n(n,t,a){var i=0,u=n[0];if(!u)return!1;for(var o=1;o<n.length;o++){var v=n[o];i+=e(u[0],u[1],v[0],v[1],t,a),u=v}var f=n[0];return r(u[0],f[0])&&r(u[1],f[1])||(i+=e(u[0],u[1],f[0],f[1],t,a)),0!==i}var e=require("./windingLine"),t=1e-8;exports.contain=n;
},{"./windingLine":460}],292:[function(require,module,exports) {
function e(e,r,t){if(this.name=e,this.geometries=r,t)t=[t[0],t[1]];else{var n=this.getBoundingRect();t=[n.x+n.width/2,n.y+n.height/2]}this.center=t}var r=require("zrender/lib/core/BoundingRect"),t=require("zrender/lib/core/bbox"),n=require("zrender/lib/core/vector"),i=require("zrender/lib/contain/polygon");e.prototype={constructor:e,properties:null,getBoundingRect:function(){var e=this._rect;if(e)return e;for(var i=Number.MAX_VALUE,o=[i,i],a=[-i,-i],c=[],h=[],s=this.geometries,g=0;g<s.length;g++)if("polygon"===s[g].type){var f=s[g].exterior;t.fromPoints(f,c,h),n.min(o,o,c),n.max(a,a,h)}return 0===g&&(o[0]=o[1]=a[0]=a[1]=0),this._rect=new r(o[0],o[1],a[0]-o[0],a[1]-o[1])},contain:function(e){var r=this.getBoundingRect(),t=this.geometries;if(!r.contain(e[0],e[1]))return!1;e:for(var n=0,o=t.length;n<o;n++)if("polygon"===t[n].type){var a=t[n].exterior,c=t[n].interiors;if(i.contain(a,e[0],e[1])){for(var h=0;h<(c?c.length:0);h++)if(i.contain(c[h]))continue e;return!0}}return!1},transformTo:function(e,t,i,o){var a=this.getBoundingRect(),c=a.width/a.height;i?o||(o=i/c):i=c*o;for(var h=new r(e,t,i,o),s=a.calculateTransform(h),g=this.geometries,f=0;f<g.length;f++)if("polygon"===g[f].type){for(var u=g[f].exterior,l=g[f].interiors,p=0;p<u.length;p++)n.applyTransform(u[p],u[p],s);for(var v=0;v<(l?l.length:0);v++)for(p=0;p<l[v].length;p++)n.applyTransform(l[v][p],l[v][p],s)}(a=this._rect).copy(h),this.center=[a.x+a.width/2,a.y+a.height/2]}};var o=e;module.exports=o;
},{"zrender/lib/core/BoundingRect":256,"zrender/lib/core/bbox":391,"zrender/lib/core/vector":112,"zrender/lib/contain/polygon":426}],66:[function(require,module,exports) {
function e(e){if(!e.UTF8Encoding)return e;var o=e.UTF8Scale;null==o&&(o=1024);for(var t=e.features,n=0;n<t.length;n++)for(var i=t[n].geometry,u=i.coordinates,l=i.encodeOffsets,a=0;a<u.length;a++){var c=u[a];if("Polygon"===i.type)u[a]=r(c,l[a],o);else if("MultiPolygon"===i.type)for(var p=0;p<c.length;p++){var s=c[p];c[p]=r(s,l[a][p],o)}}return e.UTF8Encoding=!1,e}function r(e,r,o){for(var t=[],n=r[0],i=r[1],u=0;u<e.length;u+=2){var l=e.charCodeAt(u)-64,a=e.charCodeAt(u+1)-64;l=l>>1^-(1&l),a=a>>1^-(1&a),n=l+=n,i=a+=i,t.push([l/o,a/o])}return t}function o(r){return e(r),t.map(t.filter(r.features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var r=e.properties,o=e.geometry,i=o.coordinates,u=[];"Polygon"===o.type&&u.push({type:"polygon",exterior:i[0],interiors:i.slice(1)}),"MultiPolygon"===o.type&&t.each(i,function(e){e[0]&&u.push({type:"polygon",exterior:e[0],interiors:e.slice(1)})});var l=new n(r.name,u,r.cp);return l.properties=r,l})}var t=require("zrender/lib/core/util"),n=require("./Region");module.exports=o;
},{"./Region":292,"zrender/lib/core/util":113}],15:[function(require,module,exports) {
var r=require("zrender/lib/zrender");exports.zrender=r;var e=require("zrender/lib/core/matrix");exports.matrix=e;var t=require("zrender/lib/core/vector");exports.vector=t;var i=require("zrender/lib/core/util"),o=require("zrender/lib/tool/color");exports.color=o;var a=require("./util/graphic");exports.graphic=a;var s=require("./util/number");exports.number=s;var l=require("./util/format");exports.format=l;var u=require("./util/throttle"),n=u.throttle;exports.throttle=u.throttle;var p=require("./helper");exports.helper=p;var x=require("./data/List");exports.List=x;var c=require("./model/Model");exports.Model=c;var d=require("./coord/Axis");exports.Axis=d;var v=require("zrender/lib/core/env");exports.env=v;var q=require("./coord/geo/parseGeoJson");exports.parseGeoJson=q;var h={};i.each(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(r){h[r]=i[r]}),exports.util=h;
},{"./helper":58,"./util/graphic":59,"./util/number":60,"./util/format":61,"./util/throttle":62,"./data/List":63,"./model/Model":64,"./coord/Axis":65,"./coord/geo/parseGeoJson":66,"zrender/lib/zrender":110,"zrender/lib/core/matrix":111,"zrender/lib/core/vector":112,"zrender/lib/core/util":113,"zrender/lib/tool/color":114,"zrender/lib/core/env":115}],374:[function(require,module,exports) {
function e(e){return[e||"",c++,Math.random()].join(i)}function n(e){var n={};return e.registerSubTypeDefaulter=function(e,r){e=u(e),n[e.main]=r},e.determineSubType=function(r,t){var o=t.type;if(!o){var c=u(r).main;e.hasSubTypes(r)&&n[c]&&(o=n[c](t))}return o},e}function r(e,n){function r(e){var r={},u=[];return t.each(e,function(c){var i=o(r,c),s=function(e,n){var r=[];return t.each(e,function(e){t.indexOf(n,e)>=0&&r.push(e)}),r}(i.originalDeps=n(c),e);i.entryCount=s.length,0===i.entryCount&&u.push(c),t.each(s,function(e){t.indexOf(i.predecessor,e)<0&&i.predecessor.push(e);var n=o(r,e);t.indexOf(n.successor,e)<0&&n.successor.push(c)})}),{graph:r,noEntryList:u}}function o(e,n){return e[n]||(e[n]={predecessor:[],successor:[]}),e[n]}e.topologicalTravel=function(e,n,o,u){function c(e){a[e].entryCount--,0===a[e].entryCount&&p.push(e)}function i(e){f[e]=!0,c(e)}if(e.length){var s=r(n),a=s.graph,p=s.noEntryList,f={};for(t.each(e,function(e){f[e]=!0});p.length;){var l=p.pop(),h=a[l],y=!!f[l];y&&(o.call(u,l,h.originalDeps.slice()),delete f[l]),t.each(h.successor,y?i:c)}t.each(f,function(){throw new Error("Circle dependency may exists")})}}}var t=require("zrender/lib/core/util"),o=require("./clazz"),u=o.parseClassType,c=0,i="_";exports.getUID=e,exports.enableSubTypeDefaulter=n,exports.enableTopologicalTravel=r;
},{"zrender/lib/core/util":113,"./clazz":282}],126:[function(require,module,exports) {
function t(t,e,r,i,a){var n=0,o=0;null==i&&(i=1/0),null==a&&(a=1/0);var s=0;e.eachChild(function(h,u){var l,c,N=h.position,g=h.getBoundingRect(),f=e.childAt(u+1),p=f&&f.getBoundingRect();if("horizontal"===t){var d=g.width+(p?-p.x+g.x:0);(l=n+d)>i||h.newline?(n=0,l=d,o+=s+r,s=g.height):s=Math.max(s,g.height)}else{var x=g.height+(p?-p.y+g.y:0);(c=o+x)>a||h.newline?(n+=s+r,o=0,c=x,s=g.width):s=Math.max(s,g.width)}h.newline||(N[0]=n,N[1]=o,"horizontal"===t?n=l+r:o=c+r)})}function e(t,e,r){var i=e.width,a=e.height,n=c(t.x,i),o=c(t.y,a),s=c(t.x2,i),h=c(t.y2,a);return(isNaN(n)||isNaN(parseFloat(t.x)))&&(n=0),(isNaN(s)||isNaN(parseFloat(t.x2)))&&(s=i),(isNaN(o)||isNaN(parseFloat(t.y)))&&(o=0),(isNaN(h)||isNaN(parseFloat(t.y2)))&&(h=a),r=N.normalizeCssArray(r||0),{width:Math.max(s-n-r[1]-r[3],0),height:Math.max(h-o-r[0]-r[2],0)}}function r(t,e,r){r=N.normalizeCssArray(r||0);var i=e.width,a=e.height,n=c(t.left,i),o=c(t.top,a),s=c(t.right,i),h=c(t.bottom,a),l=c(t.width,i),g=c(t.height,a),f=r[2]+r[0],p=r[1]+r[3],d=t.aspect;switch(isNaN(l)&&(l=i-s-p-n),isNaN(g)&&(g=a-h-f-o),null!=d&&(isNaN(l)&&isNaN(g)&&(d>i/a?l=.8*i:g=.8*a),isNaN(l)&&(l=d*g),isNaN(g)&&(g=l/d)),isNaN(n)&&(n=i-s-l-p),isNaN(o)&&(o=a-h-g-f),t.left||t.right){case"center":n=i/2-l/2-r[3];break;case"right":n=i-l-p}switch(t.top||t.bottom){case"middle":case"center":o=a/2-g/2-r[0];break;case"bottom":o=a-g-f}n=n||0,o=o||0,isNaN(l)&&(l=i-p-n-(s||0)),isNaN(g)&&(g=a-f-o-(h||0));var x=new u(n+r[3],o+r[0],l,g);return x.margin=r,x}function i(t,e,i,a,n){var o=!n||!n.hv||n.hv[0],s=!n||!n.hv||n.hv[1],l=n&&n.boundingMode||"all";if(o||s){var c;if("raw"===l)c="group"===t.type?new u(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(c=t.getBoundingRect(),t.needLocalTransform()){var N=t.getLocalTransform();(c=c.clone()).applyTransform(N)}e=r(h.defaults({width:c.width,height:c.height},e),i,a);var g=t.position,f=o?e.x-c.x:0,p=s?e.y-c.y:0;t.attr("position","raw"===l?[f,p]:[g[0]+f,g[1]+p])}}function a(t,e){return null!=t[p[e][0]]||null!=t[p[e][1]]&&null!=t[p[e][2]]}function n(t,e,r){function i(r,i){var o={},h=0,u={},l=0;if(g(r,function(e){u[e]=t[e]}),g(r,function(t){a(e,t)&&(o[t]=u[t]=e[t]),n(o,t)&&h++,n(u,t)&&l++}),s[i])return n(e,r[1])?u[r[2]]=null:n(e,r[2])&&(u[r[1]]=null),u;if(2!==l&&h){if(h>=2)return o;for(var c=0;c<r.length;c++){var N=r[c];if(!a(o,N)&&a(t,N)){o[N]=t[N];break}}return o}return u}function a(t,e){return t.hasOwnProperty(e)}function n(t,e){return null!=t[e]&&"auto"!==t[e]}function o(t,e,r){g(t,function(t){e[t]=r[t]})}!h.isObject(r)&&(r={});var s=r.ignoreSize;!h.isArray(s)&&(s=[s,s]);var u=i(p[0],0),l=i(p[1],1);o(p[0],t,u),o(p[1],t,l)}function o(t){return s({},t)}function s(t,e){return e&&t&&g(f,function(r){e.hasOwnProperty(r)&&(t[r]=e[r])}),t}var h=require("zrender/lib/core/util"),u=require("zrender/lib/core/BoundingRect"),l=require("./number"),c=l.parsePercent,N=require("./format"),g=h.each,f=["left","right","top","bottom","width","height"],p=[["width","left","right"],["height","top","bottom"]],d=t,x=h.curry(t,"vertical"),v=h.curry(t,"horizontal");exports.LOCATION_PARAMS=f,exports.HV_NAMES=p,exports.box=d,exports.vbox=x,exports.hbox=v,exports.getAvailableSize=e,exports.getLayoutRect=r,exports.positionElement=i,exports.sizeCalculable=a,exports.mergeLayoutParam=n,exports.getLayoutParams=o,exports.copyLayoutParams=s;
},{"zrender/lib/core/util":113,"zrender/lib/core/BoundingRect":256,"./number":60,"./format":61}],375:[function(require,module,exports) {
var t={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}};module.exports=t;
},{}],201:[function(require,module,exports) {
function e(e){var n=[];return t.each(l.getClassesByMainType(e),function(e){u.apply(n,e.prototype.dependencies||[])}),t.map(n,function(e){return i.parseClassType(e).main})}var t=require("zrender/lib/core/util"),n=require("./Model"),o=require("../util/component"),i=require("../util/clazz"),r=require("../util/layout"),a=require("./mixin/boxLayout"),u=Array.prototype.push,l=n.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(e,t,i,r){n.call(this,e,t,i,r),this.uid=o.getUID("componentModel")},init:function(e,t,n,o){this.mergeDefaultAndTheme(e,n)},mergeDefaultAndTheme:function(e,n){var o=this.layoutMode,i=o?r.getLayoutParams(e):{},a=n.getTheme();t.merge(e,a.get(this.mainType)),t.merge(e,this.getDefaultOption()),o&&r.mergeLayoutParam(e,i,o)},mergeOption:function(e,n){t.merge(this.option,e,!0);var o=this.layoutMode;o&&r.mergeLayoutParam(this.option,e,o)},optionUpdated:function(e,t){},getDefaultOption:function(){if(!i.hasOwn(this,"__defaultOption")){for(var e=[],n=this.constructor;n;){var o=n.prototype.defaultOption;o&&e.push(o),n=n.superClass}for(var r={},a=e.length-1;a>=0;a--)r=t.merge(r,e[a],!0);i.set(this,"__defaultOption",r)}return i.get(this,"__defaultOption")},getReferringComponents:function(e){return this.ecModel.queryComponents({mainType:e,index:this.get(e+"Index",!0),id:this.get(e+"Id",!0)})}});i.enableClassManagement(l,{registerWhenExtend:!0}),o.enableSubTypeDefaulter(l),o.enableTopologicalTravel(l,e),t.mixin(l,a);var p=l;module.exports=p;
},{"zrender/lib/core/util":113,"./Model":64,"../util/clazz":282,"../util/component":374,"../util/layout":126,"./mixin/boxLayout":375}],370:[function(require,module,exports) {
var a="";"undefined"!=typeof navigator&&(a=navigator.platform||"");var e={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],textStyle:{fontFamily:a.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};module.exports=e;
},{}],371:[function(require,module,exports) {
var o=require("../../util/clazz"),r=o.set,e=o.get,t={clearColorPalette:function(){r(this,"colorIdx",0),r(this,"colorNameMap",{})},getColorFromPalette:function(o,t){var l=e(t=t||this,"colorIdx")||0,a=e(t,"colorNameMap")||r(t,"colorNameMap",{});if(a.hasOwnProperty(o))return a[o];var c=this.get("color",!0)||[];if(c.length){var i=c[l];return o&&(a[o]=i),r(t,"colorIdx",(l+1)%c.length),i}}};module.exports=t;
},{"../../util/clazz":282}],198:[function(require,module,exports) {
function e(e,n){c.each(n,function(n,t){f.hasClass(t)||("object"==typeof n?e[t]=e[t]?c.merge(e[t],n,!1):c.clone(n):null==e[t]&&(e[t]=n))})}function n(n){n=n,this.option={},this.option[I]=1,this._componentsMap=c.createHashMap({series:[]}),this._seriesIndices=null,e(n,this._theme.option),c.merge(n,h,!1),this.mergeOption(n)}function t(e,n){c.isArray(n)||(n=n?[n]:[]);var t={};return g(n,function(n){t[n]=(e.get(n)||[]).slice()}),t}function i(e,n,t){return n.type?n.type:t?t.subType:f.determineSubType(e,n)}function s(e){return y(e,function(e){return e.componentIndex})||[]}function r(e,n){return n.hasOwnProperty("subType")?d(e,function(e){return e.subType===n.subType}):e}function o(e){}var a=require("../config"),u=a.__DEV__,c=require("zrender/lib/core/util"),p=require("../util/model"),l=require("./Model"),f=require("./Component"),h=require("./globalDefault"),m=require("./mixin/colorPalette"),g=c.each,d=c.filter,y=c.map,_=c.isArray,v=c.indexOf,T=c.isObject,I="\0_ec_inner",M=l.extend({constructor:M,init:function(e,n,t,i){t=t||{},this.option=null,this._theme=new l(t),this._optionManager=i},setOption:function(e,n){c.assert(!(I in e),"please use chart.getOption()"),this._optionManager.setOption(e,n),this.resetOption(null)},resetOption:function(e){var t=!1,i=this._optionManager;if(!e||"recreate"===e){var s=i.mountOption("recreate"===e);this.option&&"recreate"!==e?(this.restoreData(),this.mergeOption(s)):n.call(this,s),t=!0}if("timeline"!==e&&"media"!==e||this.restoreData(),!e||"recreate"===e||"timeline"===e){var r=i.getTimelineOption(this);r&&(this.mergeOption(r),t=!0)}if(!e||"recreate"===e||"media"===e){var o=i.getMediaOption(this,this._api);o.length&&g(o,function(e){this.mergeOption(e,t=!0)},this)}return t},mergeOption:function(e){var n=this.option,r=this._componentsMap,o=[];g(e,function(e,t){null!=e&&(f.hasClass(t)?o.push(t):n[t]=null==n[t]?c.clone(e):c.merge(n[t],e,!0))}),f.topologicalTravel(o,f.getAllClassMainTypes(),function(o,a){var u=p.normalizeToArray(e[o]),l=p.mappingToExists(r.get(o),u);p.makeIdAndName(l),g(l,function(e,n){var t=e.option;T(t)&&(e.keyInfo.mainType=o,e.keyInfo.subType=i(o,t,e.exist))});var h=t(r,a);n[o]=[],r.set(o,[]),g(l,function(e,t){var i=e.exist,s=e.option;if(c.assert(T(s)||i,"Empty component definition"),s){var a=f.getClass(o,e.keyInfo.subType,!0);if(i&&i instanceof a)i.name=e.keyInfo.name,i.mergeOption(s,this),i.optionUpdated(s,!1);else{var u=c.extend({dependentModels:h,componentIndex:t},e.keyInfo);i=new a(s,this,this,u),c.extend(i,u),i.init(s,this,this,u),i.optionUpdated(null,!0)}}else i.mergeOption({},this),i.optionUpdated({},!1);r.get(o)[t]=i,n[o][t]=i.option},this),"series"===o&&(this._seriesIndices=s(r.get("series")))},this),this._seriesIndices=this._seriesIndices||[]},getOption:function(){var e=c.clone(this.option);return g(e,function(n,t){if(f.hasClass(t)){for(var i=(n=p.normalizeToArray(n)).length-1;i>=0;i--)p.isIdInner(n[i])&&n.splice(i,1);e[t]=n}}),delete e[I],e},getTheme:function(){return this._theme},getComponent:function(e,n){var t=this._componentsMap.get(e);if(t)return t[n||0]},queryComponents:function(e){var n=e.mainType;if(!n)return[];var t=e.index,i=e.id,s=e.name,o=this._componentsMap.get(n);if(!o||!o.length)return[];var a;if(null!=t)_(t)||(t=[t]),a=d(y(t,function(e){return o[e]}),function(e){return!!e});else if(null!=i){var u=_(i);a=d(o,function(e){return u&&v(i,e.id)>=0||!u&&e.id===i})}else if(null!=s){var c=_(s);a=d(o,function(e){return c&&v(s,e.name)>=0||!c&&e.name===s})}else a=o.slice();return r(a,e)},findComponents:function(e){var n=e.query,t=e.mainType,i=function(e){var n=t+"Index",i=t+"Id",s=t+"Name";return!e||null==e[n]&&null==e[i]&&null==e[s]?null:{mainType:t,index:e[n],id:e[i],name:e[s]}}(n);return function(n){return e.filter?d(n,e.filter):n}(r(i?this.queryComponents(i):this._componentsMap.get(t),e))},eachComponent:function(e,n,t){var i=this._componentsMap;if("function"==typeof e)t=n,n=e,i.each(function(e,i){g(e,function(e,s){n.call(t,i,e,s)})});else if(c.isString(e))g(i.get(e),n,t);else if(T(e)){var s=this.findComponents(e);g(s,n,t)}},getSeriesByName:function(e){var n=this._componentsMap.get("series");return d(n,function(n){return n.name===e})},getSeriesByIndex:function(e){return this._componentsMap.get("series")[e]},getSeriesByType:function(e){var n=this._componentsMap.get("series");return d(n,function(n){return n.subType===e})},getSeries:function(){return this._componentsMap.get("series").slice()},eachSeries:function(e,n){o(this),g(this._seriesIndices,function(t){var i=this._componentsMap.get("series")[t];e.call(n,i,t)},this)},eachRawSeries:function(e,n){g(this._componentsMap.get("series"),e,n)},eachSeriesByType:function(e,n,t){o(this),g(this._seriesIndices,function(i){var s=this._componentsMap.get("series")[i];s.subType===e&&n.call(t,s,i)},this)},eachRawSeriesByType:function(e,n,t){return g(this.getSeriesByType(e),n,t)},isSeriesFiltered:function(e){return o(this),c.indexOf(this._seriesIndices,e.componentIndex)<0},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(e,n){o(this);var t=d(this._componentsMap.get("series"),e,n);this._seriesIndices=s(t)},restoreData:function(){var e=this._componentsMap;this._seriesIndices=s(e.get("series"));var n=[];e.each(function(e,t){n.push(t)}),f.topologicalTravel(n,f.getAllClassMainTypes(),function(n,t){g(e.get(n),function(e){e.restoreData()})})}});c.mixin(M,m);var O=M;module.exports=O;
},{"zrender/lib/core/util":113,"../config":116,"./Model":64,"../util/model":125,"./Component":201,"./globalDefault":370,"./mixin/colorPalette":371}],199:[function(require,module,exports) {
function i(i){this._api=i,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function t(i,t,e){var n,o,a=[],r=[],u=i.timeline;if(i.baseOption&&(o=i.baseOption),(u||i.options)&&(o=o||{},a=(i.options||[]).slice()),i.media){o=o||{};var m=i.media;p(m,function(i){i&&i.option&&(i.query?r.push(i):n||(n=i))})}return o||(o=i),o.timeline||(o.timeline=u),p([o].concat(a).concat(s.map(r,function(i){return i.option})),function(i){p(t,function(t){t(i,e)})}),{baseOption:o,timelineOptions:a,mediaDefault:n,mediaList:r}}function e(i,t,e){var o={width:t,height:e,aspectratio:t/e},a=!0;return s.each(i,function(i,t){var e=t.match(h);if(e&&e[1]&&e[2]){var s=e[1],r=e[2].toLowerCase();n(o[r],i,s)||(a=!1)}}),a}function n(i,t,e){return"min"===e?i>=t:"max"===e?i<=t:i===t}function o(i,t){return i.join(",")===t.join(",")}function a(i,t){p(t=t||{},function(t,e){if(null!=t){var n=i[e];if(u.hasClass(e)){t=r.normalizeToArray(t),n=r.normalizeToArray(n);var o=r.mappingToExists(n,t);i[e]=c(o,function(i){return i.option&&i.exist?l(i.exist,i.option,!0):i.exist||i.option})}else i[e]=l(n,t,!0)}})}var s=require("zrender/lib/core/util"),r=require("../util/model"),u=require("./Component"),p=s.each,m=s.clone,c=s.map,l=s.merge,h=/^(min|max)?(.+)$/;i.prototype={constructor:i,setOption:function(i,e){i=m(i,!0);var n=this._optionBackup,o=t.call(this,i,e,!n);this._newBaseOption=o.baseOption,n?(a(n.baseOption,o.baseOption),o.timelineOptions.length&&(n.timelineOptions=o.timelineOptions),o.mediaList.length&&(n.mediaList=o.mediaList),o.mediaDefault&&(n.mediaDefault=o.mediaDefault)):this._optionBackup=o},mountOption:function(i){var t=this._optionBackup;return this._timelineOptions=c(t.timelineOptions,m),this._mediaList=c(t.mediaList,m),this._mediaDefault=m(t.mediaDefault),this._currentMediaIndices=[],m(i?t.baseOption:this._newBaseOption)},getTimelineOption:function(i){var t,e=this._timelineOptions;if(e.length){var n=i.getComponent("timeline");n&&(t=m(e[n.getCurrentIndex()],!0))}return t},getMediaOption:function(i){var t=this._api.getWidth(),n=this._api.getHeight(),a=this._mediaList,s=this._mediaDefault,r=[],u=[];if(!a.length&&!s)return u;for(var p=0,l=a.length;p<l;p++)e(a[p].query,t,n)&&r.push(p);return!r.length&&s&&(r=[-1]),r.length&&!o(r,this._currentMediaIndices)&&(u=c(r,function(i){return m(-1===i?s.option:a[i].option)})),this._currentMediaIndices=r,u}};var d=i;module.exports=d;
},{"zrender/lib/core/util":113,"../util/model":125,"./Component":201}],377:[function(require,module,exports) {
function a(a){var e=a&&a.itemStyle;if(e)for(var l=0,i=f.length;l<i;l++){var r=f[l],n=e.normal,t=e.emphasis;n&&n[r]&&(a[r]=a[r]||{},a[r].normal?o.merge(a[r].normal,n[r]):a[r].normal=n[r],n[r]=null),t&&t[r]&&(a[r]=a[r]||{},a[r].emphasis?o.merge(a[r].emphasis,t[r]):a[r].emphasis=t[r],t[r]=null)}}function e(a,e){var l=b(a)&&a[e],i=b(l)&&l.textStyle;if(i)for(var r=0,n=s.TEXT_STYLE_OPTIONS.length;r<n;r++){e=s.TEXT_STYLE_OPTIONS[r];i.hasOwnProperty(e)&&(l[e]=i[e])}}function l(a){b(a)&&(e(a,"normal"),e(a,"emphasis"))}function i(i){if(b(i)){a(i),l(i.label),l(i.upperLabel),l(i.edgeLabel);a(u=i.markPoint),l(u&&u.label);var r=i.markLine;a(i.markLine),l(r&&r.label);var n=i.markArea;l(n&&n.label),e(i,"axisLabel"),e(i,"title"),e(i,"detail");var t=i.data;if(t)for(var s=0;s<t.length;s++)a(t[s]),l(t[s]&&t[s].label);var u;if((u=i.markPoint)&&u.data){var f=u.data;for(s=0;s<f.length;s++)a(f[s]),l(f[s]&&f[s].label)}if((r=i.markLine)&&r.data){var m=r.data;for(s=0;s<m.length;s++)o.isArray(m[s])?(a(m[s][0]),l(m[s][0]&&m[s][0].label),a(m[s][1]),l(m[s][1]&&m[s][1].label)):(a(m[s]),l(m[s]&&m[s].label))}}}function r(a){return o.isArray(a)?a:a?[a]:[]}function n(a){return(o.isArray(a)?a[0]:a)||{}}function t(a,t){u(r(a.series),function(a){b(a)&&i(a)});var o=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&o.push("valueAxis","categoryAxis","logAxis","timeAxis"),u(o,function(l){u(r(a[l]),function(a){a&&(e(a,"axisLabel"),e(a.axisPointer,"label"))})}),u(r(a.parallel),function(a){var l=a&&a.parallelAxisDefault;e(l,"axisLabel"),e(l&&l.axisPointer,"label")}),u(r(a.calendar),function(a){e(a,"dayLabel"),e(a,"monthLabel"),e(a,"yearLabel")}),u(r(a.radar),function(a){e(a,"name")}),u(r(a.geo),function(a){b(a)&&(l(a.label),u(r(a.regions),function(a){l(a.label)}))}),l(n(a.timeline).label),e(n(a.axisPointer),"label"),e(n(a.tooltip).axisPointer,"label")}var o=require("zrender/lib/core/util"),s=require("../../util/model"),u=o.each,b=o.isObject,f=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];module.exports=t;
},{"../../util/model":125,"zrender/lib/core/util":113}],200:[function(require,module,exports) {
function e(e,l){l=l.split(",");for(var r=e,t=0;t<l.length&&null!=(r=r&&r[l[t]]);t++);return r}function l(e,l,r,t){l=l.split(",");for(var a,i=e,n=0;n<l.length-1;n++)null==i[a=l[n]]&&(i[a]={}),i=i[a];(t||null==i[l[n]])&&(i[l[n]]=r)}function r(e){i(s,function(l){l[0]in e&&!(l[1]in e)&&(e[l[1]]=e[l[0]])})}function t(t,a){c(t,a),t.series=p(t.series),i(t.series,function(t){if(o(t)){var a=t.type;if("pie"!==a&&"gauge"!==a||null!=t.clockWise&&(t.clockwise=t.clockWise),"gauge"===a){var i=e(t,"pointer.color");null!=i&&l(t,"itemStyle.normal.color",i)}for(var n=0;n<g.length;n++)if(g[n]===t.type){r(t);break}}}),t.dataRange&&(t.visualMap=t.dataRange),i(f,function(e){var l=t[e];l&&(n(l)||(l=[l]),i(l,function(e){r(e)}))})}var a=require("zrender/lib/core/util"),i=a.each,n=a.isArray,o=a.isObject,c=require("./helper/compatStyle"),u=require("../util/model"),p=u.normalizeToArray,s=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],f=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],g=["bar","boxplot","candlestick","chord","effectScatter","funnel","gauge","lines","graph","heatmap","line","map","parallel","pie","radar","sankey","scatter","treemap"];module.exports=t;
},{"../util/model":125,"./helper/compatStyle":377,"zrender/lib/core/util":113}],202:[function(require,module,exports) {
var t=require("../config"),e=t.__DEV__,a=require("zrender/lib/core/util"),i=require("zrender/lib/core/env"),o=require("../util/format"),r=o.formatTime,n=o.encodeHTML,l=o.addCommas,s=o.getTooltipMarker,u=require("../util/clazz"),m=u.set,h=u.get,d=require("../util/model"),c=require("./Component"),f=require("./mixin/colorPalette"),g=require("../util/layout"),D=g.getLayoutParams,p=g.mergeLayoutParam,y=c.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.normal.color",layoutMode:null,init:function(t,e,a,i){this.seriesIndex=this.componentIndex,this.mergeDefaultAndTheme(t,a);var o=this.getInitialData(t,a);m(this,"dataBeforeProcessed",o),this.restoreData()},mergeDefaultAndTheme:function(t,e){var i=this.layoutMode,o=i?D(t):{},r=this.subType;c.hasClass(r)&&(r+="Series"),a.merge(t,e.getTheme().get(this.subType)),a.merge(t,this.getDefaultOption()),d.defaultEmphasis(t.label,["show"]),this.fillDataTextStyle(t.data),i&&p(t,o,i)},mergeOption:function(t,e){t=a.merge(this.option,t,!0),this.fillDataTextStyle(t.data);var i=this.layoutMode;i&&p(this.option,t,i);var o=this.getInitialData(t,e);o&&(m(this,"data",o),m(this,"dataBeforeProcessed",o.cloneShallow()))},fillDataTextStyle:function(t){if(t)for(var e=["show"],a=0;a<t.length;a++)t[a]&&t[a].label&&d.defaultEmphasis(t[a].label,e)},getInitialData:function(){},getData:function(t){var e=h(this,"data");return null==t?e:e.getLinkedData(t)},setData:function(t){m(this,"data",t)},getRawData:function(){return h(this,"dataBeforeProcessed")},coordDimToDataDim:function(t){return d.coordDimToDataDim(this.getData(),t)},dataDimToCoordDim:function(t){return d.dataDimToCoordDim(this.getData(),t)},getBaseAxis:function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},formatTooltip:function(t,e,i){var o=h(this,"data"),u=this.getRawValue(t),m=a.isArray(u)?function(i){function s(t,a){var i=o.getDimensionInfo(a);if(i&&!1!==i.otherDims.tooltip){var s=i.type,h=(u?"- "+(i.tooltipName||i.name)+": ":"")+("ordinal"===s?t+"":"time"===s?e?"":r("yyyy/MM/dd hh:mm:ss",t):l(t));h&&m.push(n(h))}}var u=a.reduce(i,function(t,e,a){var i=o.getDimensionInfo(a);return t|=i&&!1!==i.tooltip&&null!=i.tooltipName},0),m=[],h=d.otherDimToDataDim(o,"tooltip");return h.length?a.each(h,function(e){s(o.get(e,t),e)}):a.each(i,s),(u?"<br/>":"")+m.join(u?"<br/>":", ")}(u):n(l(u)),c=o.getName(t),f=o.getItemVisual(t,"color");a.isObject(f)&&f.colorStops&&(f=(f.colorStops[0]||{}).color);var g=s(f=f||"transparent"),D=this.name;return"\0-"===D&&(D=""),D=D?n(D)+(e?": ":"<br/>"):"",e?g+D+m:D+g+(c?n(c)+": "+m:m)},isAnimationEnabled:function(){if(i.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),t},restoreData:function(){m(this,"data",h(this,"dataBeforeProcessed").cloneShallow())},getColorFromPalette:function(t,e){var a=this.ecModel,i=f.getColorFromPalette.call(this,t,e);return i||(i=a.getColorFromPalette(t,e)),i},getAxisTooltipData:null,getTooltipPosition:null});a.mixin(y,d.dataFormatMixin),a.mixin(y,f);var v=y;module.exports=v;
},{"../config":116,"zrender/lib/core/util":113,"zrender/lib/core/env":115,"../util/clazz":282,"../util/model":125,"./Component":201,"./mixin/colorPalette":371,"../util/layout":126,"../util/format":61}],203:[function(require,module,exports) {
var e=require("zrender/lib/container/Group"),t=require("../util/component"),n=require("../util/clazz"),r=function(){this.group=new e,this.uid=t.getUID("viewComponent")};r.prototype={constructor:r,init:function(e,t){},render:function(e,t,n,r){},dispose:function(){}};var i=r.prototype;i.updateView=i.updateLayout=i.updateVisual=function(e,t,n,r){},n.enableClassExtend(r),n.enableClassManagement(r,{registerWhenExtend:!0});var o=r;module.exports=o;
},{"zrender/lib/container/Group":266,"../util/component":374,"../util/clazz":282}],204:[function(require,module,exports) {
function e(){this.group=new n,this.uid=o.getUID("viewChart")}function t(e,r){if(e&&(e.trigger(r),"group"===e.type))for(var i=0;i<e.childCount();i++)t(e.childAt(i),r)}function r(e,r,n){var o=u.queryDataIndex(e,r);null!=o?i.each(u.normalizeToArray(o),function(r){t(e.getItemGraphicEl(r),n)}):e.eachItemGraphicEl(function(e){t(e,n)})}var i=require("zrender/lib/core/util"),n=require("zrender/lib/container/Group"),o=require("../util/component"),a=require("../util/clazz"),u=require("../util/model");e.prototype={type:"chart",init:function(e,t){},render:function(e,t,r,i){},highlight:function(e,t,i,n){r(e.getData(),n,"emphasis")},downplay:function(e,t,i,n){r(e.getData(),n,"normal")},remove:function(e,t){this.group.removeAll()},dispose:function(){}};var l=e.prototype;l.updateView=l.updateLayout=l.updateVisual=function(e,t,r,i){this.render(e,t,r,i)},a.enableClassExtend(e,["dispose"]),a.enableClassManagement(e,{registerWhenExtend:!0});var c=e;module.exports=c;
},{"../util/component":374,"../util/clazz":282,"../util/model":125,"zrender/lib/core/util":113,"zrender/lib/container/Group":266}],205:[function(require,module,exports) {
function e(e){e.eachRawSeries(function(a){var o=(a.visualColorAccessPath||"itemStyle.normal.color").split("."),r=a.getData(),i=a.get(o)||a.getColorFromPalette(a.get("name"));r.setVisual("color",i),e.isSeriesFiltered(a)||("function"!=typeof i||i instanceof t||r.each(function(e){r.setItemVisual(e,"color",i(a.getDataParams(e)))}),r.each(function(e){var t=r.getItemModel(e).get(o,!0);null!=t&&r.setItemVisual(e,"color",t)}))})}var t=require("zrender/lib/graphic/Gradient");module.exports=e;
},{"zrender/lib/graphic/Gradient":376}],206:[function(require,module,exports) {
function e(e,a){a=a||{},t.defaults(a,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var i=new l.Rect({style:{fill:a.maskColor},zlevel:a.zlevel,z:1e4}),n=new l.Arc({shape:{startAngle:-r/2,endAngle:-r/2+.1,r:10},style:{stroke:a.color,lineCap:"round",lineWidth:5},zlevel:a.zlevel,z:10001}),o=new l.Rect({style:{fill:"none",text:a.text,textPosition:"right",textDistance:10,textFill:a.textColor},zlevel:a.zlevel,z:10001});n.animateShape(!0).when(1e3,{endAngle:3*r/2}).start("circularInOut"),n.animateShape(!0).when(1e3,{startAngle:3*r/2}).delay(300).start("circularInOut");var h=new l.Group;return h.add(n),h.add(o),h.add(i),h.resize=function(){var t=e.getWidth()/2,l=e.getHeight()/2;n.setShape({cx:t,cy:l});var r=n.shape.r;o.setShape({x:t-r,y:l-r,width:2*r,height:2*r}),i.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},h.resize(),h}var t=require("zrender/lib/core/util"),l=require("../util/graphic"),r=Math.PI;module.exports=e;
},{"../util/graphic":59,"zrender/lib/core/util":113}],14:[function(require,module,exports) {
var process = require("process");
function e(e){return function(t,i,n){t=t&&t.toLowerCase(),$.prototype[e].call(this,t,i,n)}}function t(){$.call(this)}function i(e,i,n){function o(e,t){return e.prio-t.prio}n=n||{},"string"==typeof i&&(i=Fe[i]),this.id,this.group,this._dom=e;var r=this._zr=H.init(e,{renderer:n.renderer||"canvas",devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height});this._throttledZrFlush=le(j.bind(r.flush,r),17);(i=j.clone(i))&&ie(i,!0),this._theme=i,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new ee,this._api=m(this),$.call(this),this._messageCenter=new t,this._initEvents(),this.resize=j.bind(this.resize,this),this._pendingActions=[],Y(Ue,o),Y(Te,o),r.animation.on("frame",this._onframe,this),j.setAsPrimitive(this)}function n(e,t,i){var n,o=this._model,r=this._coordSysMgr.getCoordinateSystems();t=ue.parseFinder(o,t);for(var s=0;s<r.length;s++){var a=r[s];if(a[e]&&null!=(n=a[e](o,t,i)))return n}}function o(e,t,i,n,o){function r(n){n&&n.__alive&&n[t]&&n[t](n.__model,s,e._api,i)}var s=e._model;if(n){var a={};a[n+"Id"]=i[n+"Id"],a[n+"Index"]=i[n+"Index"],a[n+"Name"]=i[n+"Name"];var u={mainType:n,query:a};o&&(u.subType=o),s&&s.eachComponent(u,function(t,i){r(e["series"===n?"_chartsMap":"_componentsMap"][t.__viewId])},e)}else de(e._componentsViews.concat(e._chartsViews),r)}function r(e,t){var i=e.type,n=e.escapeConnect,r=Le[i],s=r.actionInfo,a=(s.update||"update").split(":"),u=a.pop();a=null!=a[0]&&fe(a[0]),this[be]=!0;var c=[e],l=!1;e.batch&&(l=!0,c=j.map(e.batch,function(t){return t=j.defaults(j.extend({},t),e),t.batch=null,t}));var h,p=[],d="highlight"===i||"downplay"===i;de(c,function(e){(h=(h=r.action(e,this._model,this._api))||j.extend({},e)).type=s.event||h.type,p.push(h),d?o(this,u,e,"series"):a&&o(this,u,e,a.main,a.sub)},this),"none"===u||d||a||(this[Me]?(Pe.prepareAndUpdate.call(this,e),this[Me]=!1):Pe[u].call(this,e)),h=l?{type:s.event||i,escapeConnect:n,batch:p}:p[0],this[be]=!1,!t&&this._messageCenter.trigger(h.type,h)}function s(e){for(var t=this._pendingActions;t.length;){var i=t.shift();r.call(this,i,e)}}function a(e){!e&&this.trigger("updated")}function u(e,t,i){var n=this._api;de(this._componentsViews,function(o){var r=o.__model;o[e](r,t,n,i),v(r,o)},this),t.eachSeries(function(o,r){var s=this._chartsMap[o.__viewId];s[e](o,t,n,i),v(o,s),_(o,s)},this),g(this._zr,t),de(qe,function(e){e(t,n)})}function c(e,t){for(var i="component"===e,n=i?this._componentsViews:this._chartsViews,o=i?this._componentsMap:this._chartsMap,r=this._zr,s=0;s<n.length;s++)n[s].__alive=!1;t[i?"eachComponent":"eachSeries"](function(e,s){if(i){if("series"===e)return}else s=e;var a="_ec_"+s.id+"_"+s.type,u=o[a];if(!u){var c=fe(s.type),l=i?re.getClass(c.main,c.sub):se.getClass(c.sub);if(!l)return;(u=new l).init(t,this._api),o[a]=u,n.push(u),r.add(u.group)}s.__viewId=u.__id=a,u.__alive=!0,u.__model=s,u.group.__ecComponentInfo={mainType:s.mainType,index:s.componentIndex}},this);for(s=0;s<n.length;){var a=n[s];a.__alive?s++:(r.remove(a.group),a.dispose(t,this._api),n.splice(s,1),delete o[a.__id],a.__id=a.group.__ecComponentInfo=null)}}function l(e,t){de(Te,function(i){i.func(e,t)})}function h(e){var t={};e.eachSeries(function(e){var i=e.get("stack"),n=e.getData();if(i&&"list"===n.type){var o=t[i];t.hasOwnProperty(i)&&o&&(n.stackedOn=o),t[i]=n}})}function p(e,t){var i=this._api;de(Ue,function(n){n.isLayout&&n.func(e,i,t)})}function d(e,t,i){var n=this._api;e.clearColorPalette(),e.eachSeries(function(e){e.clearColorPalette()}),de(Ue,function(o){(!i||!o.isLayout)&&o.func(e,n,t)})}function f(e,t){var i=this._api;de(this._componentsViews,function(n){var o=n.__model;n.render(o,e,i,t),v(o,n)},this),de(this._chartsViews,function(e){e.__alive=!1},this),e.eachSeries(function(n,o){var r=this._chartsMap[n.__viewId];r.__alive=!0,r.render(n,e,i,t),r.group.silent=!!n.get("silent"),v(n,r),_(n,r)},this),g(this._zr,e),de(this._chartsViews,function(t){t.__alive||t.remove(e,i)},this)}function g(e,t){var i=e.storage,n=0;i.traverse(function(e){e.isGroup||n++}),n>t.get("hoverLayerThreshold")&&!W.node&&i.traverse(function(e){e.isGroup||(e.useHoverLayer=!0)})}function _(e,t){var i=0;t.group.traverse(function(e){"group"===e.type||e.ignore||i++});var n=+e.get("progressive"),o=i>e.get("progressiveThreshold")&&n&&!W.node;o&&t.group.traverse(function(e){e.isGroup||(e.progressive=o?Math.floor(i++/n):-1,o&&e.stopAnimation(!0))});var r=e.get("blendMode")||null;t.group.traverse(function(e){e.isGroup||e.setStyle("blend",r)})}function v(e,t){var i=e.get("z"),n=e.get("zlevel");t.group.traverse(function(e){"group"!==e.type&&(null!=i&&(e.z=i),null!=n&&(e.zlevel=n))})}function m(e){var t=e._coordSysMgr;return j.extend(new Q(e),{getCoordinateSystems:j.bind(t.getCoordinateSystems,t),getComponentByElement:function(t){for(;t;){var i=t.__ecComponentInfo;if(null!=i)return e._model.getComponent(i.mainType,i.index);t=t.parent}}})}function y(e){function t(e,t){for(var n=0;n<e.length;n++){e[n][i]=t}}var i="__connectUpdateStatus";j.each(Ve,function(n,o){e._messageCenter.on(o,function(n){if(Be[e.group]&&0!==e[i]){if(n&&n.escapeConnect)return;var o=e.makeActionFromEvent(n),r=[];j.each(Ee,function(t){t!==e&&t.group===e.group&&r.push(t)}),t(r,0),de(r,function(e){1!==e[i]&&e.dispatchAction(o)}),t(r,2)}})})}function x(e,t,n){var o=S(e);if(o)return o;var r=new i(e,t,n);return r.id="ec_"+Ge++,Ee[r.id]=r,e.setAttribute?e.setAttribute(Je,r.id):e[Je]=r.id,y(r),r}function C(e){if(j.isArray(e)){var t=e;e=null,j.each(t,function(t){null!=t.group&&(e=t.group)}),e=e||"g_"+Ne++,j.each(t,function(t){t.group=e})}return Be[e]=!0,e}function w(e){Be[e]=!1}function I(e){"string"==typeof e?e=Ee[e]:e instanceof i||(e=S(e)),e instanceof i&&!e.isDisposed()&&e.dispose()}function S(e){var t;return t=e.getAttribute?e.getAttribute(Je):e[Je],Ee[t]}function b(e){return Ee[e]}function z(e,t){Fe[e]=t}function M(e){Re.push(e)}function A(e,t){"function"==typeof e&&(t=e,e=ve),Te.push({prio:e,func:t})}function O(e){qe.push(e)}function P(e,t,i){"function"==typeof t&&(i=t,t="");var n=j.isObject(e)?e.type:[e,e={event:t}][0];e.event=(e.event||n).toLowerCase(),t=e.event,j.assert(Ae.test(n)&&Ae.test(t)),Le[n]||(Le[n]={action:i,actionInfo:e}),Ve[t]=n}function D(e,t){ee.register(e,t)}function L(e){var t=ee.get(e);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()}function V(e,t){"function"==typeof e&&(t=e,e=ye),Ue.push({prio:e,func:t,isLayout:!0})}function T(e,t){"function"==typeof e&&(t=e,e=Ce),Ue.push({prio:e,func:t})}function R(e,t){ke[e]=t}function q(e){return ne.extend(e)}function U(e){return re.extend(e)}function F(e){return oe.extend(e)}function k(e){return se.extend(e)}function E(e){j.$override("createCanvas",e)}function B(e,t,i){t.geoJson&&!t.features&&(i=t.specialAreas,t=t.geoJson),"string"==typeof t&&(t="undefined"!=typeof JSON&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")()),Xe[e]={geoJson:t,specialAreas:i}}function G(e){return Xe[e]}var N=require("process"),J=require("./config"),X=J.__DEV__,H=require("zrender/lib/zrender"),j=require("zrender/lib/core/util"),Z=require("zrender/lib/tool/color"),W=require("zrender/lib/core/env"),Y=require("zrender/lib/core/timsort"),$=require("zrender/lib/mixin/Eventful"),K=require("./model/Global"),Q=require("./ExtensionAPI"),ee=require("./CoordinateSystem"),te=require("./model/OptionManager"),ie=require("./preprocessor/backwardCompat"),ne=require("./model/Component"),oe=require("./model/Series"),re=require("./view/Component"),se=require("./view/Chart"),ae=require("./util/graphic"),ue=require("./util/model"),ce=require("./util/throttle"),le=ce.throttle,he=require("./visual/seriesColor"),pe=require("./loading/default"),de=j.each,fe=ne.parseClassType,ge="3.8.5",_e={zrender:"3.7.4"},ve=1e3,me=5e3,ye=1e3,xe=2e3,Ce=3e3,we=4e3,Ie=5e3,Se={PROCESSOR:{FILTER:ve,STATISTIC:me},VISUAL:{LAYOUT:ye,GLOBAL:xe,CHART:Ce,COMPONENT:we,BRUSH:Ie}},be="__flagInMainProcess",ze="__hasGradientOrPatternBg",Me="__optionUpdated",Ae=/^[a-zA-Z0-9_]+$/;t.prototype.on=e("on"),t.prototype.off=e("off"),t.prototype.one=e("one"),j.mixin(t,$);var Oe=i.prototype;Oe._onframe=function(){if(this[Me]){var e=this[Me].silent;this[be]=!0,Pe.prepareAndUpdate.call(this),this[be]=!1,this[Me]=!1,s.call(this,e),a.call(this,e)}},Oe.getDom=function(){return this._dom},Oe.getZr=function(){return this._zr},Oe.setOption=function(e,t,i){var n;if(j.isObject(t)&&(i=t.lazyUpdate,n=t.silent,t=t.notMerge),this[be]=!0,!this._model||t){var o=new te(this._api),r=this._theme;(this._model=new K(null,null,r,o)).init(null,null,r,o)}this._model.setOption(e,Re),i?(this[Me]={silent:n},this[be]=!1):(Pe.prepareAndUpdate.call(this),this._zr.flush(),this[Me]=!1,this[be]=!1,s.call(this,n),a.call(this,n))},Oe.setTheme=function(){},Oe.getModel=function(){return this._model},Oe.getOption=function(){return this._model&&this._model.getOption()},Oe.getWidth=function(){return this._zr.getWidth()},Oe.getHeight=function(){return this._zr.getHeight()},Oe.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},Oe.getRenderedCanvas=function(e){if(W.canvasSupported){(e=e||{}).pixelRatio=e.pixelRatio||1,e.backgroundColor=e.backgroundColor||this._model.get("backgroundColor");var t=this._zr,i=t.storage.getDisplayList();return j.each(i,function(e){e.stopAnimation(!0)}),t.painter.getRenderedCanvas(e)}},Oe.getSvgDataUrl=function(){if(W.svgSupported){var e=this._zr,t=e.storage.getDisplayList();return j.each(t,function(e){e.stopAnimation(!0)}),e.painter.pathToSvg()}},Oe.getDataURL=function(e){var t=(e=e||{}).excludeComponents,i=this._model,n=[],o=this;de(t,function(e){i.eachComponent({mainType:e},function(e){var t=o._componentsMap[e.__viewId];t.group.ignore||(n.push(t),t.group.ignore=!0)})});var r="svg"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return de(n,function(e){e.group.ignore=!1}),r},Oe.getConnectedDataURL=function(e){if(W.canvasSupported){var t=this.group,i=Math.min,n=Math.max;if(Be[t]){var o=1/0,r=1/0,s=-1/0,a=-1/0,u=[],c=e&&e.pixelRatio||1;j.each(Ee,function(c,l){if(c.group===t){var h=c.getRenderedCanvas(j.clone(e)),p=c.getDom().getBoundingClientRect();o=i(p.left,o),r=i(p.top,r),s=n(p.right,s),a=n(p.bottom,a),u.push({dom:h,left:p.left,top:p.top})}});var l=(s*=c)-(o*=c),h=(a*=c)-(r*=c),p=j.createCanvas();p.width=l,p.height=h;var d=H.init(p);return de(u,function(e){var t=new ae.Image({style:{x:e.left*c-o,y:e.top*c-r,image:e.dom}});d.add(t)}),d.refreshImmediately(),p.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}},Oe.convertToPixel=j.curry(n,"convertToPixel"),Oe.convertFromPixel=j.curry(n,"convertFromPixel"),Oe.containPixel=function(e,t){var i,n=this._model;return e=ue.parseFinder(n,e),j.each(e,function(e,n){n.indexOf("Models")>=0&&j.each(e,function(e){var o=e.coordinateSystem;if(o&&o.containPoint)i|=!!o.containPoint(t);else if("seriesModels"===n){var r=this._chartsMap[e.__viewId];r&&r.containPoint&&(i|=r.containPoint(t,e))}},this)},this),!!i},Oe.getVisual=function(e,t){var i=this._model,n=(e=ue.parseFinder(i,e,{defaultMainType:"series"})).seriesModel.getData(),o=e.hasOwnProperty("dataIndexInside")?e.dataIndexInside:e.hasOwnProperty("dataIndex")?n.indexOfRawIndex(e.dataIndex):null;return null!=o?n.getItemVisual(o,t):n.getVisual(t)},Oe.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},Oe.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]};var Pe={update:function(e){var t=this._model,i=this._api,n=this._coordSysMgr,o=this._zr;if(t){t.restoreData(),n.create(this._model,this._api),l.call(this,t,i),h.call(this,t),n.update(t,i),d.call(this,t,e),f.call(this,t,e);var r=t.get("backgroundColor")||"transparent",s=o.painter;if(s.isSingleCanvas&&s.isSingleCanvas())o.configLayer(0,{clearColor:r});else{if(!W.canvasSupported){var a=Z.parse(r);r=Z.stringify(a,"rgb"),0===a[3]&&(r="transparent")}r.colorStops||r.image?(o.configLayer(0,{clearColor:r}),this[ze]=!0,this._dom.style.background="transparent"):(this[ze]&&o.configLayer(0,{clearColor:null}),this[ze]=!1,this._dom.style.background=r)}de(qe,function(e){e(t,i)})}},updateView:function(e){var t=this._model;t&&(t.eachSeries(function(e){e.getData().clearAllVisual()}),d.call(this,t,e),u.call(this,"updateView",t,e))},updateVisual:function(e){var t=this._model;t&&(t.eachSeries(function(e){e.getData().clearAllVisual()}),d.call(this,t,e,!0),u.call(this,"updateVisual",t,e))},updateLayout:function(e){var t=this._model;t&&(p.call(this,t,e),u.call(this,"updateLayout",t,e))},prepareAndUpdate:function(e){var t=this._model;c.call(this,"component",t),c.call(this,"chart",t),Pe.update.call(this,e)}};Oe.resize=function(e){this[be]=!0,this._zr.resize(e);var t=this._model&&this._model.resetOption("media");Pe[t?"prepareAndUpdate":"update"].call(this),this._loadingFX&&this._loadingFX.resize(),this[be]=!1;var i=e&&e.silent;s.call(this,i),a.call(this,i)},Oe.showLoading=function(e,t){if(j.isObject(e)&&(t=e,e=""),e=e||"default",this.hideLoading(),ke[e]){var i=ke[e](this._api,t),n=this._zr;this._loadingFX=i,n.add(i)}},Oe.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},Oe.makeActionFromEvent=function(e){var t=j.extend({},e);return t.type=Ve[e.type],t},Oe.dispatchAction=function(e,t){j.isObject(t)||(t={silent:!!t}),Le[e.type]&&this._model&&(this[be]?this._pendingActions.push(e):(r.call(this,e,t.silent),t.flush?this._zr.flush(!0):!1!==t.flush&&W.browser.weChat&&this._throttledZrFlush(),s.call(this,t.silent),a.call(this,t.silent)))},Oe.on=e("on"),Oe.off=e("off"),Oe.one=e("one");var De=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];Oe._initEvents=function(){de(De,function(e){this._zr.on(e,function(t){var i,n=this.getModel(),o=t.target;if("globalout"===e)i={};else if(o&&null!=o.dataIndex){var r=o.dataModel||n.getSeriesByIndex(o.seriesIndex);i=r&&r.getDataParams(o.dataIndex,o.dataType)||{}}else o&&o.eventData&&(i=j.extend({},o.eventData));i&&(i.event=t,i.type=e,this.trigger(e,i))},this)},this),de(Ve,function(e,t){this._messageCenter.on(t,function(e){this.trigger(t,e)},this)},this)},Oe.isDisposed=function(){return this._disposed},Oe.clear=function(){this.setOption({series:[]},!0)},Oe.dispose=function(){if(!this._disposed){this._disposed=!0;var e=this._api,t=this._model;de(this._componentsViews,function(i){i.dispose(t,e)}),de(this._chartsViews,function(i){i.dispose(t,e)}),this._zr.dispose(),delete Ee[this.id]}},j.mixin(i,$);var Le={},Ve={},Te=[],Re=[],qe=[],Ue=[],Fe={},ke={},Ee={},Be={},Ge=new Date-0,Ne=new Date-0,Je="_echarts_instance_",Xe={},He=w;T(xe,he),M(ie),R("default",pe),P({type:"highlight",event:"highlight",update:"highlight"},j.noop),P({type:"downplay",event:"downplay",update:"downplay"},j.noop);var je={};exports.version=ge,exports.dependencies=_e,exports.PRIORITY=Se,exports.init=x,exports.connect=C,exports.disConnect=w,exports.disconnect=He,exports.dispose=I,exports.getInstanceByDom=S,exports.getInstanceById=b,exports.registerTheme=z,exports.registerPreprocessor=M,exports.registerProcessor=A,exports.registerPostUpdate=O,exports.registerAction=P,exports.registerCoordinateSystem=D,exports.getCoordinateSystemDimensions=L,exports.registerLayout=V,exports.registerVisual=T,exports.registerLoading=R,exports.extendComponentModel=q,exports.extendComponentView=U,exports.extendSeriesModel=F,exports.extendChartView=k,exports.setCanvasCreator=E,exports.registerMap=B,exports.getMap=G,exports.dataTool=je;var Ze=require("./export");!function(){for(var e in Ze)Ze.hasOwnProperty(e)&&(exports[e]=Ze[e])}();
},{"zrender/lib/zrender":110,"zrender/lib/core/util":113,"zrender/lib/tool/color":114,"zrender/lib/core/env":115,"./util/graphic":59,"./util/throttle":62,"process":195,"./config":116,"./ExtensionAPI":196,"./CoordinateSystem":197,"./export":15,"./model/Global":198,"./model/OptionManager":199,"./preprocessor/backwardCompat":200,"./model/Component":201,"./model/Series":202,"./view/Component":203,"./view/Chart":204,"./util/model":125,"./visual/seriesColor":205,"./loading/default":206,"zrender/lib/mixin/Eventful":250,"zrender/lib/core/timsort":251}],72:[function(require,module,exports) {
function e(e,l,t,s,a){s.eachRawSeriesByType(e,function(e){var a=e.getData(),o=e.get("symbol")||l,i=e.get("symbolSize");a.setVisual({legendSymbol:t||o,symbol:o,symbolSize:i}),s.isSeriesFiltered(e)||("function"==typeof i&&a.each(function(l){var t=e.getRawValue(l),s=e.getDataParams(l);a.setItemVisual(l,"symbolSize",i(t,s))}),a.each(function(e){var l=a.getItemModel(e),t=l.getShallow("symbol",!0),s=l.getShallow("symbolSize",!0);null!=t&&a.setItemVisual(e,"symbol",t),null!=s&&a.setItemVisual(e,"symbolSize",s)}))})}module.exports=e;
},{}],73:[function(require,module,exports) {
function a(a,t){t.eachSeriesByType(a,function(a){var t=a.getData(),e=a.coordinateSystem;if(e){for(var o=[],i=e.dimensions,n=0;n<i.length;n++)o.push(a.coordDimToDataDim(e.dimensions[n])[0]);1===o.length?t.each(o[0],function(a,o){t.setItemLayout(o,isNaN(a)?[NaN,NaN]:e.dataToPoint(a))}):2===o.length&&t.each(o,function(a,o,i){t.setItemLayout(i,isNaN(a)||isNaN(o)?[NaN,NaN]:e.dataToPoint([a,o]))},!0)}})}module.exports=a;
},{}],437:[function(require,module,exports) {
var e=require("zrender/lib/core/util"),l={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},a={};a.categoryAxis=e.merge({boundaryGap:!0,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},l),a.valueAxis=e.merge({boundaryGap:[0,0],splitNumber:5},l),a.timeAxis=e.defaults({scale:!0,min:"dataMin",max:"dataMax"},a.valueAxis),a.logAxis=e.defaults({scale:!0,logBase:10},a.valueAxis);var i=a;module.exports=i;
},{"zrender/lib/core/util":113}],327:[function(require,module,exports) {
function e(e,i,m,n){t.each(l,function(u){i.extend({type:e+"Axis."+u,mergeDefaultAndTheme:function(r,i){var l=this.layoutMode,n=l?a(r):{},g=i.getTheme();t.merge(r,g.get(u+"Axis")),t.merge(r,this.getDefaultOption()),r.type=m(e,r),l&&o(r,n,l)},defaultOption:t.mergeAll([{},r[u+"Axis"],n],!0)})}),u.registerSubTypeDefaulter(e+"Axis",t.curry(m,e))}var t=require("zrender/lib/core/util"),r=require("./axisDefault"),u=require("../model/Component"),i=require("../util/layout"),a=i.getLayoutParams,o=i.mergeLayoutParam,l=["value","category","time","log"];module.exports=e;
},{"zrender/lib/core/util":113,"./axisDefault":437,"../model/Component":201,"../util/layout":126}],400:[function(require,module,exports) {
function e(e,t){return t.type||(t.data?"category":"value")}var t=require("zrender/lib/core/util"),r=require("../../model/Component"),i=require("../axisModelCreator"),n=require("../axisModelCommonMixin"),o=r.extend({type:"cartesian2dAxis",axis:null,init:function(){o.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){o.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){o.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});t.merge(o.prototype,n);var s={offset:0};i("x",o,e,s),i("y",o,e,s);var a=o;module.exports=a;
},{"zrender/lib/core/util":113,"../../model/Component":201,"../axisModelCreator":327,"../axisModelCommonMixin":192}],323:[function(require,module,exports) {
function t(t){var e={componentType:t.mainType};return e[t.mainType+"Index"]=t.componentIndex,e}function e(t,e,i,n){var a,r,o=b(i-t.rotation),l=n[0]>n[1],s="start"===e&&!l||"start"!==e&&l;return v(o-S/2)?(r=s?"bottom":"top",a="center"):v(o-1.5*S)?(r=s?"top":"bottom",a="center"):(r="middle",a=o<1.5*S&&o>S/2?s?"left":"right":s?"right":"left"),{rotation:o,textAlign:a,textVerticalAlign:r}}function i(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)}function n(t,e,i){var n=t.get("axisLabel.showMinLabel"),o=t.get("axisLabel.showMaxLabel");e=e||[],i=i||[];var l=e[0],s=e[1],g=e[e.length-1],u=e[e.length-2],c=i[0],x=i[1],d=i[i.length-1],p=i[i.length-2];!1===n?(a(l),a(c)):r(l,s)&&(n?(a(s),a(x)):(a(l),a(c))),!1===o?(a(g),a(d)):r(u,g)&&(o?(a(u),a(p)):(a(g),a(d)))}function a(t){t&&(t.ignore=!0)}function r(t,e,i){var n=t&&t.getBoundingRect().clone(),a=e&&e.getBoundingRect().clone();if(n&&a){var r=L.identity([]);return L.rotate(r,r,-t.rotation),n.applyTransform(L.mul([],r,t.getLocalTransform())),a.applyTransform(L.mul([],r,e.getLocalTransform())),n.intersect(a)}}function o(t){return"middle"===t||"center"===t}function l(t,e,i){var n=e.axis;if(e.get("axisTick.show")&&!n.scale.isBlank()){for(var a=e.getModel("axisTick"),r=a.getModel("lineStyle"),o=a.get("length"),l=I(a,i.labelInterval),s=n.getTicksCoords(a.get("alignWithLabel")),g=n.scale.getTicks(),u=e.get("axisLabel.showMinLabel"),x=e.get("axisLabel.showMaxLabel"),d=[],p=[],m=t._transform,f=[],v=s.length,b=0;b<v;b++)if(!_(n,b,l,v,u,x)){var y=s[b];d[0]=y,d[1]=0,p[0]=y,p[1]=i.tickDirection*o,m&&(w(d,d,m),w(p,p,m));var T=new h.Line(h.subPixelOptimizeLine({anid:"tick_"+g[b],shape:{x1:d[0],y1:d[1],x2:p[0],y2:p[1]},style:c(r.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}),z2:2,silent:!0}));t.group.add(T),f.push(T)}return f}}function s(e,n,a){var r=n.axis;if(u(a.axisLabelShow,n.get("axisLabel.show"))&&!r.scale.isBlank()){var o=n.getModel("axisLabel"),l=o.get("margin"),s=r.scale.getTicks(),g=n.getFormattedLabels(),c=(u(a.labelRotate,o.get("rotate"))||0)*S/180,x=D(a.rotation,c,a.labelDirection),p=n.get("data"),f=[],v=i(n),b=n.get("triggerEvent"),y=n.get("axisLabel.showMinLabel"),T=n.get("axisLabel.showMaxLabel");return d(s,function(i,u){if(!_(r,u,a.labelInterval,s.length,y,T)){var c=o;p&&p[i]&&p[i].textStyle&&(c=new m(p[i].textStyle,o,n.ecModel));var d=c.getTextColor()||n.get("axisLine.lineStyle.color"),L=[r.dataToCoord(i),a.labelOffset+a.labelDirection*l],M=r.scale.getLabel(i),w=new h.Text({anid:"label_"+i,position:L,rotation:x.rotation,silent:v,z2:10});h.setTextStyle(w.style,c,{text:g[u],textAlign:c.getShallow("align",!0)||x.textAlign,textVerticalAlign:c.getShallow("verticalAlign",!0)||c.getShallow("baseline",!0)||x.textVerticalAlign,textFill:"function"==typeof d?d("category"===r.type?M:"value"===r.type?i+"":i,u):d}),b&&(w.eventData=t(n),w.eventData.targetType="axisLabel",w.eventData.value=M),e._dumbGroup.add(w),w.updateTransform(),f.push(w),e.group.add(w),w.decomposeTransform()}}),f}}var g=require("zrender/lib/core/util"),u=g.retrieve,c=g.defaults,x=g.extend,d=g.each,p=require("../../util/format"),h=require("../../util/graphic"),m=require("../../model/Model"),f=require("../../util/number"),v=f.isRadianAroundZero,b=f.remRadian,y=require("../../util/symbol"),T=y.createSymbol,L=require("zrender/lib/core/matrix"),M=require("zrender/lib/core/vector"),w=M.applyTransform,S=Math.PI,k=function(t,e){this.opt=e,this.axisModel=t,c(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new h.Group;var i=new h.Group({position:e.position.slice(),rotation:e.rotation});i.updateTransform(),this._transform=i.transform,this._dumbGroup=i};k.prototype={constructor:k,hasBuilder:function(t){return!!A[t]},add:function(t){A[t].call(this)},getGroup:function(){return this.group}};var A={axisLine:function(){var t=this.opt,e=this.axisModel;if(e.get("axisLine.show")){var i=this.axisModel.axis.getExtent(),n=this._transform,a=[i[0],0],r=[i[1],0];n&&(w(a,a,n),w(r,r,n));var o=x({lineCap:"round"},e.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new h.Line(h.subPixelOptimizeLine({anid:"line",shape:{x1:a[0],y1:a[1],x2:r[0],y2:r[1]},style:o,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1})));var l=e.get("axisLine.symbol"),s=e.get("axisLine.symbolSize");if(null!=l){"string"==typeof l&&(l=[l,l]),"string"!=typeof s&&"number"!=typeof s||(s=[s,s]);var g=s[0],u=s[1];d([[t.rotation+Math.PI/2,a],[t.rotation-Math.PI/2,r]],function(t,e){if("none"!==l[e]&&null!=l[e]){var i=T(l[e],-g/2,-u/2,g,u,o.stroke,!0);i.attr({rotation:t[0],position:t[1],silent:!0}),this.group.add(i)}},this)}}},axisTickLabel:function(){var t=this.axisModel,e=this.opt,i=l(this,t,e);n(t,s(this,t,e),i)},axisName:function(){var n=this.opt,a=this.axisModel,r=u(n.axisName,a.get("name"));if(r){var l,s=a.get("nameLocation"),g=n.nameDirection,c=a.getModel("nameTextStyle"),d=a.get("nameGap")||0,m=this.axisModel.axis.getExtent(),f=m[0]>m[1]?-1:1,v=["start"===s?m[0]-f*d:"end"===s?m[1]+f*d:(m[0]+m[1])/2,o(s)?n.labelOffset+g*d:0],b=a.get("nameRotate");null!=b&&(b=b*S/180);var y;o(s)?l=D(n.rotation,null!=b?b:n.rotation,g):(l=e(n,s,b||0,m),null!=(y=n.axisNameAvailableWidth)&&(y=Math.abs(y/Math.sin(l.rotation)),!isFinite(y)&&(y=null)));var T=c.getFont(),L=a.get("nameTruncate",!0)||{},M=L.ellipsis,w=u(n.nameTruncateMaxWidth,L.maxWidth,y),k=null!=M&&null!=w?p.truncateText(r,w,T,M,{minChar:2,placeholder:L.placeholder}):r,A=a.get("tooltip",!0),_=a.mainType,I={componentType:_,name:r,$vars:["name"]};I[_+"Index"]=a.componentIndex;var z=new h.Text({anid:"name",__fullText:r,__truncatedText:k,position:v,rotation:l.rotation,silent:i(a),z2:1,tooltip:A&&A.show?x({content:r,formatter:function(){return r},formatterParams:I},A):null});h.setTextStyle(z.style,c,{text:k,textFont:T,textFill:c.getTextColor()||a.get("axisLine.lineStyle.color"),textAlign:l.textAlign,textVerticalAlign:l.textVerticalAlign}),a.get("triggerEvent")&&(z.eventData=t(a),z.eventData.targetType="axisName",z.eventData.name=r),this._dumbGroup.add(z),z.updateTransform(),this.group.add(z),z.decomposeTransform()}}},D=k.innerTextLayout=function(t,e,i){var n,a,r=b(e-t);return v(r)?(a=i>0?"top":"bottom",n="center"):v(r-S)?(a=i>0?"bottom":"top",n="center"):(a="middle",n=r>0&&r<S?i>0?"right":"left":i>0?"left":"right"),{rotation:r,textAlign:n,textVerticalAlign:a}},_=k.ifIgnoreOnTick=function(t,e,i,n,a,r){if(0===e&&a||e===n-1&&r)return!1;var o,l=t.scale;return"ordinal"===l.type&&("function"==typeof i?(o=l.getTicks()[e],!i(o,l.getLabel(o))):e%(i+1))},I=k.getInterval=function(t,e){var i=t.get("interval");return null!=i&&"auto"!=i||(i=e),i},z=k;module.exports=z;
},{"zrender/lib/core/util":113,"../../util/graphic":59,"../../model/Model":64,"../../util/format":61,"../../util/number":60,"../../util/symbol":193,"zrender/lib/core/vector":112,"zrender/lib/core/matrix":111}],134:[function(require,module,exports) {
function e(e,t){var s={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return o(s,e,t),s.seriesInvolved&&n(s,e),s}function o(e,o,n){var i=o.getComponent("tooltip"),r=o.getComponent("axisPointer"),a=r.get("link",!0)||[],l=[];g(n.getCoordinateSystems(),function(n){function x(i,x,c){var g=c.model.getModel("axisPointer",r),p=g.get("show");if(p&&("auto"!==p||i||u(g))){null==x&&(x=g.get("triggerTooltip"));var y=(g=i?t(c,v,r,o,i,x):g).get("snap"),m=d(c.model),h=x||y||"category"===c.type,A=e.axesInfo[m]={key:m,axis:c,coordSys:n,axisPointerModel:g,triggerTooltip:x,involveSeries:h,snap:y,useHandle:u(g),seriesModels:[]};f[m]=A,e.seriesInvolved|=h;var I=s(a,c);if(null!=I){var S=l[I]||(l[I]={axesInfo:{}});S.axesInfo[m]=A,S.mapper=a[I].mapper,A.linkGroup=S}}}if(n.axisPointerEnabled){var c=d(n.model),f=e.coordSysAxesInfo[c]={};e.coordSysMap[c]=n;var v=n.model.getModel("tooltip",i);if(g(n.getAxes(),p(x,!1,null)),n.getTooltipAxes&&i&&v.get("show")){var y="axis"===v.get("trigger"),m="cross"===v.get("axisPointer.type"),h=n.getTooltipAxes(v.get("axisPointer.axis"));(y||m)&&g(h.baseAxes,p(x,!m||"cross",y)),m&&g(h.otherAxes,p(x,"cross",!1))}}})}function t(e,o,t,n,s,i){var r=o.getModel("axisPointer"),a={};g(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(e){a[e]=x.clone(r.get(e))}),a.snap="category"!==e.type&&!!i,"cross"===r.get("type")&&(a.type="line");var l=a.label||(a.label={});if(null==l.show&&(l.show=!1),"cross"===s&&(l.show=!0,!i)){var u=a.lineStyle=r.get("crossStyle");u&&x.defaults(l,u.textStyle)}return e.model.getModel("axisPointer",new c(a,t,n))}function n(e,o){o.eachSeries(function(o){var t=o.coordinateSystem,n=o.get("tooltip.trigger",!0),s=o.get("tooltip.show",!0);t&&"none"!==n&&!1!==n&&"item"!==n&&!1!==s&&!1!==o.get("axisPointer.show",!0)&&g(e.coordSysAxesInfo[d(t.model)],function(e){var n=e.axis;t.getAxis(n.dim)===n&&(e.seriesModels.push(o),null==e.seriesDataCount&&(e.seriesDataCount=0),e.seriesDataCount+=o.getData().count())})},this)}function s(e,o){for(var t=o.model,n=o.dim,s=0;s<e.length;s++){var r=e[s]||{};if(i(r[n+"AxisId"],t.id)||i(r[n+"AxisIndex"],t.componentIndex)||i(r[n+"AxisName"],t.name))return s}}function i(e,o){return"all"===e||x.isArray(e)&&x.indexOf(e,o)>=0||e===o}function r(e){var o=a(e);if(o){var t=o.axisPointerModel,n=o.axis.scale,s=t.option,i=t.get("status"),r=t.get("value");null!=r&&(r=n.parse(r));var l=u(t);null==i&&(s.status=l?"show":"hide");var d=n.getExtent().slice();d[0]>d[1]&&d.reverse(),(null==r||r>d[1])&&(r=d[1]),r<d[0]&&(r=d[0]),s.value=r,l&&(s.status=o.axis.scale.isBlank()?"hide":"show")}}function a(e){var o=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return o&&o.axesInfo[d(e)]}function l(e){var o=a(e);return o&&o.axisPointerModel}function u(e){return!!e.get("handle.show")}function d(e){return e.type+"||"+e.id}var x=require("zrender/lib/core/util"),c=require("../../model/Model"),g=x.each,p=x.curry;exports.collect=e,exports.fixValue=r,exports.getAxisInfo=a,exports.getAxisPointerModel=l,exports.makeKey=d;
},{"../../model/Model":64,"zrender/lib/core/util":113}],324:[function(require,module,exports) {
function e(e,s,r,n,a,u){var l=o.getAxisPointerClass(e.axisPointerClass);if(l){var x=t.getAxisPointerModel(s);x?(e._axisPointer||(e._axisPointer=new l)).render(s,x,n,u):i(e,n)}}function i(e,i,s){var r=e._axisPointer;r&&r.dispose(i,s),e._axisPointer=null}var s=require("../../config"),r=s.__DEV__,n=require("../../echarts"),t=require("../axisPointer/modelHelper"),o=n.extendComponentView({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(i,s,r,n){this.axisPointerClass&&t.fixValue(i),o.superApply(this,"render",arguments),e(this,i,s,r,n,!0)},updateAxisPointer:function(i,s,r,n,t){e(this,i,s,r,n,!1)},remove:function(e,i){var s=this._axisPointer;s&&s.remove(i),o.superApply(this,"remove",arguments)},dispose:function(e,s){i(this,s),o.superApply(this,"dispose",arguments)}}),a=[];o.registerAxisPointerClass=function(e,i){a[e]=i},o.getAxisPointerClass=function(e){return e&&a[e]};var u=o;module.exports=u;
},{"../../config":116,"../../echarts":14,"../axisPointer/modelHelper":134}],328:[function(require,module,exports) {
function e(e,o,i){i=i||{};var r=e.coordinateSystem,a=o.axis,n={},l=a.position,x=a.onZero?"onZero":l,c=a.dim,s=r.getRect(),b=[s.x,s.x+s.width,s.y,s.y+s.height],d={left:0,right:1,top:0,bottom:1,onZero:2},g=o.get("offset")||0,f="x"===c?[b[2]-g,b[3]+g]:[b[0]-g,b[1]+g];if(a.onZero){var h=r.getAxis("x"===c?"y":"x",a.onZeroAxisIndex),Z=h.toGlobalCoord(h.dataToCoord(0));f[d.onZero]=Math.max(Math.min(Z,f[1]),f[0])}n.position=["y"===c?f[d[x]]:b[0],"x"===c?f[d[x]]:b[3]],n.rotation=Math.PI/2*("x"===c?0:1);n.labelDirection=n.tickDirection=n.nameDirection={top:-1,bottom:1,left:-1,right:1}[l],n.labelOffset=a.onZero?f[d[l]]-f[d.onZero]:0,o.get("axisTick.inside")&&(n.tickDirection=-n.tickDirection),t.retrieve(i.labelInside,o.get("axisLabel.inside"))&&(n.labelDirection=-n.labelDirection);var m=o.get("axisLabel.rotate");return n.labelRotate="top"===x?-m:m,n.labelInterval=a.getLabelInterval(),n.z2=1,n}var t=require("zrender/lib/core/util");exports.layout=e;
},{"zrender/lib/core/util":113}],401:[function(require,module,exports) {
var e=require("zrender/lib/core/util"),i=require("../../util/graphic"),t=require("./AxisBuilder"),a=require("./AxisView"),s=require("./cartesianAxisHelper"),r=t.ifIgnoreOnTick,l=t.getInterval,o=["axisLine","axisTickLabel","axisName"],n=["splitArea","splitLine"],d=a.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(a,r,l,h){this.group.removeAll();var g=this._axisGroup;if(this._axisGroup=new i.Group,this.group.add(this._axisGroup),a.get("show")){var x=a.getCoordSysModel(),u=s.layout(x,a),c=new t(a,u);e.each(o,c.add,c),this._axisGroup.add(c.getGroup()),e.each(n,function(e){a.get(e+".show")&&this["_"+e](a,x,u.labelInterval)},this),i.groupTransition(g,this._axisGroup,a),d.superCall(this,"render",a,r,l,h)}},_splitLine:function(t,a,s){var o=t.axis;if(!o.scale.isBlank()){var n=t.getModel("splitLine"),d=n.getModel("lineStyle"),h=d.get("color"),g=l(n,s);h=e.isArray(h)?h:[h];for(var x=a.coordinateSystem.getRect(),u=o.isHorizontal(),c=0,p=o.getTicksCoords(),y=o.scale.getTicks(),b=t.get("axisLabel.showMinLabel"),v=t.get("axisLabel.showMaxLabel"),L=[],f=[],w=d.getLineStyle(),A=0;A<p.length;A++)if(!r(o,A,g,p.length,b,v)){var G=o.toGlobalCoord(p[A]);u?(L[0]=G,L[1]=x.y,f[0]=G,f[1]=x.y+x.height):(L[0]=x.x,L[1]=G,f[0]=x.x+x.width,f[1]=G);var _=c++%h.length;this._axisGroup.add(new i.Line(i.subPixelOptimizeLine({anid:"line_"+y[A],shape:{x1:L[0],y1:L[1],x2:f[0],y2:f[1]},style:e.defaults({stroke:h[_]},w),silent:!0})))}}},_splitArea:function(t,a,s){var o=t.axis;if(!o.scale.isBlank()){var n=t.getModel("splitArea"),d=n.getModel("areaStyle"),h=d.get("color"),g=a.coordinateSystem.getRect(),x=o.getTicksCoords(),u=o.scale.getTicks(),c=o.toGlobalCoord(x[0]),p=o.toGlobalCoord(x[0]),y=0,b=l(n,s),v=d.getAreaStyle();h=e.isArray(h)?h:[h];for(var L=t.get("axisLabel.showMinLabel"),f=t.get("axisLabel.showMaxLabel"),w=1;w<x.length;w++)if(!r(o,w,b,x.length,L,f)){var A,G,_,C,k=o.toGlobalCoord(x[w]);o.isHorizontal()?(A=c,G=g.y,_=k-A,C=g.height):(A=g.x,G=p,_=g.width,C=k-G);var M=y++%h.length;this._axisGroup.add(new i.Rect({anid:"area_"+u[w],shape:{x:A,y:G,width:_,height:C},style:e.defaults({fill:h[M]},v),silent:!0})),c=A+_,p=G+C}}}});d.extend({type:"xAxis"}),d.extend({type:"yAxis"});
},{"zrender/lib/core/util":113,"../../util/graphic":59,"./AxisBuilder":323,"./AxisView":324,"./cartesianAxisHelper":328}],252:[function(require,module,exports) {
require("../coord/cartesian/AxisModel"),require("./axis/CartesianAxisView");
},{"../coord/cartesian/AxisModel":400,"./axis/CartesianAxisView":401}],404:[function(require,module,exports) {
function t(t){return this._axes[t]}var r=require("zrender/lib/core/util"),e=function(t){this._axes={},this._dimList=[],this.name=t||""};e.prototype={constructor:e,type:"cartesian",getAxis:function(t){return this._axes[t]},getAxes:function(){return r.map(this._dimList,t,this)},getAxesByScale:function(t){return t=t.toLowerCase(),r.filter(this.getAxes(),function(r){return r.scale.type===t})},addAxis:function(t){var r=t.dim;this._axes[r]=t,this._dimList.push(r)},dataToCoord:function(t){return this._dataCoordConvert(t,"dataToCoord")},coordToData:function(t){return this._dataCoordConvert(t,"coordToData")},_dataCoordConvert:function(t,r){for(var e=this._dimList,o=t instanceof Array?[]:{},i=0;i<e.length;i++){var n=e[i],s=this._axes[n];o[n]=s[r](t[n])}return o}};var o=e;module.exports=o;
},{"zrender/lib/core/util":113}],253:[function(require,module,exports) {
function t(t){i.call(this,t)}var o=require("zrender/lib/core/util"),i=require("./Cartesian");t.prototype={constructor:t,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(t){var o=this.getAxis("x"),i=this.getAxis("y");return o.contain(o.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},dataToPoint:function(t,o){var i=this.getAxis("x"),a=this.getAxis("y");return[i.toGlobalCoord(i.dataToCoord(t[0],o)),a.toGlobalCoord(a.dataToCoord(t[1],o))]},pointToData:function(t,o){var i=this.getAxis("x"),a=this.getAxis("y");return[i.coordToData(i.toLocalCoord(t[0]),o),a.coordToData(a.toLocalCoord(t[1]),o)]},getOtherAxis:function(t){return this.getAxis("x"===t.dim?"y":"x")}},o.inherits(t,i);var a=t;module.exports=a;
},{"zrender/lib/core/util":113,"./Cartesian":404}],254:[function(require,module,exports) {
var t=require("zrender/lib/core/util"),o=require("../Axis"),e=function(t,e,i,r,n){o.call(this,t,e,i),this.type=r||"value",this.position=n||"bottom"};e.prototype={constructor:e,index:0,onZero:!1,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},getGlobalExtent:function(t){var o=this.getExtent();return o[0]=this.toGlobalCoord(o[0]),o[1]=this.toGlobalCoord(o[1]),t&&o[0]>o[1]&&o.reverse(),o},getOtherAxis:function(){this.grid.getOtherAxis()},isLabelIgnored:function(t){if("category"===this.type){var o=this.getLabelInterval();return"function"==typeof o&&!o(t,this.scale.getLabel(t))||t%(o+1)}},pointToData:function(t,o){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),o)},toLocalCoord:null,toGlobalCoord:null},t.inherits(e,o);var i=e;module.exports=i;
},{"zrender/lib/core/util":113,"../Axis":65}],255:[function(require,module,exports) {
require("./AxisModel");var e=require("../../model/Component"),o=e.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});module.exports=o;
},{"../../model/Component":201,"./AxisModel":400}],69:[function(require,module,exports) {
function t(t,e,i){return t.getCoordSysModel()===e}function e(t,e){var i=e*Math.PI/180,n=t.plain(),o=n.width,r=n.height,s=o*Math.cos(i)+r*Math.sin(i),a=o*Math.sin(i)+r*Math.cos(i);return new f(n.x,n.y,s,a)}function i(t){var i,n=t.model,o=n.getFormattedLabels(),r=n.getModel("axisLabel"),s=1,a=o.length;a>40&&(s=Math.ceil(a/40));for(var c=0;c<a;c+=s)if(!t.isLabelIgnored(c)){var u=e(r.getTextRect(o[c]),r.get("rotate")||0);i?i.union(u):i=u}return i}function n(t,e,i){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,i),this.model=t}function o(t,e,i){var n=t[e];if(i.onZero){var o=i.onZeroAxisIndex;if(null==o){for(var s in n)if(n.hasOwnProperty(s)){if((a=n[s])&&!r(a)){o=+s;break}}null==o&&(i.onZero=!1),i.onZeroAxisIndex=o}else{var a;(a=n[o])&&r(a)&&(i.onZero=!1)}}}function r(t){return"category"===t.type||"time"===t.type||!_(t)}function s(t,e){var i=t.getExtent(),n=i[0]+i[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return n-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return n-t+e}}function a(t,e){return d.map(L,function(e){return t.getReferringComponents(e)[0]})}function c(t){return"cartesian2d"===t.get("coordinateSystem")}var u=require("../../config"),x=u.__DEV__,d=require("zrender/lib/core/util"),f=require("zrender/lib/core/BoundingRect"),l=require("../../util/layout"),h=l.getLayoutRect,g=require("../../coord/axisHelper"),p=require("./Cartesian2D"),m=require("./Axis2D"),y=require("../../CoordinateSystem");require("./GridModel");var v=d.each,_=g.ifAxisCrossZero,A=g.niceScaleExtent,C=n.prototype;C.type="grid",C.axisPointerEnabled=!0,C.getRect=function(){return this._rect},C.update=function(t,e){var i=this._axesMap;this._updateScale(t,this.model),v(i.x,function(t){A(t.scale,t.model)}),v(i.y,function(t){A(t.scale,t.model)}),v(i.x,function(t){o(i,"y",t)}),v(i.y,function(t){o(i,"x",t)}),this.resize(this.model,e)},C.resize=function(t,e,n){function o(){v(a,function(t){var e=t.isHorizontal(),i=e?[0,r.width]:[0,r.height],n=t.inverse?1:0;t.setExtent(i[n],i[1-n]),s(t,e?r.x:r.y)})}var r=h(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=r;var a=this._axesList;o(),!n&&t.get("containLabel")&&(v(a,function(t){if(!t.model.get("axisLabel.inside")){var e=i(t);if(e){var n=t.isHorizontal()?"height":"width",o=t.model.get("axisLabel.margin");r[n]-=e[n]+o,"top"===t.position?r.y+=e.height+o:"left"===t.position&&(r.x+=e.width+o)}}}),o())},C.getAxis=function(t,e){var i=this._axesMap[t];if(null!=i){if(null==e)for(var n in i)if(i.hasOwnProperty(n))return i[n];return i[e]}},C.getAxes=function(){return this._axesList.slice()},C.getCartesian=function(t,e){if(null!=t&&null!=e){var i="x"+t+"y"+e;return this._coordsMap[i]}d.isObject(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var n=0,o=this._coordsList;n<o.length;n++)if(o[n].getAxis("x").index===t||o[n].getAxis("y").index===e)return o[n]},C.getCartesians=function(){return this._coordsList.slice()},C.convertToPixel=function(t,e,i){var n=this._findConvertTarget(t,e);return n.cartesian?n.cartesian.dataToPoint(i):n.axis?n.axis.toGlobalCoord(n.axis.dataToCoord(i)):null},C.convertFromPixel=function(t,e,i){var n=this._findConvertTarget(t,e);return n.cartesian?n.cartesian.pointToData(i):n.axis?n.axis.coordToData(n.axis.toLocalCoord(i)):null},C._findConvertTarget=function(t,e){var i,n,o=e.seriesModel,r=e.xAxisModel||o&&o.getReferringComponents("xAxis")[0],s=e.yAxisModel||o&&o.getReferringComponents("yAxis")[0],a=e.gridModel,c=this._coordsList;if(o)i=o.coordinateSystem,d.indexOf(c,i)<0&&(i=null);else if(r&&s)i=this.getCartesian(r.componentIndex,s.componentIndex);else if(r)n=this.getAxis("x",r.componentIndex);else if(s)n=this.getAxis("y",s.componentIndex);else if(a){a.coordinateSystem===this&&(i=this._coordsList[0])}return{cartesian:i,axis:n}},C.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},C._initCartesian=function(e,i,n){function o(n){return function(o,c){if(t(o,e,i)){var u=o.get("position");"x"===n?"top"!==u&&"bottom"!==u&&r[u="bottom"]&&(u="top"===u?"bottom":"top"):"left"!==u&&"right"!==u&&r[u="left"]&&(u="left"===u?"right":"left"),r[u]=!0;var x=new m(n,g.createScaleByModel(o),[0,0],o.get("type"),u),d="category"===x.type;x.onBand=d&&o.get("boundaryGap"),x.inverse=o.get("inverse"),x.onZero=o.get("axisLine.onZero"),x.onZeroAxisIndex=o.get("axisLine.onZeroAxisIndex"),o.axis=x,x.model=o,x.grid=this,x.index=c,this._axesList.push(x),s[n][c]=x,a[n]++}}}var r={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},a={x:0,y:0};if(i.eachComponent("xAxis",o("x"),this),i.eachComponent("yAxis",o("y"),this),!a.x||!a.y)return this._axesMap={},void(this._axesList=[]);this._axesMap=s,v(s.x,function(t,i){v(s.y,function(n,o){var r="x"+i+"y"+o,s=new p(r);s.grid=this,s.model=e,this._coordsMap[r]=s,this._coordsList.push(s),s.addAxis(t),s.addAxis(n)},this)},this)},C._updateScale=function(e,i){function n(t,e,i){v(i.coordDimToDataDim(e.dim),function(i){e.scale.unionExtentFromData(t,i)})}d.each(this._axesList,function(t){t.scale.setExtent(1/0,-1/0)}),e.eachSeries(function(o){if(c(o)){var r=a(o,e),s=r[0],u=r[1];if(!t(s,i,e)||!t(u,i,e))return;var x=this.getCartesian(s.componentIndex,u.componentIndex),d=o.getData(),f=x.getAxis("x"),l=x.getAxis("y");"list"===d.type&&(n(d,f,o),n(d,l,o))}},this)},C.getTooltipAxes=function(t){var e=[],i=[];return v(this.getCartesians(),function(n){var o=null!=t&&"auto"!==t?n.getAxis(t):n.getBaseAxis(),r=n.getOtherAxis(o);d.indexOf(e,o)<0&&e.push(o),d.indexOf(i,r)<0&&i.push(r)}),{baseAxes:e,otherAxes:i}};var L=["xAxis","yAxis"];n.create=function(t,e){var i=[];return t.eachComponent("grid",function(o,r){var s=new n(o,t,e);s.name="grid_"+r,s.resize(o,e,!0),o.coordinateSystem=s,i.push(s)}),t.eachSeries(function(e){if(c(e)){var i=a(e,t),n=i[0],o=i[1],r=n.getCoordSysModel().coordinateSystem;e.coordinateSystem=r.getCartesian(n.componentIndex,o.componentIndex)}}),i},n.dimensions=n.prototype.dimensions=p.prototype.dimensions,y.register("cartesian2d",n);var M=n;module.exports=M;
},{"../../config":116,"../../CoordinateSystem":197,"../../util/layout":126,"../../coord/axisHelper":191,"./Cartesian2D":253,"./Axis2D":254,"./GridModel":255,"zrender/lib/core/util":113,"zrender/lib/core/BoundingRect":256}],68:[function(require,module,exports) {
var e=require("../echarts"),r=require("zrender/lib/core/util"),i=require("../util/graphic");require("../coord/cartesian/Grid"),require("./axis"),e.extendComponentView({type:"grid",render:function(e,t){this.group.removeAll(),e.get("show")&&this.group.add(new i.Rect({shape:e.coordinateSystem.getRect(),style:r.defaults({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))}}),e.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})});
},{"../echarts":14,"zrender/lib/core/util":113,"../util/graphic":59,"./axis":252,"../coord/cartesian/Grid":69}],207:[function(require,module,exports) {
function t(t,r,a){r.eachSeriesByType(t,function(t){var r=t.getData(),a=t.get("sampling"),o=t.coordinateSystem;if("cartesian2d"===o.type&&a){var i=o.getBaseAxis(),u=o.getOtherAxis(i),f=i.getExtent(),s=f[1]-f[0],c=Math.round(r.count()/s);if(c>1){var g;"string"==typeof a?g=n[a]:"function"==typeof a&&(g=a),g&&(r=r.downSample(u.dim,1/c,g,e),t.setData(r))}}},this)}var n={average:function(t){for(var n=0,e=0,r=0;r<t.length;r++)isNaN(t[r])||(n+=t[r],e++);return 0===e?NaN:n/e},sum:function(t){for(var n=0,e=0;e<t.length;e++)n+=t[e]||0;return n},max:function(t){for(var n=-1/0,e=0;e<t.length;e++)t[e]>n&&(n=t[e]);return n},min:function(t){for(var n=1/0,e=0;e<t.length;e++)t[e]<n&&(n=t[e]);return n},nearest:function(t){return t[0]}},e=function(t,n){return Math.round(t.length/2)};module.exports=t;
},{}],210:[function(require,module,exports) {
var e=require("../../config"),o=e.__DEV__,l=require("../helper/createListFromArray"),i=require("../../model/Series"),n=i.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(e,o){return l(e.data,this,o)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});module.exports=n;
},{"../../config":116,"../../model/Series":202,"../helper/createListFromArray":119}],118:[function(require,module,exports) {
function e(e){var i,l=n(e,"label");if(l.length)i=l[0];else for(var o,r=e.dimensions.slice();r.length&&(i=r.pop(),"ordinal"===(o=e.getDimensionInfo(i).type)||"time"===o););return i}var i=require("../../util/model"),n=i.otherDimToDataDim;exports.findLabelValueDim=e;
},{"../../util/model":125}],383:[function(require,module,exports) {
function e(e,t){var l=e.getItemVisual(t,"symbolSize");return l instanceof Array?l.slice():[+l,+l]}function t(e){return[e[0]/2,e[1]/2]}function l(e,t,l){r.Group.call(this),this.updateData(e,t,l)}function o(e,t){this.parent.drift(e,t)}var i=require("zrender/lib/core/util"),a=require("../../util/symbol"),s=a.createSymbol,r=require("../../util/graphic"),n=require("../../util/number"),c=n.parsePercent,u=require("./labelHelper"),h=u.findLabelValueDim,m=l.prototype;m._createSymbol=function(e,l,i,a){this.removeAll();var r=l.getItemVisual(i,"color"),n=s(e,-1,-1,2,2,r);n.attr({z2:100,culling:!0,scale:t(a)}),n.drift=o,this._symbolType=e,this.add(n)},m.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(e)},m.getSymbolPath=function(){return this.childAt(0)},m.getScale=function(){return this.childAt(0).scale},m.highlight=function(){this.childAt(0).trigger("emphasis")},m.downplay=function(){this.childAt(0).trigger("normal")},m.setZ=function(e,t){var l=this.childAt(0);l.zlevel=e,l.z=t},m.setDraggable=function(e){var t=this.childAt(0);t.draggable=e,t.cursor=e?"move":"pointer"},m.updateData=function(l,o,i){this.silent=!1;var a=l.getItemVisual(o,"symbol")||"circle",s=l.hostModel,n=e(l,o),c=a!==this._symbolType;if(c)this._createSymbol(a,l,o,n);else{(u=this.childAt(0)).silent=!1,r.updateProps(u,{scale:t(n)},s,o)}if(this._updateCommon(l,o,n,i),c){var u=this.childAt(0),h=i&&i.fadeIn,m={scale:u.scale.slice()};h&&(m.style={opacity:u.style.opacity}),u.scale=[0,0],h&&(u.style.opacity=0),r.initProps(u,m,s,o)}this._seriesModel=s};var d=["itemStyle","normal"],y=["itemStyle","emphasis"],f=["label","normal"],p=["label","emphasis"];m._updateCommon=function(e,l,o,a){var s=this.childAt(0),n=e.hostModel,u=e.getItemVisual(l,"color");"image"!==s.type&&s.useStyle({strokeNoScale:!0});var m=a&&a.itemStyle,g=a&&a.hoverItemStyle,b=a&&a.symbolRotate,v=a&&a.symbolOffset,S=a&&a.labelModel,A=a&&a.hoverLabelModel,M=a&&a.hoverAnimation,I=a&&a.cursorStyle;if(!a||e.hasItemOption){var x=a&&a.itemModel?a.itemModel:e.getItemModel(l);m=x.getModel(d).getItemStyle(["color"]),g=x.getModel(y).getItemStyle(),b=x.getShallow("symbolRotate"),v=x.getShallow("symbolOffset"),S=x.getModel(f),A=x.getModel(p),M=x.getShallow("hoverAnimation"),I=x.getShallow("cursor")}else g=i.extend({},g);var _=s.style;s.attr("rotation",(b||0)*Math.PI/180||0),v&&s.attr("position",[c(v[0],o[0]),c(v[1],o[1])]),I&&s.attr("cursor",I),s.setColor(u,a&&a.symbolInnerColor),s.setStyle(m);var O=e.getItemVisual(l,"opacity");null!=O&&(_.opacity=O);var P=a&&a.useNameLabel,T=!P&&h(e);(P||null!=T)&&r.setLabelStyle(_,g,S,A,{labelFetcher:n,labelDataIndex:l,defaultText:P?e.getName(l):e.get(T,l),isRectText:!0,autoColor:u}),s.off("mouseover").off("mouseout").off("emphasis").off("normal"),s.hoverStyle=g,r.setHoverStyle(s);var V=t(o);if(M&&n.isAnimationEnabled()){var q=function(){var e=V[1]/V[0];this.animateTo({scale:[Math.max(1.1*V[0],V[0]+3),Math.max(1.1*V[1],V[1]+3*e)]},400,"elasticOut")},w=function(){this.animateTo({scale:V},400,"elasticOut")};s.on("mouseover",q).on("mouseout",w).on("emphasis",q).on("normal",w)}},m.fadeOut=function(e,t){var l=this.childAt(0);this.silent=l.silent=!0,(!t||!t.keepLabel)&&(l.style.text=null),r.updateProps(l,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,e)},i.inherits(l,r.Group);var g=l;module.exports=g;
},{"zrender/lib/core/util":113,"../../util/symbol":193,"../../util/graphic":59,"../../util/number":60,"./labelHelper":118}],260:[function(require,module,exports) {
function t(t){this.group=new o.Group,this._symbolCtor=t||a}function e(t,e,o){var a=t.getItemLayout(e);return a&&!isNaN(a[0])&&!isNaN(a[1])&&!(o&&o(e))&&"none"!==t.getItemVisual(e,"symbol")}var o=require("../../util/graphic"),a=require("./Symbol"),i=t.prototype;i.updateData=function(t,a){var i=this.group,r=t.hostModel,l=this._data,n=this._symbolCtor,m={itemStyle:r.getModel("itemStyle.normal").getItemStyle(["color"]),hoverItemStyle:r.getModel("itemStyle.emphasis").getItemStyle(),symbolRotate:r.get("symbolRotate"),symbolOffset:r.get("symbolOffset"),hoverAnimation:r.get("hoverAnimation"),labelModel:r.getModel("label.normal"),hoverLabelModel:r.getModel("label.emphasis"),cursorStyle:r.get("cursor")};t.diff(l).add(function(o){var r=t.getItemLayout(o);if(e(t,o,a)){var l=new n(t,o,m);l.attr("position",r),t.setItemGraphicEl(o,l),i.add(l)}}).update(function(u,s){var d=l.getItemGraphicEl(s),p=t.getItemLayout(u);e(t,u,a)?(d?(d.updateData(t,u,m),o.updateProps(d,{position:p},r)):(d=new n(t,u)).attr("position",p),i.add(d),t.setItemGraphicEl(u,d)):i.remove(d)}).remove(function(t){var e=l.getItemGraphicEl(t);e&&e.fadeOut(function(){i.remove(e)})}).execute(),this._data=t},i.updateLayout=function(){var t=this._data;t&&t.eachItemGraphicEl(function(e,o){var a=t.getItemLayout(o);e.attr("position",a)})},i.remove=function(t){var e=this.group,o=this._data;o&&(t?o.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)})}):e.removeAll())};var r=t;module.exports=r;
},{"../../util/graphic":59,"./Symbol":383}],384:[function(require,module,exports) {
function t(t){return t>=0?1:-1}function e(e,u,s){for(var n,a=e.getBaseAxis(),i=e.getOtherAxis(a),r=a.onZero?0:i.scale.getExtent()[0],d=i.dim,o="x"===d||"radius"===d?1:0,h=u.stackedOn,c=u.get(d,s);h&&t(h.get(d,s))===t(c);){n=h;break}var p=[];return p[o]=u.get(a.dim,s),p[1-o]=n?n.get(d,s,!0):r,e.dataToPoint(p)}function u(t,e){var u=[];return e.diff(t).add(function(t){u.push({cmd:"+",idx:t})}).update(function(t,e){u.push({cmd:"=",idx:e,idx1:t})}).remove(function(t){u.push({cmd:"-",idx:t})}).execute(),u}function s(t,s,n,a,i,r){for(var d=u(t,s),o=[],h=[],c=[],p=[],x=[],g=[],f=[],m=r.dimensions,v=0;v<d.length;v++){var l=d[v],I=!0;switch(l.cmd){case"=":var k=t.getItemLayout(l.idx),N=s.getItemLayout(l.idx1);(isNaN(k[0])||isNaN(k[1]))&&(k=N.slice()),o.push(k),h.push(N),c.push(n[l.idx]),p.push(a[l.idx1]),f.push(s.getRawIndex(l.idx1));break;case"+":var w=l.idx;o.push(i.dataToPoint([s.get(m[0],w,!0),s.get(m[1],w,!0)])),h.push(s.getItemLayout(w).slice()),c.push(e(i,s,w)),p.push(a[w]),f.push(s.getRawIndex(w));break;case"-":w=l.idx;var y=t.getRawIndex(w);y!==w?(o.push(t.getItemLayout(w)),h.push(r.dataToPoint([t.get(m[0],w,!0),t.get(m[1],w,!0)])),c.push(n[w]),p.push(e(r,t,w)),f.push(y)):I=!1}I&&(x.push(l),g.push(g.length))}g.sort(function(t,e){return f[t]-f[e]});var L=[],O=[],b=[],P=[],R=[];for(v=0;v<g.length;v++){w=g[v];L[v]=o[w],O[v]=h[w],b[v]=c[w],P[v]=p[w],R[v]=x[w]}return{current:L,next:O,stackedOnCurrent:b,stackedOnNext:P,status:R}}module.exports=s;
},{}],313:[function(require,module,exports) {
function o(o){return isNaN(o[0])||isNaN(o[1])}function n(n,t,e,s,m,p,d,v,b,x,y){for(var N=0,P=e,g=0;g<s;g++){var k=t[P];if(P>=m||P<0)break;if(o(k)){if(y){P+=p;continue}break}if(P===e)n[p>0?"moveTo":"lineTo"](k[0],k[1]),h(u,k);else if(b>0){var C=P+p,M=t[C];if(y)for(;M&&o(t[C]);)M=t[C+=p];var z=.5,O=t[N];if(!(M=t[C])||o(M))h(f,k);else{o(M)&&!y&&(M=k),r.sub(c,M,O);var T,q;if("x"===x||"y"===x){var S="x"===x?0:1;T=Math.abs(k[S]-O[S]),q=Math.abs(k[S]-M[S])}else T=r.dist(k,O),q=r.dist(k,M);a(f,k,c,-b*(1-(z=q/(q+T))))}i(u,u,v),l(u,u,d),i(f,f,v),l(f,f,d),n.bezierCurveTo(u[0],u[1],f[0],f[1],k[0],k[1]),a(u,k,c,b*z)}else n.lineTo(k[0],k[1]);N=P,P+=p}return g}function t(o,n){var t=[1/0,1/0],e=[-1/0,-1/0];if(n)for(var r=0;r<o.length;r++){var s=o[r];s[0]<t[0]&&(t[0]=s[0]),s[1]<t[1]&&(t[1]=s[1]),s[0]>e[0]&&(e[0]=s[0]),s[1]>e[1]&&(e[1]=s[1])}return{min:n?t:e,max:n?e:t}}var e=require("zrender/lib/graphic/Path"),r=require("zrender/lib/core/vector"),s=require("zrender/lib/graphic/helper/fixClipWithShadow"),i=r.min,l=r.max,a=r.scaleAndAdd,h=r.copy,c=[],u=[],f=[],m=e.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:s(e.prototype.brush),buildPath:function(e,r){var s=r.points,i=0,l=s.length,a=t(s,r.smoothConstraint);if(r.connectNulls){for(;l>0&&o(s[l-1]);l--);for(;i<l&&o(s[i]);i++);}for(;i<l;)i+=n(e,s,i,l,l,1,a.min,a.max,r.smooth,r.smoothMonotone,r.connectNulls)+1}}),p=e.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:s(e.prototype.brush),buildPath:function(e,r){var s=r.points,i=r.stackedOnPoints,l=0,a=s.length,h=r.smoothMonotone,c=t(s,r.smoothConstraint),u=t(i,r.smoothConstraint);if(r.connectNulls){for(;a>0&&o(s[a-1]);a--);for(;l<a&&o(s[l]);l++);}for(;l<a;){var f=n(e,s,l,a,a,1,c.min,c.max,r.smooth,h,r.connectNulls);n(e,i,l+f-1,f,a,-1,u.min,u.max,r.stackedOnSmooth,h,r.connectNulls),l+=f+1,e.closePath()}}});exports.Polyline=m,exports.Polygon=p;
},{"zrender/lib/graphic/Path":263,"zrender/lib/core/vector":112,"zrender/lib/graphic/helper/fixClipWithShadow":407}],211:[function(require,module,exports) {
function t(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++){var o=t[n],i=e[n];if(o[0]!==i[0]||o[1]!==i[1])return}return!0}}function e(t){return"number"==typeof t?t:t?.3:0}function n(t){var e=t.getGlobalExtent();if(t.onBand){var n=t.getBandWidth()/2-1,o=e[1]>e[0]?1:-1;e[0]+=o*n,e[1]-=o*n}return e}function o(t){return t>=0?1:-1}function i(t,e){var n=t.getBaseAxis(),i=t.getOtherAxis(n),r=0;if(!n.onZero){var a=i.scale.getExtent();a[0]>0?r=a[0]:a[1]<0&&(r=a[1])}var s=i.dim,l="x"===s||"radius"===s?1:0;return e.mapArray([s],function(i,a){for(var h,p=e.stackedOn;p&&o(p.get(s,a))===o(i);){h=p;break}var u=[];return u[l]=e.get(n.dim,a),u[1-l]=h?h.get(s,a,!0):r,t.dataToPoint(u)},!0)}function r(t,e,o){var i=n(t.getAxis("x")),r=n(t.getAxis("y")),a=t.getBaseAxis().isHorizontal(),s=Math.min(i[0],i[1]),l=Math.min(r[0],r[1]),h=Math.max(i[0],i[1])-s,p=Math.max(r[0],r[1])-l,u=o.get("lineStyle.normal.width")||2,c=o.get("clipOverflow")?u/2:Math.max(h,p);a?(l-=c,p+=2*c):(s-=c,h+=2*c);var d=new f.Rect({shape:{x:s,y:l,width:h,height:p}});return e&&(d.shape[a?"width":"height"]=0,f.initProps(d,{shape:{width:h,height:p}},o)),d}function a(t,e,n){var o=t.getAngleAxis(),i=t.getRadiusAxis().getExtent(),r=o.getExtent(),a=Math.PI/180,s=new f.Sector({shape:{cx:t.cx,cy:t.cy,r0:i[0],r:i[1],startAngle:-r[0]*a,endAngle:-r[1]*a,clockwise:o.inverse}});return e&&(s.shape.endAngle=-r[0]*a,f.initProps(s,{shape:{endAngle:-r[1]*a}},n)),s}function s(t,e,n){return"polar"===t.type?a(t,e,n):r(t,e,n)}function l(t,e,n){for(var o=e.getBaseAxis(),i="x"===o.dim||"radius"===o.dim?0:1,r=[],a=0;a<t.length-1;a++){var s=t[a+1],l=t[a];r.push(l);var h=[];switch(n){case"end":h[i]=s[i],h[1-i]=l[1-i],r.push(h);break;case"middle":var p=(l[i]+s[i])/2,u=[];h[i]=u[i]=p,h[1-i]=l[1-i],u[1-i]=s[1-i],r.push(h),r.push(u);break;default:h[i]=l[i],h[1-i]=s[1-i],r.push(h)}}return t[a]&&r.push(t[a]),r}function h(t,e){var n=t.getVisual("visualMeta");if(n&&n.length&&t.count()){for(var o,i=n.length-1;i>=0;i--)if(n[i].dimension<2){o=n[i];break}if(o&&"cartesian2d"===e.type){var r=o.dimension,a=t.dimensions[r],s=e.getAxis(a),l=c.map(o.stops,function(t){return{coord:s.toGlobalCoord(s.dataToCoord(t.value)),color:t.color}}),h=l.length,p=o.outerColors.slice();h&&l[0].coord>l[h-1].coord&&(l.reverse(),p.reverse());var u=l[0].coord-10,d=l[h-1].coord+10,g=d-u;if(g<.001)return"transparent";c.each(l,function(t){t.offset=(t.coord-u)/g}),l.push({offset:h?l[h-1].offset:.5,color:p[1]||"transparent"}),l.unshift({offset:h?l[0].offset:.5,color:p[0]||"transparent"});var m=new f.LinearGradient(0,0,0,0,l,!0);return m[a]=u,m[a+"2"]=d,m}}}var p=require("../../config"),u=p.__DEV__,c=require("zrender/lib/core/util"),d=require("../helper/SymbolDraw"),g=require("../helper/Symbol"),m=require("./lineAnimationDiff"),f=require("../../util/graphic"),y=require("../../util/model"),_=require("./poly"),v=_.Polyline,x=_.Polygon,w=require("../../view/Chart"),S=w.extend({type:"line",init:function(){var t=new f.Group,e=new d;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},render:function(n,o,r){var a=n.coordinateSystem,p=this.group,u=n.getData(),d=n.getModel("lineStyle.normal"),g=n.getModel("areaStyle.normal"),m=u.mapArray(u.getItemLayout,!0),f="polar"===a.type,y=this._coordSys,_=this._symbolDraw,v=this._polyline,x=this._polygon,w=this._lineGroup,S=n.get("animation"),A=!g.isEmpty(),b=i(a,u),P=n.get("showSymbol"),k=P&&!f&&!n.get("showAllSymbol")&&this._getSymbolIgnoreFunc(u,a),G=this._data;G&&G.eachItemGraphicEl(function(t,e){t.__temp&&(p.remove(t),G.setItemGraphicEl(e,null))}),P||_.remove(),p.add(w);var I=!f&&n.get("step");v&&y.type===a.type&&I===this._step?(A&&!x?x=this._newPolygon(m,b,a,S):x&&!A&&(w.remove(x),x=this._polygon=null),w.setClipPath(s(a,!1,n)),P&&_.updateData(u,k),u.eachItemGraphicEl(function(t){t.stopAnimation(!0)}),t(this._stackedOnPoints,b)&&t(this._points,m)||(S?this._updateAnimation(u,b,a,r,I):(I&&(m=l(m,a,I),b=l(b,a,I)),v.setShape({points:m}),x&&x.setShape({points:m,stackedOnPoints:b})))):(P&&_.updateData(u,k),I&&(m=l(m,a,I),b=l(b,a,I)),v=this._newPolyline(m,a,S),A&&(x=this._newPolygon(m,b,a,S)),w.setClipPath(s(a,!0,n)));var O=h(u,a)||u.getVisual("color");v.useStyle(c.defaults(d.getLineStyle(),{fill:"none",stroke:O,lineJoin:"bevel"}));var E=n.get("smooth");if(E=e(n.get("smooth")),v.setShape({smooth:E,smoothMonotone:n.get("smoothMonotone"),connectNulls:n.get("connectNulls")}),x){var M=u.stackedOn,D=0;if(x.useStyle(c.defaults(g.getAreaStyle(),{fill:O,opacity:.7,lineJoin:"bevel"})),M){D=e(M.hostModel.get("smooth"))}x.setShape({smooth:E,stackedOnSmooth:D,smoothMonotone:n.get("smoothMonotone"),connectNulls:n.get("connectNulls")})}this._data=u,this._coordSys=a,this._stackedOnPoints=b,this._points=m,this._step=I},dispose:function(){},highlight:function(t,e,n,o){var i=t.getData(),r=y.queryDataIndex(i,o);if(!(r instanceof Array)&&null!=r&&r>=0){var a=i.getItemGraphicEl(r);if(!a){var s=i.getItemLayout(r);if(!s)return;(a=new g(i,r)).position=s,a.setZ(t.get("zlevel"),t.get("z")),a.ignore=isNaN(s[0])||isNaN(s[1]),a.__temp=!0,i.setItemGraphicEl(r,a),a.stopSymbolAnimation(!0),this.group.add(a)}a.highlight()}else w.prototype.highlight.call(this,t,e,n,o)},downplay:function(t,e,n,o){var i=t.getData(),r=y.queryDataIndex(i,o);if(null!=r&&r>=0){var a=i.getItemGraphicEl(r);a&&(a.__temp?(i.setItemGraphicEl(r,null),this.group.remove(a)):a.downplay())}else w.prototype.downplay.call(this,t,e,n,o)},_newPolyline:function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new v({shape:{points:t},silent:!0,z2:10}),this._lineGroup.add(e),this._polyline=e,e},_newPolygon:function(t,e){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new x({shape:{points:t,stackedOnPoints:e},silent:!0}),this._lineGroup.add(n),this._polygon=n,n},_getSymbolIgnoreFunc:function(t,e){var n=e.getAxesByScale("ordinal")[0];if(n&&n.isLabelIgnored)return c.bind(n.isLabelIgnored,n)},_updateAnimation:function(t,e,n,o,i){var r=this._polyline,a=this._polygon,s=t.hostModel,h=m(this._data,t,this._stackedOnPoints,e,this._coordSys,n),p=h.current,u=h.stackedOnCurrent,c=h.next,d=h.stackedOnNext;i&&(p=l(h.current,n,i),u=l(h.stackedOnCurrent,n,i),c=l(h.next,n,i),d=l(h.stackedOnNext,n,i)),r.shape.__points=h.current,r.shape.points=p,f.updateProps(r,{shape:{points:c}},s),a&&(a.setShape({points:p,stackedOnPoints:u}),f.updateProps(a,{shape:{points:c,stackedOnPoints:d}},s));for(var g=[],y=h.status,_=0;_<y.length;_++){if("="===y[_].cmd){var v=t.getItemGraphicEl(y[_].idx1);v&&g.push({el:v,ptIdx:_})}}r.animators&&r.animators.length&&r.animators[0].during(function(){for(var t=0;t<g.length;t++){g[t].el.attr("position",r.shape.__points[g[t].ptIdx])}})},remove:function(t){var e=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(t,o){t.__temp&&(e.remove(t),n.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});module.exports=S;
},{"../../config":116,"../../util/graphic":59,"../../util/model":125,"../../view/Chart":204,"../helper/SymbolDraw":260,"../helper/Symbol":383,"./lineAnimationDiff":384,"./poly":313,"zrender/lib/core/util":113}],16:[function(require,module,exports) {
var e=require("../echarts"),r=require("zrender/lib/core/util");require("./line/LineSeries"),require("./line/LineView");var i=require("../visual/symbol"),u=require("../layout/points"),l=require("../processor/dataSample");require("../component/gridSimple"),e.registerVisual(r.curry(i,"line","circle","line")),e.registerLayout(r.curry(u,"line")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,r.curry(l,"line"));
},{"../echarts":14,"zrender/lib/core/util":113,"../visual/symbol":72,"../layout/points":73,"../component/gridSimple":68,"../processor/dataSample":207,"./line/LineSeries":210,"./line/LineView":211}],67:[function(require,module,exports) {
function t(t){return t.get("stack")||s+t.seriesIndex}function a(t){return t.dim+t.index}function e(t,a){var e=[],i=t.axis;if("category"===i.type){for(var n=i.getBandWidth(),d=0;d<t.count;d++)e.push(o.defaults({bandWidth:n,axisKey:"axis0",stackId:s+d},t));var h=r(e,a),c=[];for(d=0;d<t.count;d++){var u=h.axis0[s+d];u.offsetCenter=u.offset+u.width/2,c.push(u)}return c}}function i(e,i){return r(o.map(e,function(e){var i=e.getData(),r=e.coordinateSystem.getBaseAxis(),n=r.getExtent(),o="category"===r.type?r.getBandWidth():Math.abs(n[1]-n[0])/i.count();return{bandWidth:o,barWidth:h(e.get("barWidth"),o),barMaxWidth:h(e.get("barMaxWidth"),o),barGap:e.get("barGap"),barCategoryGap:e.get("barCategoryGap"),axisKey:a(r),stackId:t(e)}}),i)}function r(t,a){var e={};o.each(t,function(t,a){var i=t.axisKey,r=t.bandWidth,n=e[i]||{bandWidth:r,remainedWidth:r,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},o=n.stacks;e[i]=n;var d=t.stackId;o[d]||n.autoWidthCount++,o[d]=o[d]||{width:0,maxWidth:0};var h=t.barWidth;h&&!o[d].width&&(o[d].width=h,h=Math.min(n.remainedWidth,h),n.remainedWidth-=h);var s=t.barMaxWidth;s&&(o[d].maxWidth=s);var c=t.barGap;null!=c&&(n.gap=c);var u=t.barCategoryGap;null!=u&&(n.categoryGap=u)});var i={};return o.each(e,function(t,a){i[a]={};var e=t.stacks,r=t.bandWidth,n=h(t.categoryGap,r),d=h(t.gap,1),s=t.remainedWidth,c=t.autoWidthCount,u=(s-n)/(c+(c-1)*d);u=Math.max(u,0),o.each(e,function(t,a){var e=t.maxWidth;e&&e<u&&(e=Math.min(e,s),t.width&&(e=Math.min(e,t.width)),s-=e,t.width=e,c--)}),u=(s-n)/(c+(c-1)*d),u=Math.max(u,0);var f,g=0;o.each(e,function(t,a){t.width||(t.width=u),f=t,g+=t.width*(1+d)}),f&&(g-=f.width*d);var m=-g/2;o.each(e,function(t,e){i[a][e]=i[a][e]||{offset:m,width:t.width},m+=t.width*(1+d)})}),i}function n(e,r,n){var d=i(o.filter(r.getSeriesByType(e),function(t){return!r.isSeriesFiltered(t)&&t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type})),h={},s={};r.eachSeriesByType(e,function(e){if("cartesian2d"===e.coordinateSystem.type){var i=e.getData(),r=e.coordinateSystem,n=r.getBaseAxis(),o=t(e),c=d[a(n)][o],u=c.offset,f=c.width,g=r.getOtherAxis(n),m=e.get("barMinHeight")||0,y=n.onZero?g.toGlobalCoord(g.dataToCoord(0)):g.getGlobalExtent()[0],p=[e.coordDimToDataDim("x")[0],e.coordDimToDataDim("y")[0]],b=i.mapArray(p,function(t,a){return r.dataToPoint([t,a])},!0);h[o]=h[o]||[],s[o]=s[o]||[],i.setLayout({offset:u,size:f}),i.each(e.coordDimToDataDim(g.dim)[0],function(t,a){if(!isNaN(t)){h[o][a]||(h[o][a]={p:y,n:y},s[o][a]={p:y,n:y});var e,r,n,d,c=t>=0?"p":"n",p=b[a],x=h[o][a][c],W=s[o][a][c];g.isHorizontal()?(e=x,r=p[1]+u,n=p[0]-W,d=f,s[o][a][c]+=n,Math.abs(n)<m&&(n=(n<0?-1:1)*m),h[o][a][c]+=n):(e=p[0]+u,r=x,n=f,d=p[1]-W,s[o][a][c]+=d,Math.abs(d)<m&&(d=(d<=0?-1:1)*m),h[o][a][c]+=d),i.setItemLayout(a,{x:e,y:r,width:n,height:d})}},!0)}},this)}var o=require("zrender/lib/core/util"),d=require("../util/number"),h=d.parsePercent,s="__ec_stack_";n.getLayoutOnAxis=e;var c=n;module.exports=c;
},{"../util/number":60,"zrender/lib/core/util":113}],257:[function(require,module,exports) {
var e=require("../../model/Series"),t=require("../helper/createListFromArray"),r=e.extend({type:"series.__base_bar__",getInitialData:function(e,r){return t(e.data,this,r)},getMarkerPosition:function(e){var t=this.coordinateSystem;if(t){var r=t.dataToPoint(e,!0),a=this.getData(),i=a.getLayout("offset"),n=a.getLayout("size");return r[t.getBaseAxis().isHorizontal()?0:1]+=i+n/2,r}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,itemStyle:{}}});module.exports=r;
},{"../../model/Series":202,"../helper/createListFromArray":119}],70:[function(require,module,exports) {
var e=require("./BaseBarSeries"),r=e.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect"});module.exports=r;
},{"./BaseBarSeries":257}],258:[function(require,module,exports) {
var r=require("../../model/mixin/makeStyleMapper"),e=r([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),o={getBarItemStyle:function(r){var o=e(this,r);if(this.getBorderLineDash){var t=this.getBorderLineDash();t&&(o.lineDash=t)}return o}};module.exports=o;
},{"../../model/mixin/makeStyleMapper":296}],259:[function(require,module,exports) {
function e(e,a,o,i,r,s,n){var u=o.getModel("label.normal"),b=o.getModel("label.emphasis");l.setLabelStyle(e,a,u,b,{labelFetcher:r,labelDataIndex:s,defaultText:r.getRawValue(s),isRectText:!0,autoColor:i}),t(e),t(a)}function t(e,t){"outside"===e.textPosition&&(e.textPosition=t)}var l=require("../../util/graphic");exports.setLabel=e;
},{"../../util/graphic":59}],71:[function(require,module,exports) {
function e(e,t,r){r.style.text=null,s.updateProps(r,{shape:{width:0}},t,e,function(){r.parent&&r.parent.remove(r)})}function t(e,t,r){r.style.text=null,s.updateProps(r,{shape:{r:r.shape.r0}},t,e,function(){r.parent&&r.parent.remove(r)})}function r(e,t,r,a,i,n,o,p){var u=t.getItemVisual(r,"color"),h=t.getItemVisual(r,"opacity"),c=a.getModel("itemStyle.normal"),g=a.getModel("itemStyle.emphasis").getBarItemStyle();p||e.setShape("r",c.get("barBorderRadius")||0),e.useStyle(l.defaults({fill:u,opacity:h},c.getBarItemStyle()));var m=a.getShallow("cursor");m&&e.attr("cursor",m);var y=o?i.height>0?"bottom":"top":i.width>0?"left":"right";p||d(e.style,g,a,u,n,r,y),s.setHoverStyle(e,g)}function a(e,t){var r=e.get(c)||0;return Math.min(r,Math.abs(t.width),Math.abs(t.height))}var i=require("../../config"),n=i.__DEV__,o=require("../../echarts"),l=require("zrender/lib/core/util"),s=require("../../util/graphic"),p=require("./helper"),d=p.setLabel,u=require("../../model/Model"),h=require("./barItemStyle"),c=["itemStyle","normal","barBorderWidth"];l.extend(u.prototype,h);var g=o.extendChartView({type:"bar",render:function(e,t,r){var a=e.get("coordinateSystem");return"cartesian2d"!==a&&"polar"!==a||this._render(e,t,r),this.group},dispose:l.noop,_render:function(a,i,n){var o,l=this.group,p=a.getData(),d=this._data,u=a.coordinateSystem,h=u.getBaseAxis();"cartesian2d"===u.type?o=h.isHorizontal():"polar"===u.type&&(o="angle"===h.dim);var c=a.isAnimationEnabled()?a:null;p.diff(d).add(function(e){if(p.hasValue(e)){var t=p.getItemModel(e),i=y[u.type](p,e,t),n=m[u.type](p,e,t,i,o,c);p.setItemGraphicEl(e,n),l.add(n),r(n,p,e,t,i,a,o,"polar"===u.type)}}).update(function(e,t){var i=d.getItemGraphicEl(t);if(p.hasValue(e)){var n=p.getItemModel(e),h=y[u.type](p,e,n);i?s.updateProps(i,{shape:h},c,e):i=m[u.type](p,e,n,h,o,c,!0),p.setItemGraphicEl(e,i),l.add(i),r(i,p,e,n,h,a,o,"polar"===u.type)}else l.remove(i)}).remove(function(r){var a=d.getItemGraphicEl(r);"cartesian2d"===u.type?a&&e(r,c,a):a&&t(r,c,a)}).execute(),this._data=p},remove:function(r,a){var i=this.group,n=this._data;r.get("animation")?n&&n.eachItemGraphicEl(function(a){"sector"===a.type?t(a.dataIndex,r,a):e(a.dataIndex,r,a)}):i.removeAll()}}),m={cartesian2d:function(e,t,r,a,i,n,o){var p=new s.Rect({shape:l.extend({},a)});if(n){var d=p.shape,u=i?"height":"width",h={};d[u]=0,h[u]=a[u],s[o?"updateProps":"initProps"](p,{shape:h},n,t)}return p},polar:function(e,t,r,a,i,n,o){var p=new s.Sector({shape:l.extend({},a)});if(n){var d=p.shape,u=i?"r":"endAngle",h={};d[u]=i?0:a.startAngle,h[u]=a[u],s[o?"updateProps":"initProps"](p,{shape:h},n,t)}return p}},y={cartesian2d:function(e,t,r){var i=e.getItemLayout(t),n=a(r,i),o=i.width>0?1:-1,l=i.height>0?1:-1;return{x:i.x+o*n/2,y:i.y+l*n/2,width:i.width-o*n,height:i.height-l*n}},polar:function(e,t,r){var a=e.getItemLayout(t);return{cx:a.cx,cy:a.cy,r0:a.r0,r:a.r,startAngle:a.startAngle,endAngle:a.endAngle}}};module.exports=g;
},{"../../config":116,"../../echarts":14,"../../util/graphic":59,"../../model/Model":64,"./barItemStyle":258,"./helper":259,"zrender/lib/core/util":113}],17:[function(require,module,exports) {
var r=require("../echarts"),e=require("zrender/lib/core/util"),i=require("../layout/barGrid");require("../coord/cartesian/Grid"),require("./bar/BarSeries"),require("./bar/BarView"),require("../component/gridSimple"),r.registerLayout(e.curry(i,"bar")),r.registerVisual(function(r){r.eachSeriesByType("bar",function(r){r.getData().setVisual("legendSymbol","roundRect")})});
},{"../echarts":14,"../layout/barGrid":67,"../component/gridSimple":68,"../coord/cartesian/Grid":69,"./bar/BarSeries":70,"./bar/BarView":71,"zrender/lib/core/util":113}],82:[function(require,module,exports) {
function e(e,a){n.each(a,function(n){n.update="updateView",t.registerAction(n,function(t,a){var r={};return a.eachComponent({mainType:"series",subType:e,query:t},function(e){e[n.method]&&e[n.method](t.name,t.dataIndex);var a=e.getData();a.each(function(t){var n=a.getName(t);r[n]=e.isSelected(n)||!1})}),{name:t.name,selected:r}})})}var t=require("../echarts"),n=require("zrender/lib/core/util");module.exports=e;
},{"../echarts":14,"zrender/lib/core/util":113}],105:[function(require,module,exports) {
function e(e,t){var n=t.findComponents({mainType:"legend"});n&&n.length&&t.eachSeriesByType(e,function(e){var t=e.getData();t.filterSelf(function(e){for(var i=t.getName(e),r=0;r<n.length;r++)if(!n[r].isSelected(i))return!1;return!0},this)},this)}module.exports=e;
},{}],208:[function(require,module,exports) {
function e(e,t){var a={};t.eachRawSeriesByType(e,function(e){var l=e.getRawData(),o={};if(!t.isSeriesFiltered(e)){var r=e.getData();r.each(function(e){var t=r.getRawIndex(e);o[t]=e}),l.each(function(t){var i=o[t],c=null!=i&&r.getItemVisual(i,"color",!0);if(c)l.setItemVisual(t,"color",c);else{var n=l.getItemModel(t).get("itemStyle.normal.color")||e.getColorFromPalette(l.getName(t),a);l.setItemVisual(t,"color",n),null!=i&&r.setItemVisual(i,"color",n)}})}})}module.exports=e;
},{}],297:[function(require,module,exports) {
var e=require("zrender/lib/core/util"),t={updateSelectedMap:function(t){this._targetList=t.slice(),this._selectTargetMap=e.reduce(t||[],function(e,t){return e.set(t.name,t),e},e.createHashMap())},select:function(e,t){var s=null!=t?this._targetList[t]:this._selectTargetMap.get(e);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(e){e.selected=!1}),s&&(s.selected=!0)},unSelect:function(e,t){var s=null!=t?this._targetList[t]:this._selectTargetMap.get(e);s&&(s.selected=!1)},toggleSelected:function(e,t){var s=null!=t?this._targetList[t]:this._selectTargetMap.get(e);if(null!=s)return this[s.selected?"unSelect":"select"](e,t),s.selected},isSelected:function(e,t){var s=null!=t?this._targetList[t]:this._selectTargetMap.get(e);return s&&s.selected}};module.exports=t;
},{"zrender/lib/core/util":113}],212:[function(require,module,exports) {
var e=require("../../echarts"),t=require("../../data/List"),i=require("zrender/lib/core/util"),a=require("../../util/model"),n=require("../../util/number"),r=n.getPercentWithPrecision,l=require("../../data/helper/completeDimensions"),s=require("../../component/helper/selectableMixin"),o=e.extendSeriesModel({type:"series.pie",init:function(e){o.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(e.data),this._defaultLabelLine(e)},mergeOption:function(e){o.superCall(this,"mergeOption",e),this.updateSelectedMap(this.option.data)},getInitialData:function(e,i){var a=l(["value"],e.data),n=new t(a,this);return n.initData(e.data),n},getDataParams:function(e){var t=this.getData(),i=o.superCall(this,"getDataParams",e),a=[];return t.each("value",function(e){a.push(e)}),i.percent=r(a,e,t.hostModel.get("percentPrecision")),i.$vars.push("percent"),i},_defaultLabelLine:function(e){a.defaultEmphasis(e.labelLine,["show"]);var t=e.labelLine.normal,i=e.labelLine.emphasis;t.show=t.show&&e.label.normal.show,i.show=i.show&&e.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderWidth:1},emphasis:{}},animationType:"expansion",animationEasing:"cubicOut",data:[]}});i.mixin(o,s);var h=o;module.exports=h;
},{"../../echarts":14,"../../data/List":63,"../../util/number":60,"../../util/model":125,"../../data/helper/completeDimensions":194,"../../component/helper/selectableMixin":297,"zrender/lib/core/util":113}],213:[function(require,module,exports) {
function e(e,o,a,i){var n=o.getData(),r=this.dataIndex,l=n.getName(r),s=o.get("selectedOffset");i.dispatchAction({type:"pieToggleSelect",from:e,name:l,seriesId:o.id}),n.each(function(e){t(n.getItemGraphicEl(e),n.getItemLayout(e),o.isSelected(n.getName(e)),s,a)})}function t(e,t,o,a,i){var n=(t.startAngle+t.endAngle)/2,r=Math.cos(n),l=Math.sin(n),s=o?a:0,g=[r*s,l*s];i?e.animate().when(200,{position:g}).start("bounceOut"):e.attr("position",g)}function o(e,t){function o(){r.ignore=r.hoverIgnore,l.ignore=l.hoverIgnore}function a(){r.ignore=r.normalIgnore,l.ignore=l.normalIgnore}i.Group.call(this);var n=new i.Sector({z2:2}),r=new i.Polyline,l=new i.Text;this.add(n),this.add(r),this.add(l),this.updateData(e,t,!0),this.on("emphasis",o).on("normal",a).on("mouseover",o).on("mouseout",a)}var a=require("zrender/lib/core/util"),i=require("../../util/graphic"),n=require("../../view/Chart"),r=o.prototype;r.updateData=function(e,o,n){function r(){s.stopAnimation(!0),s.animateTo({shape:{r:c.r+g.get("hoverOffset")}},300,"elasticOut")}function l(){s.stopAnimation(!0),s.animateTo({shape:{r:c.r}},300,"elasticOut")}var s=this.childAt(0),g=e.hostModel,h=e.getItemModel(o),c=e.getItemLayout(o),u=a.extend({},c);if(u.label=null,n){s.setShape(u);"scale"===g.getShallow("animationType")?(s.shape.r=c.r0,i.initProps(s,{shape:{r:c.r}},g,o)):(s.shape.endAngle=c.startAngle,i.updateProps(s,{shape:{endAngle:c.endAngle}},g,o))}else i.updateProps(s,{shape:u},g,o);var d=h.getModel("itemStyle"),p=e.getItemVisual(o,"color");s.useStyle(a.defaults({lineJoin:"bevel",fill:p},d.getModel("normal").getItemStyle())),s.hoverStyle=d.getModel("emphasis").getItemStyle();var m=h.getShallow("cursor");m&&s.attr("cursor",m),t(this,e.getItemLayout(o),h.get("selected"),g.get("selectedOffset"),g.get("animation")),s.off("mouseover").off("mouseout").off("emphasis").off("normal"),h.get("hoverAnimation")&&g.isAnimationEnabled()&&s.on("mouseover",r).on("mouseout",l).on("emphasis",r).on("normal",l),this._updateLabel(e,o),i.setHoverStyle(this)},r._updateLabel=function(e,t){var o=this.childAt(1),a=this.childAt(2),n=e.hostModel,r=e.getItemModel(t),l=e.getItemLayout(t).label,s=e.getItemVisual(t,"color");i.updateProps(o,{shape:{points:l.linePoints||[[l.x,l.y],[l.x,l.y],[l.x,l.y]]}},n,t),i.updateProps(a,{style:{x:l.x,y:l.y}},n,t),a.attr({rotation:l.rotation,origin:[l.x,l.y],z2:10});var g=r.getModel("label.normal"),h=r.getModel("label.emphasis"),c=r.getModel("labelLine.normal"),u=r.getModel("labelLine.emphasis");s=e.getItemVisual(t,"color");i.setLabelStyle(a.style,a.hoverStyle={},g,h,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:e.getName(t),autoColor:s,useInsideStyle:!!l.inside},{textAlign:l.textAlign,textVerticalAlign:l.verticalAlign,opacity:e.getItemVisual(t,"opacity")}),a.ignore=a.normalIgnore=!g.get("show"),a.hoverIgnore=!h.get("show"),o.ignore=o.normalIgnore=!c.get("show"),o.hoverIgnore=!u.get("show"),o.setStyle({stroke:s,opacity:e.getItemVisual(t,"opacity")}),o.setStyle(c.getModel("lineStyle").getLineStyle()),o.hoverStyle=u.getModel("lineStyle").getLineStyle();var d=c.get("smooth");d&&!0===d&&(d=.4),o.setShape({smooth:d})},a.inherits(o,i.Group);var l=n.extend({type:"pie",init:function(){var e=new i.Group;this._sectorGroup=e},render:function(t,i,n,r){if(!r||r.from!==this.uid){var l=t.getData(),s=this._data,g=this.group,h=i.get("animation"),c=!s,u=t.get("animationType"),d=a.curry(e,this.uid,t,h,n),p=t.get("selectedMode");if(l.diff(s).add(function(e){var t=new o(l,e);c&&"scale"!==u&&t.eachChild(function(e){e.stopAnimation(!0)}),p&&t.on("click",d),l.setItemGraphicEl(e,t),g.add(t)}).update(function(e,t){var o=s.getItemGraphicEl(t);o.updateData(l,e),o.off("click"),p&&o.on("click",d),g.add(o),l.setItemGraphicEl(e,o)}).remove(function(e){var t=s.getItemGraphicEl(e);g.remove(t)}).execute(),h&&c&&l.count()>0&&"scale"!==u){var m=l.getItemLayout(0),f=Math.max(n.getWidth(),n.getHeight())/2,y=a.bind(g.removeClipPath,g);g.setClipPath(this._createClipPath(m.cx,m.cy,f,m.startAngle,m.clockwise,y,t))}this._data=l}},dispose:function(){},_createClipPath:function(e,t,o,a,n,r,l){var s=new i.Sector({shape:{cx:e,cy:t,r0:0,r:o,startAngle:a,endAngle:a,clockwise:n}});return i.initProps(s,{shape:{endAngle:a+(n?1:-1)*Math.PI*2}},l,r),s},containPoint:function(e,t){var o=t.getData().getItemLayout(0);if(o){var a=e[0]-o.cx,i=e[1]-o.cy,n=Math.sqrt(a*a+i*i);return n<=o.r&&n>=o.r0}}}),s=l;module.exports=s;
},{"zrender/lib/core/util":113,"../../util/graphic":59,"../../view/Chart":204}],381:[function(require,module,exports) {
function e(e,t,n,r,i,a,o){function l(t,n,r,i){for(var a=t;a<n;a++)if(e[a].y+=r,a>t&&a+1<n&&e[a+1].y>e[a].y+e[a].height)return void g(a,r/2);g(n-1,r/2)}function g(t,n){for(var r=t;r>=0&&(e[r].y-=n,!(r>0&&e[r].y>e[r-1].y+e[r-1].height));r--);}function h(e,t,n,r,i,a){for(var o=t?Number.MAX_VALUE:0,l=0,g=e.length;l<g;l++)if("center"!==e[l].position){var h=Math.abs(e[l].y-r),s=e[l].len,c=e[l].len2,f=h<i+s?Math.sqrt((i+s+c)*(i+s+c)-h*h):Math.abs(e[l].x-n);t&&f>=o&&(f=o-10),!t&&f<=o&&(f=o+10),e[l].x=n+f*a,o=f}}e.sort(function(e,t){return e.y-t.y});for(var s,c=0,f=e.length,u=[],v=[],y=0;y<f;y++)(s=e[y].y-c)<0&&l(y,f,-s),c=e[y].y+e[y].height;o-c<0&&g(f-1,c-o);for(y=0;y<f;y++)e[y].y>=n?v.push(e[y]):u.push(e[y]);h(u,!1,t,n,r,i),h(v,!0,t,n,r,i)}function t(t,n,r,i,a,o){for(var l=[],g=[],h=0;h<t.length;h++)t[h].x<n?l.push(t[h]):g.push(t[h]);e(g,n,r,i,1,a,o),e(l,n,r,i,-1,a,o);for(h=0;h<t.length;h++){var s=t[h].linePoints;if(s){var c=s[1][0]-s[2][0];t[h].x<n?s[2][0]=t[h].x+3:s[2][0]=t[h].x-3,s[1][1]=s[2][1]=t[h].y,s[1][0]=s[2][0]+c}}}function n(e,n,i,a){var o,l,g=e.getData(),h=[],s=!1;g.each(function(t){var i,a,c,f,u=g.getItemLayout(t),v=g.getItemModel(t),y=v.getModel("label.normal"),d=y.get("position")||v.get("label.emphasis.position"),p=v.getModel("labelLine.normal"),x=p.get("length"),b=p.get("length2"),m=(u.startAngle+u.endAngle)/2,M=Math.cos(m),A=Math.sin(m);o=u.cx,l=u.cy;var L="inside"===d||"inner"===d;if("center"===d)i=u.cx,a=u.cy,f="center";else{var I=(L?(u.r+u.r0)/2*M:u.r*M)+o,P=(L?(u.r+u.r0)/2*A:u.r*A)+l;if(i=I+3*M,a=P+3*A,!L){var q=I+M*(x+n-u.r),F=P+A*(x+n-u.r),N=q+(M<0?-1:1)*b;i=N+(M<0?-5:5),a=F,c=[[I,P],[q,F],[N,F]]}f=L?"center":M>0?"left":"right"}var z=y.getFont(),B=y.get("rotate")?M<0?-m+Math.PI:-m:0,D=e.getFormattedLabel(t,"normal")||g.getName(t),E=r.getBoundingRect(D,z,f,"top");s=!!B,u.label={x:i,y:a,position:d,height:E.height,len:x,len2:b,linePoints:c,textAlign:f,verticalAlign:"middle",rotation:B,inside:L},L||h.push(u.label)}),!s&&e.get("avoidLabelOverlap")&&t(h,o,l,n,i,a)}var r=require("zrender/lib/contain/text");module.exports=n;
},{"zrender/lib/contain/text":287}],214:[function(require,module,exports) {
function e(e,a,u,c){a.eachSeriesByType(e,function(e){var a=e.get("center"),c=e.get("radius");i.isArray(c)||(c=[0,c]),i.isArray(a)||(a=[a,a]);var s=u.getWidth(),o=u.getHeight(),v=Math.min(s,o),N=t(a[0],s),h=t(a[1],o),y=t(c[0],v/2),A=t(c[1],v/2),f=e.getData(),m=-e.get("startAngle")*g,d=e.get("minAngle")*g,I=0;f.each("value",function(e){!isNaN(e)&&I++});var p=f.getSum("value"),L=Math.PI/(p||I)*2,M=e.get("clockwise"),w=e.get("roseType"),x=e.get("stillShowZeroSum"),P=f.getDataExtent("value");P[0]=0;var S=l,b=0,k=m,q=M?1:-1;if(f.each("value",function(e,a){var t;if(isNaN(e))f.setItemLayout(a,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:M,cx:N,cy:h,r0:y,r:w?NaN:A});else{(t="area"!==w?0===p&&x?L:e*L:l/I)<d?(t=d,S-=d):b+=e;var n=k+q*t;f.setItemLayout(a,{angle:t,startAngle:k,endAngle:n,clockwise:M,cx:N,cy:h,r0:y,r:w?r(e,P,[y,A]):A}),k=n}},!0),S<l&&I)if(S<=.001){var D=l/I;f.each("value",function(e,a){if(!isNaN(e)){var t=f.getItemLayout(a);t.angle=D,t.startAngle=m+q*a*D,t.endAngle=m+q*(a+1)*D}})}else L=S/b,k=m,f.each("value",function(e,a){if(!isNaN(e)){var t=f.getItemLayout(a),r=t.angle===d?d:e*L;t.startAngle=k,t.endAngle=k+q*r,k+=q*r}});n(e,A,s,o)})}var a=require("../../util/number"),t=a.parsePercent,r=a.linearMap,n=require("./labelLayout"),i=require("zrender/lib/core/util"),l=2*Math.PI,g=Math.PI/180;module.exports=e;
},{"../../util/number":60,"zrender/lib/core/util":113,"./labelLayout":381}],18:[function(require,module,exports) {
var e=require("../echarts"),r=require("zrender/lib/core/util");require("./pie/PieSeries"),require("./pie/PieView");var i=require("../action/createDataSelectAction"),t=require("../visual/dataColor"),c=require("./pie/pieLayout"),l=require("../processor/dataFilter");i("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),e.registerVisual(r.curry(t,"pie")),e.registerLayout(r.curry(c,"pie")),e.registerProcessor(r.curry(l,"pie"));
},{"../echarts":14,"zrender/lib/core/util":113,"../action/createDataSelectAction":82,"../processor/dataFilter":105,"../visual/dataColor":208,"./pie/PieSeries":212,"./pie/PieView":213,"./pie/pieLayout":214}],74:[function(require,module,exports) {
var e=require("../helper/createListFromArray"),r=require("../../model/Series"),t=r.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(r,t){return e(r.data,this,t)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{normal:{opacity:.8}}}});module.exports=t;
},{"../../model/Series":202,"../helper/createListFromArray":119}],261:[function(require,module,exports) {
function e(){this.group=new t.Group,this._symbolEl=new s({})}var t=require("../../util/graphic"),o=require("../../util/symbol"),r=o.createSymbol,s=t.extendShape({shape:{points:null,sizes:null},symbolProxy:null,buildPath:function(e,t){for(var o=t.points,r=t.sizes,s=this.symbolProxy,a=s.shape,i=0;i<o.length;i++){var l=o[i];if(!isNaN(l[0])&&!isNaN(l[1])){var n=r[i];n[0]<4?e.rect(l[0]-n[0]/2,l[1]-n[1]/2,n[0],n[1]):(a.x=l[0]-n[0]/2,a.y=l[1]-n[1]/2,a.width=n[0],a.height=n[1],s.buildPath(e,a,!0))}}},findDataIndex:function(e,t){for(var o=this.shape,r=o.points,s=o.sizes,a=r.length-1;a>=0;a--){var i=r[a],l=s[a],n=i[0]-l[0]/2,u=i[1]-l[1]/2;if(e>=n&&t>=u&&e<=n+l[0]&&t<=u+l[1])return a}return-1}}),a=e.prototype;a.updateData=function(e){this.group.removeAll();var t=this._symbolEl,o=e.hostModel;t.setShape({points:e.mapArray(e.getItemLayout),sizes:e.mapArray(function(t){var o=e.getItemVisual(t,"symbolSize");return o instanceof Array||(o=[o,o]),o})}),t.symbolProxy=r(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor,t.useStyle(o.getModel("itemStyle.normal").getItemStyle(["color"]));var s=e.getVisual("color");s&&t.setColor(s),t.seriesIndex=o.seriesIndex,t.on("mousemove",function(e){t.dataIndex=null;var o=t.findDataIndex(e.offsetX,e.offsetY);o>=0&&(t.dataIndex=o)}),this.group.add(t)},a.updateLayout=function(e){var t=e.getData();this._symbolEl.setShape({points:t.mapArray(t.getItemLayout)})},a.remove=function(){this.group.removeAll()};var i=e;module.exports=i;
},{"../../util/graphic":59,"../../util/symbol":193}],75:[function(require,module,exports) {
var r=require("../../echarts"),e=require("../helper/SymbolDraw"),a=require("../helper/LargeSymbolDraw");r.extendChartView({type:"scatter",init:function(){this._normalSymbolDraw=new e,this._largeSymbolDraw=new a},render:function(r,e,a){var t=r.getData(),o=this._largeSymbolDraw,i=this._normalSymbolDraw,l=this.group,n=r.get("large")&&t.count()>r.get("largeThreshold")?o:i;this._symbolDraw=n,n.updateData(t),l.add(n.group),l.remove(n===o?i.group:o.group)},updateLayout:function(r){this._symbolDraw.updateLayout(r)},remove:function(r,e){this._symbolDraw&&this._symbolDraw.remove(e,!0)},dispose:function(){}});
},{"../../echarts":14,"../helper/SymbolDraw":260,"../helper/LargeSymbolDraw":261}],19:[function(require,module,exports) {
var r=require("../echarts"),e=require("zrender/lib/core/util");require("./scatter/ScatterSeries"),require("./scatter/ScatterView");var t=require("../visual/symbol"),i=require("../layout/points");require("../component/gridSimple"),r.registerVisual(e.curry(t,"scatter","circle",null)),r.registerLayout(e.curry(i,"scatter"));
},{"../echarts":14,"../visual/symbol":72,"../layout/points":73,"../component/gridSimple":68,"./scatter/ScatterSeries":74,"./scatter/ScatterView":75,"zrender/lib/core/util":113}],450:[function(require,module,exports) {
function e(e,i,t){r.call(this,e,i,t),this.type="value",this.angle=0,this.name="",this.model}var i=require("zrender/lib/core/util"),r=require("../Axis");i.inherits(e,r);var t=e;module.exports=t;
},{"zrender/lib/core/util":113,"../Axis":65}],378:[function(require,module,exports) {
function t(t,n,a){this._model=t,this.dimensions=[],this._indicatorAxes=e.map(t.getIndicatorModels(),function(t,e){var n="indicator_"+e,a=new r(n,new i);return a.name=t.get("name"),a.model=t,t.axis=a,this.dimensions.push(n),a},this),this.resize(t,a),this.cx,this.cy,this.r,this.startAngle}var e=require("zrender/lib/core/util"),r=require("./IndicatorAxis"),i=require("../../scale/Interval"),n=require("../../util/number"),a=require("../axisHelper"),s=a.getScaleExtent,o=a.niceScaleExtent,c=require("../../CoordinateSystem");t.prototype.getIndicatorAxes=function(){return this._indicatorAxes},t.prototype.dataToPoint=function(t,e){var r=this._indicatorAxes[e];return this.coordToPoint(r.dataToCoord(t),e)},t.prototype.coordToPoint=function(t,e){var r=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(r),this.cy-t*Math.sin(r)]},t.prototype.pointToData=function(t){var e=t[0]-this.cx,r=t[1]-this.cy,i=Math.sqrt(e*e+r*r);e/=i,r/=i;for(var n,a=Math.atan2(-r,e),s=1/0,o=-1,c=0;c<this._indicatorAxes.length;c++){var h=this._indicatorAxes[c],d=Math.abs(a-h.angle);d<s&&(n=h,o=c,s=d)}return[o,+(n&&n.coodToData(i))]},t.prototype.resize=function(t,r){var i=t.get("center"),a=r.getWidth(),s=r.getHeight(),o=Math.min(a,s)/2;this.cx=n.parsePercent(i[0],a),this.cy=n.parsePercent(i[1],s),this.startAngle=t.get("startAngle")*Math.PI/180,this.r=n.parsePercent(t.get("radius"),o),e.each(this._indicatorAxes,function(t,e){t.setExtent(0,this.r);var r=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;r=Math.atan2(Math.sin(r),Math.cos(r)),t.angle=r},this)},t.prototype.update=function(t,r){function i(t){var e=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),r=t/e;return 2===r?r=5:r*=2,r*e}var a=this._indicatorAxes,c=this._model;e.each(a,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(r,i){if("radar"===r.get("coordinateSystem")&&t.getComponent("radar",r.get("radarIndex"))===c){var n=r.getData();e.each(a,function(t){t.scale.unionExtentFromData(n,t.dim)})}},this);var h=c.get("splitNumber");e.each(a,function(t,e){var r=s(t.scale,t.model);o(t.scale,t.model);var a=t.model,c=t.scale,d=a.getMin(),l=a.getMax(),u=c.getInterval();if(null!=d&&null!=l)c.setExtent(+d,+l),c.setInterval((l-d)/h);else if(null!=d){var g;do{g=d+u*h,c.setExtent(+d,g),c.setInterval(u),u=i(u)}while(g<r[1]&&isFinite(g)&&isFinite(r[1]))}else if(null!=l){var x;do{x=l-u*h,c.setExtent(x,+l),c.setInterval(u),u=i(u)}while(x>r[0]&&isFinite(x)&&isFinite(r[0]))}else{c.getTicks().length-1>h&&(u=i(u));var p=Math.round((r[0]+r[1])/2/u)*u,v=Math.round(h/2);c.setExtent(n.round(p-v*u),n.round(p+(h-v)*u)),c.setInterval(u)}})},t.dimensions=[],t.create=function(e,r){var i=[];return e.eachComponent("radar",function(n){var a=new t(n,e,r);i.push(a),n.coordinateSystem=a}),e.eachSeriesByType("radar",function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=i[t.get("radarIndex")||0])}),i},c.register("radar",t);var h=t;module.exports=h;
},{"../../CoordinateSystem":197,"../../scale/Interval":363,"../../util/number":60,"../axisHelper":191,"./IndicatorAxis":450,"zrender/lib/core/util":113}],379:[function(require,module,exports) {
function e(e,i){return t.defaults({show:i},e)}var i=require("../../echarts"),t=require("zrender/lib/core/util"),a=require("../axisDefault"),n=require("../../model/Model"),r=require("../axisModelCommonMixin"),s=a.valueAxis,l=i.extendComponentModel({type:"radar",optionUpdated:function(){var e=this.get("boundaryGap"),i=this.get("splitNumber"),a=this.get("scale"),s=this.get("axisLine"),l=this.get("axisTick"),o=this.get("axisLabel"),m=this.get("name"),u=this.get("name.show"),c=this.get("name.formatter"),p=this.get("nameGap"),d=this.get("triggerEvent"),x=t.map(this.get("indicator")||[],function(x){null!=x.max&&x.max>0&&!x.min?x.min=0:null!=x.min&&x.min<0&&!x.max&&(x.max=0);var g=m;if(null!=x.color&&(g=t.defaults({color:x.color},m)),x=t.merge(t.clone(x),{boundaryGap:e,splitNumber:i,scale:a,axisLine:s,axisTick:l,axisLabel:o,name:x.text,nameLocation:"end",nameGap:p,nameTextStyle:g,triggerEvent:d},!1),u||(x.name=""),"string"==typeof c){var h=x.name;x.name=c.replace("{value}",null!=h?h:"")}else"function"==typeof c&&(x.name=c(x.name,x));var b=t.extend(new n(x,null,this.ecModel),r);return b.mainType="radar",b.componentIndex=this.componentIndex,b},this);this.getIndicatorModels=function(){return x}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:t.merge({lineStyle:{color:"#bbb"}},s.axisLine),axisLabel:e(s.axisLabel,!1),axisTick:e(s.axisTick,!1),splitLine:e(s.splitLine,!0),splitArea:e(s.splitArea,!0),indicator:[]}}),o=l;module.exports=o;
},{"zrender/lib/core/util":113,"../../echarts":14,"../axisDefault":437,"../../model/Model":64,"../axisModelCommonMixin":192}],380:[function(require,module,exports) {
var e=require("../../config"),t=e.__DEV__,i=require("../../echarts"),r=require("zrender/lib/core/util"),n=require("../axis/AxisBuilder"),o=require("../../util/graphic"),l=["axisLine","axisTickLabel","axisName"],a=i.extendComponentView({type:"radar",render:function(e,t,i){this.group.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},_buildAxes:function(e){var t=e.coordinateSystem,i=t.getIndicatorAxes(),o=r.map(i,function(e){return new n(e.model,{position:[t.cx,t.cy],rotation:e.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})});r.each(o,function(e){r.each(l,e.add,e),this.group.add(e.getGroup())},this)},_buildSplitLineAndArea:function(e){function t(e,t,i){var r=i%t.length;return e[r]=e[r]||[],r}var i=e.coordinateSystem,n=i.getIndicatorAxes();if(n.length){var l=e.get("shape"),a=e.getModel("splitLine"),s=e.getModel("splitArea"),c=a.getModel("lineStyle"),u=s.getModel("areaStyle"),h=a.get("show"),g=s.get("show"),d=c.get("color"),p=u.get("color");d=r.isArray(d)?d:[d],p=r.isArray(p)?p:[p];var f=[],y=[];if("circle"===l)for(var x=n[0].getTicksCoords(),m=i.cx,A=i.cy,v=0;v<x.length;v++){if(h){f[t(f,d,v)].push(new o.Circle({shape:{cx:m,cy:A,r:x[v]}}))}if(g&&v<x.length-1){y[t(y,p,v)].push(new o.Ring({shape:{cx:m,cy:A,r0:x[v],r:x[v+1]}}))}}else{var w,S=r.map(n,function(e,t){var n=e.getTicksCoords();return w=null==w?n.length-1:Math.min(n.length-1,w),r.map(n,function(e){return i.coordToPoint(e,t)})}),_=[];for(v=0;v<=w;v++){for(var b=[],k=0;k<n.length;k++)b.push(S[k][v]);if(b[0]&&b.push(b[0].slice()),h){f[t(f,d,v)].push(new o.Polyline({shape:{points:b}}))}if(g&&_){y[t(y,p,v-1)].push(new o.Polygon({shape:{points:b.concat(_)}}))}_=b.slice().reverse()}}var L=c.getLineStyle(),q=u.getAreaStyle();r.each(y,function(e,t){this.group.add(o.mergePath(e,{style:r.defaults({stroke:"none",fill:p[t%p.length]},q),silent:!0}))},this),r.each(f,function(e,t){this.group.add(o.mergePath(e,{style:r.defaults({fill:"none",stroke:d[t%d.length]},L),silent:!0}))},this)}}});module.exports=a;
},{"../../config":116,"../../echarts":14,"../../util/graphic":59,"../axis/AxisBuilder":323,"zrender/lib/core/util":113}],209:[function(require,module,exports) {
require("../coord/radar/Radar"),require("../coord/radar/RadarModel"),require("./radar/RadarView");
},{"../coord/radar/Radar":378,"../coord/radar/RadarModel":379,"./radar/RadarView":380}],215:[function(require,module,exports) {
var e=require("../../model/Series"),t=require("../../data/List"),r=require("../../data/helper/completeDimensions"),i=require("zrender/lib/core/util"),a=require("../../util/format"),n=a.encodeHTML,o=e.extend({type:"series.radar",dependencies:["radar"],init:function(e){o.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(e,i){var a=e.data||[],n=r([],a,{extraPrefix:"indicator_",extraFromZero:!0}),o=new t(n,this);return o.initData(a),o},formatTooltip:function(e){var t=this.getRawValue(e),r=this.coordinateSystem.getIndicatorAxes(),a=this.getData().getName(e);return n(""===a?this.name:a)+"<br/>"+i.map(r,function(e,r){return n(e.name+" : "+t[r])}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{normal:{width:2,type:"solid"}},label:{normal:{position:"top"}},symbol:"emptyCircle",symbolSize:4}}),l=o;module.exports=l;
},{"../../model/Series":202,"../../data/List":63,"../../util/format":61,"../../data/helper/completeDimensions":194,"zrender/lib/core/util":113}],216:[function(require,module,exports) {
function e(e){return i.isArray(e)||(e=[+e,+e]),e}var t=require("../../echarts"),o=require("../../util/graphic"),i=require("zrender/lib/core/util"),l=require("../../util/symbol"),a=t.extendChartView({type:"radar",render:function(t,a,r){function n(t,o){var i=t.getItemVisual(o,"symbol")||"circle",a=t.getItemVisual(o,"color");if("none"!==i){var r=e(t.getItemVisual(o,"symbolSize")),n=l.createSymbol(i,-1,-1,2,2,a);return n.attr({style:{strokeNoScale:!0},z2:100,scale:[r[0]/2,r[1]/2]}),n}}function s(e,i,l,a,r,s){l.removeAll();for(var d=0;d<i.length-1;d++){var p=n(a,r);p&&(p.__dimIdx=d,e[d]?(p.attr("position",e[d]),o[s?"initProps":"updateProps"](p,{position:i[d]},t,r)):p.attr("position",i[d]),l.add(p))}}function d(e){return i.map(e,function(e){return[p.cx,p.cy]})}var p=t.coordinateSystem,u=this.group,m=t.getData(),c=this._data;m.diff(c).add(function(e){var i=m.getItemLayout(e);if(i){var l=new o.Polygon,a=new o.Polyline,r={shape:{points:i}};l.shape.points=d(i),a.shape.points=d(i),o.initProps(l,r,t,e),o.initProps(a,r,t,e);var n=new o.Group,p=new o.Group;n.add(a),n.add(l),n.add(p),s(a.shape.points,i,p,m,e,!0),m.setItemGraphicEl(e,n)}}).update(function(e,i){var l=c.getItemGraphicEl(i),a=l.childAt(0),r=l.childAt(1),n=l.childAt(2),d={shape:{points:m.getItemLayout(e)}};d.shape.points&&(s(a.shape.points,d.shape.points,n,m,e,!1),o.updateProps(a,d,t),o.updateProps(r,d,t),m.setItemGraphicEl(e,l))}).remove(function(e){u.remove(c.getItemGraphicEl(e))}).execute(),m.eachItemGraphicEl(function(e,t){function l(){s.attr("ignore",f)}function a(){s.attr("ignore",y)}var r=m.getItemModel(t),n=e.childAt(0),s=e.childAt(1),d=e.childAt(2),p=m.getItemVisual(t,"color");u.add(e),n.useStyle(i.defaults(r.getModel("lineStyle.normal").getLineStyle(),{fill:"none",stroke:p})),n.hoverStyle=r.getModel("lineStyle.emphasis").getLineStyle();var c=r.getModel("areaStyle.normal"),h=r.getModel("areaStyle.emphasis"),y=c.isEmpty()&&c.parentModel.isEmpty(),f=h.isEmpty()&&h.parentModel.isEmpty();f=f&&y,s.ignore=y,s.useStyle(i.defaults(c.getAreaStyle(),{fill:p,opacity:.7})),s.hoverStyle=h.getAreaStyle();var g=r.getModel("itemStyle.normal").getItemStyle(["color"]),v=r.getModel("itemStyle.emphasis").getItemStyle(),S=r.getModel("label.normal"),I=r.getModel("label.emphasis");d.eachChild(function(e){e.setStyle(g),e.hoverStyle=i.clone(v),o.setLabelStyle(e.style,e.hoverStyle,S,I,{labelFetcher:m.hostModel,labelDataIndex:t,labelDimIndex:e.__dimIdx,defaultText:m.get(m.dimensions[e.__dimIdx],t),autoColor:p,isRectText:!0})}),e.off("mouseover").off("mouseout").off("normal").off("emphasis"),e.on("emphasis",l).on("mouseover",l).on("normal",a).on("mouseout",a),o.setHoverStyle(e)}),this._data=m},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});module.exports=a;
},{"zrender/lib/core/util":113,"../../echarts":14,"../../util/graphic":59,"../../util/symbol":193}],217:[function(require,module,exports) {
function e(e){e.eachSeriesByType("radar",function(e){function t(e,t){n[t]=n[t]||[],n[t][i]=o.dataToPoint(e,i)}var a=e.getData(),n=[],o=e.coordinateSystem;if(o){for(var i=0;i<o.getIndicatorAxes().length;i++){var c=a.dimensions[i];a.each(c,t)}a.each(function(e){n[e][0]&&n[e].push(n[e][0].slice()),a.setItemLayout(e,n[e])})}})}module.exports=e;
},{}],218:[function(require,module,exports) {
function r(r){var e=r.polar;if(e){a.isArray(e)||(e=[e]);var d=[];a.each(e,function(e,i){e.indicator?(e.type&&!e.shape&&(e.shape=e.type),r.radar=r.radar||[],a.isArray(r.radar)||(r.radar=[r.radar]),r.radar.push(e)):d.push(e)}),r.polar=d}a.each(r.series,function(r){r&&"radar"===r.type&&r.polarIndex&&(r.radarIndex=r.polarIndex)})}var a=require("zrender/lib/core/util");module.exports=r;
},{"zrender/lib/core/util":113}],20:[function(require,module,exports) {
var r=require("../echarts"),e=require("zrender/lib/core/util");require("../component/radar"),require("./radar/RadarSeries"),require("./radar/RadarView");var a=require("../visual/dataColor"),i=require("../visual/symbol"),u=require("./radar/radarLayout"),s=require("../processor/dataFilter"),d=require("./radar/backwardCompat");r.registerVisual(e.curry(a,"radar")),r.registerVisual(e.curry(i,"radar","circle",null)),r.registerLayout(u),r.registerProcessor(e.curry(s,"radar")),r.registerPreprocessor(d);
},{"../echarts":14,"zrender/lib/core/util":113,"../visual/symbol":72,"../processor/dataFilter":105,"../component/radar":209,"../visual/dataColor":208,"./radar/RadarSeries":215,"./radar/RadarView":216,"./radar/radarLayout":217,"./radar/backwardCompat":218}],299:[function(require,module,exports) {
function t(t,e,o){var n=t.getZoom(),a=t.getCenter(),r=e.zoom,i=t.dataToPoint(a);if(null!=e.dx&&null!=e.dy){i[0]-=e.dx,i[1]-=e.dy;a=t.pointToData(i);t.setCenter(a)}if(null!=r){if(o){var m=o.min||0,d=o.max||1/0;r=Math.max(Math.min(n*r,d),m)/n}t.scale[0]*=r,t.scale[1]*=r;var l=t.position,s=(e.originX-l[0])*(r-1),u=(e.originY-l[1])*(r-1);l[0]-=s,l[1]-=u,t.updateTransform();a=t.pointToData(i);t.setCenter(a),t.setZoom(r*n)}return{center:t.getCenter(),zoom:t.getZoom()}}exports.updateCenterAndZoom=t;
},{}],81:[function(require,module,exports) {
var e=require("../echarts"),t=require("zrender/lib/core/util"),o=require("./roamHelper"),r=o.updateCenterAndZoom;e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateLayout"},function(e,o){var n=e.componentType||"series";o.eachComponent({mainType:n,query:e},function(o){var i=o.coordinateSystem;if("geo"===i.type){var a=r(i,e,o.get("scaleLimit"));o.setCenter&&o.setCenter(a.center),o.setZoom&&o.setZoom(a.zoom),"series"===n&&t.each(o.seriesGroup,function(e){e.setCenter(a.center),e.setZoom(a.zoom)})}})});
},{"../echarts":14,"zrender/lib/core/util":113,"./roamHelper":299}],390:[function(require,module,exports) {
function t(){a.call(this)}function r(r){this.name=r,this.zoomLimit,a.call(this),this._roamTransform=new t,this._viewTransform=new t,this._center,this._zoom}function n(t,r,n,e){var i=n.seriesModel,o=i?i.coordinateSystem:null;return o===this?o[t](e):null}var e=require("zrender/lib/core/util"),i=require("zrender/lib/core/vector"),o=require("zrender/lib/core/matrix"),s=require("zrender/lib/core/BoundingRect"),a=require("zrender/lib/mixin/Transformable"),m=i.applyTransform;e.mixin(t,a),r.prototype={constructor:r,type:"view",dimensions:["x","y"],setBoundingRect:function(t,r,n,e){return this._rect=new s(t,r,n,e),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(t,r,n,e){this.transformTo(t,r,n,e),this._viewRect=new s(t,r,n,e)},transformTo:function(t,r,n,e){var i=this.getBoundingRect(),o=this._viewTransform;o.transform=i.calculateTransform(new s(t,r,n,e)),o.decomposeTransform(),this._updateTransform()},setCenter:function(t){t&&(this._center=t,this._updateCenterAndZoom())},setZoom:function(t){t=t||1;var r=this.zoomLimit;r&&(null!=r.max&&(t=Math.min(r.max,t)),null!=r.min&&(t=Math.max(r.min,t))),this._zoom=t,this._updateCenterAndZoom()},getDefaultCenter:function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransform},_updateCenterAndZoom:function(){var t=this._viewTransform.getLocalTransform(),r=this._roamTransform,n=this.getDefaultCenter(),e=this.getCenter(),o=this.getZoom();e=i.applyTransform([],e,t),n=i.applyTransform([],n,t),r.origin=e,r.position=[n[0]-e[0],n[1]-e[1]],r.scale=[o,o],this._updateTransform()},_updateTransform:function(){var t=this._roamTransform,r=this._viewTransform;r.parent=t,t.updateTransform(),r.updateTransform(),r.transform&&o.copy(this.transform||(this.transform=[]),r.transform),this.transform?(this.invTransform=this.invTransform||[],o.invert(this.invTransform,this.transform)):this.invTransform=null,this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},dataToPoint:function(t){var r=this.transform;return r?m([],t,r):[t[0],t[1]]},pointToData:function(t){var r=this.invTransform;return r?m([],t,r):[t[0],t[1]]},convertToPixel:e.curry(n,"dataToPoint"),convertFromPixel:e.curry(n,"pointToData"),containPoint:function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])}},e.mixin(r,a);var u=r;module.exports=u;
},{"zrender/lib/core/util":113,"zrender/lib/core/vector":112,"zrender/lib/core/matrix":111,"zrender/lib/mixin/Transformable":265,"zrender/lib/core/BoundingRect":256}],418:[function(require,module,exports) {
function e(e){"china"===e.map&&e.regions.push(new n("",r.map(i,function(e){return{type:"polygon",exterior:e}}),o))}for(var r=require("zrender/lib/core/util"),n=require("../Region"),o=[126,25],i=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],t=0;t<i.length;t++)for(var u=0;u<i[t].length;u++)i[t][u][0]/=10.5,i[t][u][1]/=-14,i[t][u][0]+=o[0],i[t][u][1]+=o[1];module.exports=e;
},{"zrender/lib/core/util":113,"../Region":292}],419:[function(require,module,exports) {
function e(e){r.each(e.regions,function(e){var r=n[e.name];if(r){var i=e.center;i[0]+=r[0]/10.5,i[1]+=-r[1]/14}})}var r=require("zrender/lib/core/util"),n={"":[32,80],"":[0,-10],"":[10,5],"":[-10,10],"":[5,5]};module.exports=e;
},{"zrender/lib/core/util":113}],420:[function(require,module,exports) {
function e(e){r.each(e.regions,function(e){var r=i[e.name];if(r){var t=e.center;t[0]=r[0],t[1]=r[1]}})}var r=require("zrender/lib/core/util"),i={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};module.exports=e;
},{"zrender/lib/core/util":113}],421:[function(require,module,exports) {
function e(e){if("china"===e.map)for(var r=0,n=e.regions.length;r<n;++r)""===e.regions[r].name&&e.regions[r].geometries.push({type:"polygon",exterior:o[0]})}var o=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];module.exports=e;
},{}],302:[function(require,module,exports) {
function e(e,o,r,n,a){i.call(this,e),this.map=o,this._nameCoordMap=t.createHashMap(),this.loadGeoJson(r,n,a)}function o(e,o,t,r){var n=t.geoModel,i=t.seriesModel,a=n?n.coordinateSystem:i?i.coordinateSystem||(i.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return a===this?a[e](r):null}var t=require("zrender/lib/core/util"),r=require("zrender/lib/core/BoundingRect"),n=require("./parseGeoJson"),i=require("../View"),a=require("./fix/nanhai"),s=require("./fix/textCoord"),c=require("./fix/geoCoord"),u=require("./fix/diaoyuIsland"),h=[a,s,c,u];e.prototype={constructor:e,type:"geo",dimensions:["lng","lat"],containCoord:function(e){for(var o=this.regions,t=0;t<o.length;t++)if(o[t].contain(e))return!0;return!1},loadGeoJson:function(e,o,r){try{this.regions=e?n(e):[]}catch(e){throw"Invalid geoJson format\n"+e.message}o=o||{},r=r||{};for(var i=this.regions,a=t.createHashMap(),s=0;s<i.length;s++){var c=i[s].name;c=r.hasOwnProperty(c)?r[c]:c,i[s].name=c,a.set(c,i[s]),this.addGeoCoord(c,i[s].center);var u=o[c];u&&i[s].transformTo(u.left,u.top,u.width,u.height)}this._regionsMap=a,this._rect=null,t.each(h,function(e){e(this)},this)},transformTo:function(e,o,t,n){var i=this.getBoundingRect();(i=i.clone()).y=-i.y-i.height;var a=this._viewTransform;a.transform=i.calculateTransform(new r(e,o,t,n)),a.decomposeTransform();var s=a.scale;s[1]=-s[1],a.updateTransform(),this._updateTransform()},getRegion:function(e){return this._regionsMap.get(e)},getRegionByCoord:function(e){for(var o=this.regions,t=0;t<o.length;t++)if(o[t].contain(e))return o[t]},addGeoCoord:function(e,o){this._nameCoordMap.set(e,o)},getGeoCoord:function(e){return this._nameCoordMap.get(e)},getBoundingRect:function(){if(this._rect)return this._rect;for(var e,o=this.regions,t=0;t<o.length;t++){var n=o[t].getBoundingRect();(e=e||n.clone()).union(n)}return this._rect=e||new r(0,0,0,0)},dataToPoint:function(e){if("string"==typeof e&&(e=this.getGeoCoord(e)),e)return i.prototype.dataToPoint.call(this,e)},convertToPixel:t.curry(o,"dataToPoint"),convertFromPixel:t.curry(o,"pointToData")},t.mixin(e,i);var d=e;module.exports=d;
},{"zrender/lib/core/util":113,"../View":390,"./parseGeoJson":66,"./fix/nanhai":418,"./fix/textCoord":419,"./fix/geoCoord":420,"./fix/diaoyuIsland":421,"zrender/lib/core/BoundingRect":256}],85:[function(require,module,exports) {
function e(e,t){var i=e.get("boundingCoords");if(null!=i){var r=i[0],a=i[1];isNaN(r[0])||isNaN(r[1])||isNaN(a[0])||isNaN(a[1])||this.setBoundingRect(r[0],r[1],a[0]-r[0],a[1]-r[1])}var o,n=this.getBoundingRect(),c=e.get("layoutCenter"),u=e.get("layoutSize"),h=t.getWidth(),p=t.getHeight(),m=e.get("aspectScale")||.75,d=n.width/n.height*m,l=!1;c&&u&&(c=[g.parsePercent(c[0],h),g.parsePercent(c[1],p)],u=g.parsePercent(u,Math.min(h,p)),isNaN(c[0])||isNaN(c[1])||isNaN(u)||(l=!0));if(l){var f={};d>1?(f.width=u,f.height=u/d):(f.height=u,f.width=u*d),f.y=c[1]-f.height/2,f.x=c[0]-f.width/2}else(o=e.getBoxLayoutParams()).aspect=d,f=s.getLayoutRect(o,{width:h,height:p});this.setViewRect(f.x,f.y,f.width,f.height),this.setCenter(e.get("center")),this.setZoom(e.get("zoom"))}function t(e,t){o.each(t.get("geoCoord"),function(t,i){e.addGeoCoord(i,t)})}var i=require("../../config"),r=i.__DEV__,a=require("../../echarts"),o=require("zrender/lib/core/util"),n=require("./Geo"),s=require("../../util/layout"),g=require("../../util/number"),c={dimensions:n.prototype.dimensions,create:function(i,r){var s=[];i.eachComponent("geo",function(i,o){var g=i.get("map"),c=a.getMap(g),u=new n(g+o,g,c&&c.geoJson,c&&c.specialAreas,i.get("nameMap"));u.zoomLimit=i.get("scaleLimit"),s.push(u),t(u,i),i.coordinateSystem=u,u.model=i,u.resize=e,u.resize(i,r)}),i.eachSeries(function(e){if("geo"===e.get("coordinateSystem")){var t=e.get("geoIndex")||0;e.coordinateSystem=s[t]}});var g={};return i.eachSeriesByType("map",function(e){if(!e.getHostGeoModel()){var t=e.getMapType();g[t]=g[t]||[],g[t].push(e)}}),o.each(g,function(i,g){var c=a.getMap(g),u=o.map(i,function(e){return e.get("nameMap")}),h=new n(g,g,c&&c.geoJson,c&&c.specialAreas,o.mergeAll(u));h.zoomLimit=o.retrieve.apply(null,o.map(i,function(e){return e.get("scaleLimit")})),s.push(h),h.resize=e,h.resize(i[0],r),o.each(i,function(e){e.coordinateSystem=h,t(h,e)})}),s},getFilledRegions:function(e,t,i){var r=(e||[]).slice();i=i||{};var n=a.getMap(t),s=n&&n.geoJson;if(!s)return e;for(var g=o.createHashMap(),c=s.features,u=0;u<r.length;u++)g.set(r[u].name,r[u]);for(u=0;u<c.length;u++){var h=c[u].properties.name;g.get(h)||(i.hasOwnProperty(h)&&(h=i[h]),r.push({name:h}))}return r}};a.registerCoordinateSystem("geo",c);var u=c;module.exports=u;
},{"zrender/lib/core/util":113,"../../config":116,"../../echarts":14,"../../util/layout":126,"../../util/number":60,"./Geo":302}],83:[function(require,module,exports) {
var e=require("zrender/lib/core/util"),t=require("../../data/List"),o=require("../../model/Series"),i=require("../../data/helper/completeDimensions"),a=require("../../util/format"),n=a.encodeHTML,r=a.addCommas,l=require("../../component/helper/selectableMixin"),s=require("../../coord/geo/geoCreator"),u=o.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],init:function(e){this._fillOption(e,this.getMapType()),u.superApply(this,"init",arguments),this.updateSelectedMap(e.data)},getInitialData:function(e){var o=i(["value"],e.data||[]),a=new t(o,this);return a.initData(e.data),a},mergeOption:function(e){this._fillOption(e,this.getMapType()),u.superApply(this,"mergeOption",arguments),this.updateSelectedMap(this.option.data)},getHostGeoModel:function(){var e=this.option.geoIndex;return null!=e?this.dependentModels.geo[e]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(e,t){e.data=s.getFilledRegions(e.data,t,e.nameMap)},getRawValue:function(e){return this.getData().get("value",e)},getRegionModel:function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},formatTooltip:function(e){for(var t=this.getData(),o=r(this.getRawValue(e)),i=t.getName(e),a=this.seriesGroup,l=[],s=0;s<a.length;s++){var u=a[s].originalData.indexOfName(i);isNaN(a[s].originalData.get("value",u))||l.push(n(a[s].name))}return l.join(", ")+"<br />"+n(i+" : "+o)},getTooltipPosition:function(e){if(null!=e){var t=this.getData().getName(e),o=this.coordinateSystem,i=o.getRegion(t);return i&&o.dataToPoint(i.center)}},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,color:"#000"},emphasis:{show:!0,color:"rgb(100,0,0)"}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{areaColor:"rgba(255,215,0,0.8)"}}}});e.mixin(u,l);var p=u;module.exports=p;
},{"../../data/List":63,"../../model/Series":202,"../../util/format":61,"../../data/helper/completeDimensions":194,"../../component/helper/selectableMixin":297,"../../coord/geo/geoCreator":85,"zrender/lib/core/util":113}],433:[function(require,module,exports) {
function e(e,t,r){n(e)[t]=r}function t(e,t,r){var o=n(e);o[t]===r&&(o[t]=null)}function r(e,t){return!!n(e)[t]}function n(e){return e[u]||(e[u]={})}var o=require("../../echarts"),u="\0_ec_interaction_mutex";o.registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),exports.take=e,exports.release=t,exports.isTaken=r;
},{"../../echarts":14}],295:[function(require,module,exports) {
function e(e){this.pointerChecker,this._zr=e,this._opt={};var r=u.bind,h=r(t,this),a=r(i,this),c=r(n,this),l=r(o,this),g=r(s,this);f.call(this),this.setPointerChecker=function(e){this.pointerChecker=e},this.enable=function(t,i){this.disable(),this._opt=u.defaults(u.clone(i)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&"move"!==t&&"pan"!==t||(e.on("mousedown",h),e.on("mousemove",a),e.on("mouseup",c)),!0!==t&&"scale"!==t&&"zoom"!==t||(e.on("mousewheel",l),e.on("pinch",g))},this.disable=function(){e.off("mousedown",h),e.off("mousemove",a),e.off("mouseup",c),e.off("mousewheel",l),e.off("pinch",g)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function t(e){if(!(a.notLeftMouse(e)||e.target&&e.target.draggable)){var t=e.offsetX,i=e.offsetY;this.pointerChecker&&this.pointerChecker(e,t,i)&&(this._x=t,this._y=i,this._dragging=!0)}}function i(e){if(!a.notLeftMouse(e)&&h(this,"moveOnMouseMove",e)&&this._dragging&&"pinch"!==e.gestureEvent&&!c.isTaken(this._zr,"globalPan")){var t=e.offsetX,i=e.offsetY,n=this._x,o=this._y,s=t-n,r=i-o;this._x=t,this._y=i,this._opt.preventDefaultMouseMove&&a.stop(e.event),this.trigger("pan",s,r,n,o,t,i)}}function n(e){a.notLeftMouse(e)||(this._dragging=!1)}function o(e){if(h(this,"zoomOnMouseWheel",e)&&0!==e.wheelDelta){var t=e.wheelDelta>0?1.1:1/1.1;r.call(this,e,t,e.offsetX,e.offsetY)}}function s(e){if(!c.isTaken(this._zr,"globalPan")){var t=e.pinchScale>1?1.1:1/1.1;r.call(this,e,t,e.pinchX,e.pinchY)}}function r(e,t,i,n){this.pointerChecker&&this.pointerChecker(e,i,n)&&(a.stop(e.event),this.trigger("zoom",t,i,n))}function h(e,t,i){var n=e._opt[t];return n&&(!u.isString(n)||i.event[n+"Key"])}var u=require("zrender/lib/core/util"),f=require("zrender/lib/mixin/Eventful"),a=require("zrender/lib/core/event"),c=require("./interactionMutex");u.mixin(e,f);var l=e;module.exports=l;
},{"zrender/lib/core/util":113,"./interactionMutex":433,"zrender/lib/mixin/Eventful":250,"zrender/lib/core/event":344}],385:[function(require,module,exports) {
function o(o,t,i){var a=o.target,m=a.position;m[0]+=t,m[1]+=i,a.dirty()}function t(o,t,i,a){var m=o.target,n=o.zoomLimit,r=m.position,e=m.scale,p=o.zoom=o.zoom||1;if(p*=t,n){var s=n.min||0,z=n.max||1/0;p=Math.max(Math.min(z,p),s)}var d=p/o.zoom;o.zoom=p,r[0]-=(i-r[0])*(d-1),r[1]-=(a-r[1])*(d-1),e[0]*=d,e[1]*=d,m.dirty()}exports.updateViewOnPan=o,exports.updateViewOnZoom=t;
},{}],386:[function(require,module,exports) {
function e(e,n,o){var r=n.getComponentByElement(e.topTarget),a=r&&r.coordinateSystem;return r&&r!==o&&!t[r.mainType]&&a&&a.model!==o}var t={axisPointer:1,tooltip:1,brush:1};exports.onIrrelevantElement=e;
},{}],301:[function(require,module,exports) {
function e(e,t){var o=e.getItemStyle(),n=e.get("areaColor");return null!=n&&(o.fill=n),o}function t(e,t,n,a,i){n.off("click"),n.off("mousedown"),t.get("selectedMode")&&(n.on("mousedown",function(){e._mouseDownFlag=!0}),n.on("click",function(l){if(e._mouseDownFlag){e._mouseDownFlag=!1;for(var s=l.target;!s.__regions;)s=s.parent;if(s){var c={type:("geo"===t.mainType?"geo":"map")+"ToggleSelect",batch:r.map(s.__regions,function(e){return{name:e.name,from:i.uid}})};c[t.mainType+"Id"]=t.id,a.dispatchAction(c),o(t,n)}}}))}function o(e,t){t.eachChild(function(t){r.each(t.__regions,function(o){t.trigger(e.isSelected(o.name)?"emphasis":"normal")})})}function n(e,t){var o=new c.Group;this._controller=new a(e.getZr()),this._controllerHost={target:t?o:null},this.group=o,this._updateGroup=t,this._mouseDownFlag}var r=require("zrender/lib/core/util"),a=require("./RoamController"),i=require("../../component/helper/roamHelper"),l=require("../../component/helper/cursorHelper"),s=l.onIrrelevantElement,c=require("../../util/graphic");n.prototype={constructor:n,draw:function(n,a,i,l,s){var p="geo"===n.mainType,m=n.getData&&n.getData();p&&a.eachComponent({mainType:"series",subType:"map"},function(e){m||e.getHostGeoModel()!==n||(m=e.getData())});var u=n.coordinateSystem,g=this.group,h=u.scale,d={position:u.position,scale:h};!g.childAt(0)||s?g.attr(d):c.updateProps(g,d,n),g.removeAll();var f=["itemStyle","normal"],v=["itemStyle","emphasis"],y=["label","normal"],_=["label","emphasis"],w=r.createHashMap();r.each(u.regions,function(t){var o=w.get(t.name)||w.set(t.name,new c.Group),a=new c.CompoundPath({shape:{paths:[]}});o.add(a);var i,l=(z=n.getRegionModel(t.name)||n).getModel(f),s=z.getModel(v),u=e(l,h),d=e(s,h),x=z.getModel(y),S=z.getModel(_);if(m){i=m.indexOfName(t.name);var T=m.getItemVisual(i,"color",!0);T&&(u.fill=T)}r.each(t.geometries,function(e){if("polygon"===e.type){a.shape.paths.push(new c.Polygon({shape:{points:e.exterior}}));for(var t=0;t<(e.interiors?e.interiors.length:0);t++)a.shape.paths.push(new c.Polygon({shape:{points:e.interiors[t]}}))}}),a.setStyle(u),a.style.strokeNoScale=!0,a.culling=!0;var D=x.get("show"),I=S.get("show"),b=m&&isNaN(m.get("value",i)),M=m&&m.getItemLayout(i);if(p||b&&(D||I)||M&&M.showLabel){var A,C=p?t.name:i;(!m||i>=0)&&(A=n);var H=new c.Text({position:t.center.slice(),scale:[1/h[0],1/h[1]],z2:10,silent:!0});c.setLabelStyle(H.style,H.hoverStyle={},x,S,{labelFetcher:A,labelDataIndex:C,defaultText:t.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),o.add(H)}if(m)m.setItemGraphicEl(i,o);else{var z=n.getRegionModel(t.name);a.eventData={componentType:"geo",geoIndex:n.componentIndex,name:t.name,region:z&&z.option||{}}}(o.__regions||(o.__regions=[])).push(t),c.setHoverStyle(o,d,{hoverSilentOnTouch:!!n.get("selectedMode")}),g.add(o)}),this._updateController(n,a,i),t(this,n,g,i,l),o(n,g)},remove:function(){this.group.removeAll(),this._controller.dispose(),this._controllerHost={}},_updateController:function(e,t,o){function n(){var t={type:"geoRoam",componentType:p};return t[p+"Id"]=e.id,t}var a=e.coordinateSystem,l=this._controller,c=this._controllerHost;c.zoomLimit=e.get("scaleLimit"),c.zoom=a.getZoom(),l.enable(e.get("roam")||!1);var p=e.mainType;l.off("pan").on("pan",function(e,t){this._mouseDownFlag=!1,i.updateViewOnPan(c,e,t),o.dispatchAction(r.extend(n(),{dx:e,dy:t}))},this),l.off("zoom").on("zoom",function(e,t,a){if(this._mouseDownFlag=!1,i.updateViewOnZoom(c,e,t,a),o.dispatchAction(r.extend(n(),{zoom:e,originX:t,originY:a})),this._updateGroup){var l=this.group,s=l.scale;l.traverse(function(e){"text"===e.type&&e.attr("scale",[1/s[0],1/s[1]])})}},this),l.setPointerChecker(function(t,n,r){return a.getViewRectAfterRoam().contain(n,r)&&!s(t,o,e)})}};var p=n;module.exports=p;
},{"../../util/graphic":59,"./RoamController":295,"../../component/helper/roamHelper":385,"../../component/helper/cursorHelper":386,"zrender/lib/core/util":113}],84:[function(require,module,exports) {
var e=require("../../echarts"),t=require("zrender/lib/core/util"),a=require("../../util/graphic"),i=require("../../component/helper/MapDraw"),r=e.extendChartView({type:"map",render:function(e,t,a,r){if(!r||"mapToggleSelect"!==r.type||r.from!==this.uid){var o=this.group;if(o.removeAll(),!e.getHostGeoModel()){if(r&&"geoRoam"===r.type&&"series"===r.componentType&&r.seriesId===e.id){(l=this._mapDraw)&&o.add(l.group)}else if(e.needsDrawMap){var l=this._mapDraw||new i(a,!0);o.add(l.group),l.draw(e,t,a,this,r),this._mapDraw=l}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,a)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(e,i,r){var o=e.originalData,l=this.group;o.each("value",function(i,r){if(!isNaN(i)){var s=o.getItemLayout(r);if(s&&s.point){var n=s.point,m=s.offset,p=new a.Circle({style:{fill:e.getData().getVisual("color")},shape:{cx:n[0]+9*m,cy:n[1],r:3},silent:!0,z2:m?8:10});if(!m){var u=e.mainSeries.getData(),g=o.getName(r),h=u.indexOfName(g),d=o.getItemModel(r),w=d.getModel("label.normal"),_=d.getModel("label.emphasis"),c=u.getItemGraphicEl(h),f=t.retrieve2(e.getFormattedLabel(r,"normal"),g),v=t.retrieve2(e.getFormattedLabel(r,"emphasis"),f),D=function(){var e=a.setTextStyle({},_,{text:_.get("show")?v:null},{isRectText:!0,useInsideStyle:!1},!0);p.style.extendFrom(e),p.__mapOriginalZ2=p.z2,p.z2+=1},y=function(){a.setTextStyle(p.style,w,{text:w.get("show")?f:null,textPosition:w.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),null!=p.__mapOriginalZ2&&(p.z2=p.__mapOriginalZ2,p.__mapOriginalZ2=null)};c.on("mouseover",D).on("mouseout",y).on("emphasis",D).on("normal",y),y()}l.add(p)}}})}});module.exports=r;
},{"zrender/lib/core/util":113,"../../echarts":14,"../../util/graphic":59,"../../component/helper/MapDraw":301}],86:[function(require,module,exports) {
function e(e){var a={};e.eachSeriesByType("map",function(o){var n=o.getMapType();if(!o.getHostGeoModel()&&!a[n]){var r={};t.each(o.seriesGroup,function(t){var a=t.coordinateSystem,o=t.originalData;t.get("showLegendSymbol")&&e.getComponent("legend")&&o.each("value",function(e,t){var n=o.getName(t),i=a.getRegion(n);if(i&&!isNaN(e)){var g=r[n]||0,u=a.dataToPoint(i.center);r[n]=g+1,o.setItemLayout(t,{point:u,offset:g})}})});var i=o.getData();i.each(function(e){var t=i.getName(e),a=i.getItemLayout(e)||{};a.showLabel=!r[t],i.setItemLayout(e,a)}),a[n]=!0}})}var t=require("zrender/lib/core/util");module.exports=e;
},{"zrender/lib/core/util":113}],87:[function(require,module,exports) {
function e(e){e.eachSeriesByType("map",function(e){var o=e.get("color"),t=e.getModel("itemStyle.normal"),r=t.get("areaColor"),a=t.get("color")||o[e.seriesIndex%o.length];e.getData().setVisual({areaColor:r,color:a})})}module.exports=e;
},{}],88:[function(require,module,exports) {
function e(e){var p=[];a.each(e.series,function(e){e&&"map"===e.type&&(p.push(e),e.map=e.map||e.mapType,a.defaults(e,e.mapLocation))})}var a=require("zrender/lib/core/util");module.exports=e;
},{"zrender/lib/core/util":113}],89:[function(require,module,exports) {
function e(e,a){var n={},r=["value"];return t.each(e,function(e){e.each(r,function(a,t){var r="ec-"+e.getName(t);n[r]=n[r]||[],isNaN(a)||n[r].push(a)})}),e[0].map(r,function(t,r){for(var o="ec-"+e[0].getName(r),i=0,u=1/0,c=-1/0,l=n[o].length,g=0;g<l;g++)u=Math.min(u,n[o][g]),c=Math.max(c,n[o][g]),i+=n[o][g];var h;return h="min"===a?u:"max"===a?c:"average"===a?i/l:i,0===l?NaN:h})}function a(a){var n={};a.eachSeriesByType("map",function(e){var a=e.getHostGeoModel(),t=a?"o"+a.id:"i"+e.getMapType();(n[t]=n[t]||[]).push(e)}),t.each(n,function(a,n){for(var r=e(t.map(a,function(e){return e.getData()}),a[0].get("mapValueCalculation")),o=0;o<a.length;o++)a[o].originalData=a[o].getData();for(o=0;o<a.length;o++)a[o].seriesGroup=a,a[o].needsDrawMap=0===o&&!a[o].getHostGeoModel(),a[o].setData(r.cloneShallow()),a[o].mainSeries=a[0]})}var t=require("zrender/lib/core/util");module.exports=a;
},{"zrender/lib/core/util":113}],21:[function(require,module,exports) {
var e=require("../echarts");require("./map/MapSeries"),require("./map/MapView"),require("../action/geoRoam"),require("../coord/geo/geoCreator");var r=require("./map/mapSymbolLayout"),a=require("./map/mapVisual"),t=require("./map/mapDataStatistic"),i=require("./map/backwardCompat"),o=require("../action/createDataSelectAction");e.registerLayout(r),e.registerVisual(a),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,t),e.registerPreprocessor(i),o("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]);
},{"../echarts":14,"../action/geoRoam":81,"../action/createDataSelectAction":82,"./map/MapSeries":83,"./map/MapView":84,"../coord/geo/geoCreator":85,"./map/mapSymbolLayout":86,"./map/mapVisual":87,"./map/backwardCompat":88,"./map/mapDataStatistic":89}],412:[function(require,module,exports) {
function t(t){var u=t.mainData,i=t.datas;i||(i={main:u},t.datasAttr={main:"data"}),t.datas=t.mainData=null,e(u,i,t),s(i,function(a){s(u.TRANSFERABLE_METHODS,function(r){a.wrapMethod(r,o.curry(n,t))})}),u.wrapMethod("cloneShallow",o.curry(r,t)),s(u.CHANGABLE_METHODS,function(n){u.wrapMethod(n,o.curry(a,t))}),o.assert(i[u.dataType]===u)}function n(t,n){if(i(this)){var a=o.extend({},this[d]);a[this.dataType]=n,e(n,a,t)}else c(n,this.dataType,this[l],t);return n}function a(t,n){return t.struct&&t.struct.update(this),n}function r(t,n){return s(n[d],function(a,r){a!==n&&c(a.cloneShallow(),r,n,t)}),n}function u(t){var n=this[l];return null==t||null==n?n:n[d][t]}function i(t){return t[l]===t}function e(t,n,a){t[d]={},s(n,function(n,r){c(n,r,t,a)})}function c(t,n,a,r){a[d][n]=t,t[l]=a,t.dataType=n,r.struct&&(t[r.structAttr]=r.struct,r.struct[r.datasAttr[n]]=t),t.getLinkedData=u}var o=require("zrender/lib/core/util"),s=o.each,d="\0__link_datas",l="\0__link_mainData",f=t;module.exports=f;
},{"zrender/lib/core/util":113}],271:[function(require,module,exports) {
function e(e,t,i){this.root,this.data,this._nodes=[],this.hostModel=e,this.levelModels=n.map(t||[],function(t){return new r(t,e,e.ecModel)}),this.leavesModel=new r(i||{},e,e.ecModel)}function t(e,t){var n=t.children;e.parentNode!==t&&(n.push(e),e.parentNode=t)}var n=require("zrender/lib/core/util"),r=require("../model/Model"),i=require("./List"),a=require("./helper/linkList"),o=require("./helper/completeDimensions"),h=function(e,t){this.name=e||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=t};h.prototype={constructor:h,isRemoved:function(){return this.dataIndex<0},eachNode:function(e,t,r){"function"==typeof e&&(r=t,t=e,e=null),e=e||{},n.isString(e)&&(e={order:e});var i,a=e.order||"preorder",o=this[e.attr||"children"];"preorder"===a&&(i=t.call(r,this));for(var h=0;!i&&h<o.length;h++)o[h].eachNode(e,t,r);"postorder"===a&&t.call(r,this)},updateDepthAndHeight:function(e){var t=0;this.depth=e;for(var n=0;n<this.children.length;n++){var r=this.children[n];r.updateDepthAndHeight(e+1),r.height>t&&(t=r.height)}this.height=t+1},getNodeById:function(e){if(this.getId()===e)return this;for(var t=0,n=this.children,r=n.length;t<r;t++){var i=n[t].getNodeById(e);if(i)return i}},contains:function(e){if(e===this)return!0;for(var t=0,n=this.children,r=n.length;t<r;t++){var i=n[t].contains(e);if(i)return i}},getAncestors:function(e){for(var t=[],n=e?this:this.parentNode;n;)t.push(n),n=n.parentNode;return t.reverse(),t},getValue:function(e){var t=this.hostTree.data;return t.get(t.getDimension(e||"value"),this.dataIndex)},setLayout:function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(e){if(!(this.dataIndex<0)){var t,n=this.hostTree,r=n.data.getItemModel(this.dataIndex),i=this.getLevelModel();return i||0!==this.children.length&&(0===this.children.length||!1!==this.isExpand)||(t=this.getLeavesModel()),r.getModel(e,(i||t||n.hostModel).getModel(e))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},getVisual:function(e,t){return this.hostTree.data.getItemVisual(this.dataIndex,e,t)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)}},e.prototype={constructor:e,type:"tree",eachNode:function(e,t,n){this.root.eachNode(e,t,n)},getNodeByDataIndex:function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},getNodeByName:function(e){return this.root.getNodeByName(e)},update:function(){for(var e=this.data,t=this._nodes,n=0,r=t.length;n<r;n++)t[n].dataIndex=-1;for(n=0,r=e.count();n<r;n++)t[e.getRawIndex(n)].dataIndex=n},clearLayouts:function(){this.data.clearItemLayouts()}},e.createTree=function(r,s,d){function u(e,r){var i=e.value;g=Math.max(g,n.isArray(i)?i.length:1),c.push(e);var a=new h(e.name,l);r?t(a,r):l.root=a,l._nodes.push(a);var o=e.children;if(o)for(var s=0;s<o.length;s++)u(o[s],a)}var l=new e(s,d.levels,d.leaves),c=[],g=1;u(r),l.root.updateDepthAndHeight(0);var f=o([{name:"value"}],c,{dimCount:g}),v=new i(f,s);return v.initData(c),a({mainData:v,struct:l,structAttr:"tree"}),l.update(),l};var s=e;module.exports=s;
},{"zrender/lib/core/util":113,"../model/Model":64,"./List":63,"./helper/completeDimensions":194,"./helper/linkList":412}],219:[function(require,module,exports) {
var e=require("../../model/Series"),a=require("../../data/Tree"),t=require("../../util/format"),o=t.encodeHTML,r=e.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(e){var t={name:e.name,children:e.data},o=e.leaves||{},r={};r.leaves=o;var l=a.createTree(t,this,r),n=0;l.eachNode("preorder",function(e){e.depth>n&&(n=e.depth)});var i=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:n;return l.root.eachNode("preorder",function(e){var a=e.hostTree.data.getRawDataItem(e.dataIndex);e.isExpand=a&&null!=a.collapsed?!a.collapsed:e.depth<=i}),l.data},formatTooltip:function(e){for(var a=this.getData().tree,t=a.root.children[0],r=a.getNodeByDataIndex(e),l=r.getValue(),n=r.name;r&&r!==t;)n=r.parentNode.name+"."+n,r=r.parentNode;return o(n+(isNaN(l)||null==l?"":" : "+l))},defaultOption:{zlevel:0,z:2,left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",orient:"horizontal",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{normal:{color:"#ccc",width:1.5,curveness:.5}},itemStyle:{normal:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5}},label:{normal:{show:!0,color:"#555"}},leaves:{label:{normal:{show:!0}}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}});module.exports=r;
},{"../../model/Series":202,"../../data/Tree":271,"../../util/format":61}],393:[function(require,module,exports) {
function e(e){e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var r,i,o=[e];r=o.pop();)if(i=r.children,r.isExpand&&i.length)for(var d=i.length-1;d>=0;d--){var t=i[d];t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:d,thread:null},o.push(t)}}function r(e,r){var i=e.isExpand?e.children:[],o=e.parentNode.children,d=e.hierNode.i?o[e.hierNode.i-1]:null;if(i.length){h(e);var t=(i[0].hierNode.prelim+i[i.length-1].hierNode.prelim)/2;d?(e.hierNode.prelim=d.hierNode.prelim+r(e,d),e.hierNode.modifier=e.hierNode.prelim-t):e.hierNode.prelim=t}else d&&(e.hierNode.prelim=d.hierNode.prelim+r(e,d));e.parentNode.hierNode.defaultAncestor=n(e,d,e.parentNode.hierNode.defaultAncestor||o[0],r)}function i(e){var r=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:r},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function o(e){return arguments.length?e:p}function d(e,r){var i={};return e-=Math.PI/2,i.x=r*Math.cos(e),i.y=r*Math.sin(e),i}function t(e,r){return c.getLayoutRect(e.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})}function h(e){for(var r=e.children,i=r.length,o=0,d=0;--i>=0;){var t=r[i];t.hierNode.prelim+=o,t.hierNode.modifier+=o,d+=t.hierNode.change,o+=t.hierNode.shift+d}}function n(e,r,i,o){if(r){for(var d=e,t=e,h=t.parentNode.children[0],n=r,p=d.hierNode.modifier,c=t.hierNode.modifier,u=h.hierNode.modifier,m=n.hierNode.modifier;n=a(n),t=N(t),n&&t;){d=a(d),h=N(h),d.hierNode.ancestor=e;var s=n.hierNode.prelim+m-t.hierNode.prelim-c+o(n,t);s>0&&(f(l(n,e,i),e,s),c+=s,p+=s),m+=n.hierNode.modifier,c+=t.hierNode.modifier,p+=d.hierNode.modifier,u+=h.hierNode.modifier}n&&!a(d)&&(d.hierNode.thread=n,d.hierNode.modifier+=m-p),t&&!N(h)&&(h.hierNode.thread=t,h.hierNode.modifier+=c-u,i=e)}return i}function a(e){var r=e.children;return r.length&&e.isExpand?r[r.length-1]:e.hierNode.thread}function N(e){var r=e.children;return r.length&&e.isExpand?r[0]:e.hierNode.thread}function l(e,r,i){return e.hierNode.ancestor.parentNode===r.parentNode?e.hierNode.ancestor:i}function f(e,r,i){var o=i/(r.hierNode.i-e.hierNode.i);r.hierNode.change-=o,r.hierNode.shift+=i,r.hierNode.modifier+=i,r.hierNode.prelim+=i,e.hierNode.change+=o}function p(e,r){return e.parentNode===r.parentNode?1:2}var c=require("../../util/layout");exports.init=e,exports.firstWalk=r,exports.secondWalk=i,exports.separation=o,exports.radialCoordinate=d,exports.getViewRect=t;
},{"../../util/layout":126}],220:[function(require,module,exports) {
function e(e,t){var a=e.getItemLayout(t);return a&&!isNaN(a.x)&&!isNaN(a.y)&&"none"!==e.getItemVisual(t,"symbol")}function t(e,t,a){return a.itemModel=t,a.itemStyle=t.getModel("itemStyle.normal").getItemStyle(),a.hoverItemStyle=t.getModel("itemStyle.emphasis").getItemStyle(),a.lineStyle=t.getModel("lineStyle.normal").getLineStyle(),a.labelModel=t.getModel("label.normal"),a.hoverLabelModel=t.getModel("label.emphasis"),!1===e.isExpand&&0!==e.children.length?a.symbolInnerColor=a.itemStyle.fill:a.symbolInnerColor="#fff",a}function a(e,a,r,d,u,y){var p=!r,s=e.tree.getNodeByDataIndex(a),c=(y=t(s,s.getModel(),y),e.tree.root),h=s.parentNode===c?s:s.parentNode||s,x=e.getItemGraphicEl(h.dataIndex),g=h.getLayout(),m=x?{x:x.position[0],y:x.position[1],rawX:x.__radialOldRawX,rawY:x.__radialOldRawY}:g,f=s.getLayout();p?(r=new n(e,a,y)).attr("position",[m.x,m.y]):r.updateData(e,a,y),r.__radialOldRawX=r.__radialRawX,r.__radialOldRawY=r.__radialRawY,r.__radialRawX=f.rawX,r.__radialRawY=f.rawY,d.add(r),e.setItemGraphicEl(a,r),l.updateProps(r,{position:[f.x,f.y]},u);var v=r.getSymbolPath();if("radial"===y.layout){var _,I,w=c.children[0],M=w.getLayout(),b=w.children.length;if(f.x===M.x&&!0===s.isExpand){var N={};N.x=(w.children[0].getLayout().x+w.children[b-1].getLayout().x)/2,N.y=(w.children[0].getLayout().y+w.children[b-1].getLayout().y)/2,(_=Math.atan2(N.y-M.y,N.x-M.x))<0&&(_=2*Math.PI+_),(I=N.x<M.x)&&(_-=Math.PI)}else(_=Math.atan2(f.y-M.y,f.x-M.x))<0&&(_=2*Math.PI+_),0===s.children.length||0!==s.children.length&&!1===s.isExpand?(I=f.x<M.x)&&(_-=Math.PI):(I=f.x>M.x)||(_-=Math.PI);var S=I?"left":"right";v.setStyle({textPosition:S,textRotation:-_,textOrigin:"center",verticalAlign:"middle"})}if(s.parentNode&&s.parentNode!==c){var L=r.__edge;L||(L=r.__edge=new l.BezierCurve({shape:i(y,m,m),style:o.defaults({opacity:0},y.lineStyle)})),l.updateProps(L,{shape:i(y,g,f),style:{opacity:1}},u),d.add(L)}}function r(e,a,r,o,n,d){for(var u,y=e.tree.getNodeByDataIndex(a),p=e.tree.root,s=(d=t(y,y.getModel(),d),y.parentNode===p?y:y.parentNode||y);null==(u=s.getLayout());)s=s.parentNode===p?s:s.parentNode||s;l.updateProps(r,{position:[u.x+1,u.y+1]},n,function(){o.remove(r),e.setItemGraphicEl(a,null)}),r.fadeOut(null,{keepLabel:!0});var c=r.__edge;c&&l.updateProps(c,{shape:i(d,u,u),style:{opacity:0}},n,function(){o.remove(c)})}function i(e,t,a){var r,i,o,l,n=e.orient;if("radial"===e.layout){var d=t.rawX,y=t.rawY,p=a.rawX,s=a.rawY,c=u(d,y),h=u(d,y+(s-y)*e.curvature),x=u(p,s+(y-s)*e.curvature),g=u(p,s);return{x1:c.x,y1:c.y,x2:g.x,y2:g.y,cpx1:h.x,cpy1:h.y,cpx2:x.x,cpy2:x.y}}d=t.x,y=t.y,p=a.x,s=a.y;return"horizontal"===n&&(r=d+(p-d)*e.curvature,i=y,o=p+(d-p)*e.curvature,l=s),"vertical"===n&&(r=d,i=y+(s-y)*e.curvature,o=p,l=s+(y-s)*e.curvature),{x1:d,y1:y,x2:p,y2:s,cpx1:r,cpy1:i,cpx2:o,cpy2:l}}var o=require("zrender/lib/core/util"),l=require("../../util/graphic"),n=require("../helper/Symbol"),d=require("./layoutHelper"),u=d.radialCoordinate,y=require("../../echarts"),p=y.extendChartView({type:"tree",init:function(e,t){this._oldTree,this._mainGroup=new l.Group,this.group.add(this._mainGroup)},render:function(t,i,o,l){var n=t.getData(),d=t.layoutInfo,u=this._mainGroup,y=t.get("layout");"radial"===y?u.attr("position",[d.x+d.width/2,d.y+d.height/2]):u.attr("position",[d.x,d.y]);var p=this._data,s={expandAndCollapse:t.get("expandAndCollapse"),layout:y,orient:t.get("orient"),curvature:t.get("lineStyle.normal.curveness"),symbolRotate:t.get("symbolRotate"),symbolOffset:t.get("symbolOffset"),hoverAnimation:t.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};n.diff(p).add(function(r){e(n,r)&&a(n,r,null,u,t,s)}).update(function(i,o){var l=p.getItemGraphicEl(o);e(n,i)?a(n,i,l,u,t,s):l&&r(n,i,l,u,t,s)}).remove(function(e){var a=p.getItemGraphicEl(e);r(n,e,a,u,t,s)}).execute(),!0===s.expandAndCollapse&&n.eachItemGraphicEl(function(e,a){e.off("click").on("click",function(){o.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:a})})}),this._data=n},dispose:function(){},remove:function(){this._mainGroup.removeAll(),this._data=null}});module.exports=p;
},{"../../echarts":14,"../../util/graphic":59,"../helper/Symbol":383,"./layoutHelper":393,"zrender/lib/core/util":113}],221:[function(require,module,exports) {
var e=require("../../echarts");e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,a){a.eachComponent({mainType:"series",subType:"tree",query:e},function(a){var t=e.dataIndex,n=a.getData().tree.getNodeByDataIndex(t);n.isExpand=!n.isExpand})});
},{"../../echarts":14}],451:[function(require,module,exports) {
function r(r,e,f){for(var o,p=[r],n=[];o=p.pop();)if(n.push(o),o.isExpand){var h=o.children;if(h.length)for(var a=0;a<h.length;a++)p.push(h[a])}for(;o=n.pop();)e(o,f)}function e(r,e){for(var f,o=[r];f=o.pop();)if(e(f),f.isExpand){var p=f.children;if(p.length)for(var n=p.length-1;n>=0;n--)o.push(p[n])}}exports.eachAfter=r,exports.eachBefore=e;
},{}],382:[function(require,module,exports) {
function t(t,e){var r=y(t,e);t.layoutInfo=r;var l=t.get("layout"),g=0,p=0,x=null;"radial"===l?(g=2*Math.PI,p=Math.min(r.height,r.width)/2,x=d(function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth})):(g=r.width,p=r.height,x=d());var L=t.getData().tree.root,c=L.children[0];i(L),a(c,u,x),L.hierNode.modifier=-c.hierNode.prelim,o(c,n);var f=c,v=c,s=c;o(c,function(t){var e=t.getLayout().x;e<f.getLayout().x&&(f=t),e>v.getLayout().x&&(v=t),t.depth>s.depth&&(s=t)});var w=f===v?1:x(f,v)/2,m=w-f.getLayout().x,N=0,k=0,q=0,H=0;"radial"===l?(N=g/(v.getLayout().x+w+m),k=p/(s.depth-1||1),o(c,function(t){q=(t.getLayout().x+m)*N,H=(t.depth-1)*k;var e=h(q,H);t.setLayout({x:e.x,y:e.y,rawX:q,rawY:H},!0)})):"horizontal"===t.get("orient")?(k=p/(v.getLayout().x+w+m),N=g/(s.depth-1||1),o(c,function(t){H=(t.getLayout().x+m)*k,q=(t.depth-1)*N,t.setLayout({x:q,y:H},!0)})):(N=g/(v.getLayout().x+w+m),k=p/(s.depth-1||1),o(c,function(t){q=(t.getLayout().x+m)*N,H=(t.depth-1)*k,t.setLayout({x:q,y:H},!0)}))}var e=require("./traversalHelper"),a=e.eachAfter,o=e.eachBefore,r=require("./layoutHelper"),i=r.init,u=r.firstWalk,n=r.secondWalk,d=r.separation,h=r.radialCoordinate,y=r.getViewRect;module.exports=t;
},{"./layoutHelper":393,"./traversalHelper":451}],222:[function(require,module,exports) {
function e(e,r){e.eachSeriesByType("tree",function(e){o(e,r)})}var o=require("./commonLayout");module.exports=e;
},{"./commonLayout":382}],22:[function(require,module,exports) {
var e=require("../echarts"),r=require("zrender/lib/core/util");require("./tree/TreeSeries"),require("./tree/TreeView"),require("./tree/treeAction");var i=require("../visual/symbol"),t=require("./tree/orthogonalLayout"),u=require("./tree/radialLayout");e.registerVisual(r.curry(i,"tree","circle",null)),e.registerLayout(t),e.registerLayout(u);
},{"../echarts":14,"zrender/lib/core/util":113,"../visual/symbol":72,"./tree/TreeSeries":219,"./tree/TreeView":220,"./tree/treeAction":221,"./tree/radialLayout":222,"./tree/orthogonalLayout":222}],272:[function(require,module,exports) {
function e(e,r){if(e&&("treemapZoomToNode"===e.type||"treemapRootToNode"===e.type)){var t=r.getData().tree.root,o=e.targetNode;if(o&&t.contains(o))return{node:o};var a=e.targetNodeId;if(null!=a&&(o=t.getNodeById(a)))return{node:o}}}function r(e){for(var r=[];e;)(e=e.parentNode)&&r.push(e);return r.reverse()}function t(e,t){var o=r(e);return a.indexOf(o,t)>=0}function o(e,r){for(var t=[];e;){var o=e.dataIndex;t.push({name:e.name,dataIndex:o,value:r.getRawValue(o)}),e=e.parentNode}return t.reverse(),t}var a=require("zrender/lib/core/util");exports.retrieveTargetInfo=e,exports.getPathToRoot=r,exports.aboveViewRoot=t,exports.wrapTreePathInfo=o;
},{"zrender/lib/core/util":113}],76:[function(require,module,exports) {
function e(t){var i=0;o.each(t.children,function(t){e(t);var r=t.value;o.isArray(r)&&(r=r[0]),i+=r});var r=t.value;o.isArray(r)&&(r=r[0]),(null==r||isNaN(r))&&(r=i),r<0&&(r=0),o.isArray(t.value)?t.value[0]=r:t.value=r}function t(e,t){var i=t.get("color");if(i){e=e||[];var r;if(o.each(e,function(e){var t=new a(e),o=t.get("color");(t.get("itemStyle.normal.color")||o&&"none"!==o)&&(r=!0)}),!r){(e[0]||(e[0]={})).color=i.slice()}return e}}var o=require("zrender/lib/core/util"),i=require("../../model/Series"),r=require("../../data/Tree"),a=require("../../model/Model"),l=require("../../util/format"),n=l.encodeHTML,s=l.addCommas,u=require("./helper"),d=u.wrapTreePathInfo,h=i.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{normal:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}}},label:{normal:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0}},upperLabel:{normal:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},emphasis:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},itemStyle:{normal:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(o,i){var a={name:o.name,children:o.data};e(a);var l=o.levels||[];l=o.levels=t(l,i);var n={};return n.levels=l,r.createTree(a,this,n).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(e){var t=this.getData(),i=this.getRawValue(e),r=o.isArray(i)?s(i[0]):s(i),a=t.getName(e);return n(a+": "+r)},getDataParams:function(e){var t=i.prototype.getDataParams.apply(this,arguments),o=this.getData().tree.getNodeByDataIndex(e);return t.treePathInfo=d(o,this),t},setLayoutInfo:function(e){this.layoutInfo=this.layoutInfo||{},o.extend(this.layoutInfo,e)},mapIdToIndex:function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=o.createHashMap(),this._idIndexMapCount=0);var i=t.get(e);return null==i&&t.set(e,i=this._idIndexMapCount++),i},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)}});module.exports=h;
},{"../../model/Series":202,"../../data/Tree":271,"../../model/Model":64,"../../util/format":61,"./helper":272,"zrender/lib/core/util":113}],293:[function(require,module,exports) {
function e(){var e,r=[],n={};return{add:function(e,i,a,u,o){return t.isString(u)&&(o=u,u=0),!n[e.id]&&(n[e.id]=1,r.push({el:e,target:i,time:a,delay:u,easing:o}),!0)},done:function(t){return e=t,this},start:function(){function t(){--i||(r.length=0,n={},e&&e())}for(var i=r.length,a=0,u=r.length;a<u;a++){var o=r[a];o.el.animateTo(o.target,o.time,o.delay,o.easing,t)}return this}}}var t=require("zrender/lib/core/util");exports.createWrap=e;
},{"zrender/lib/core/util":113}],294:[function(require,module,exports) {
function e(e){this.group=new o.Group,e.add(this.group)}function t(e,t,r,o,n,i){var a=[[n?e:e-h,t],[e+r,t],[e+r,t+o],[n?e:e-h,t+o]];return!i&&a.splice(2,0,[e+r+h,t+o/2]),!n&&a.push([e,t+o/2]),a}function r(e,t,r){e.eventData={componentType:"series",componentSubType:"treemap",seriesIndex:t.componentIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:r&&r.dataIndex,name:r&&r.name},treePathInfo:r&&d(r,t)}}var o=require("../../util/graphic"),n=require("../../util/layout"),i=require("zrender/lib/core/util"),a=require("./helper"),d=a.wrapTreePathInfo,l=8,p=8,h=5;e.prototype={constructor:e,render:function(e,t,r,o){var i=e.getModel("breadcrumb"),a=this.group;if(a.removeAll(),i.get("show")&&r){var d=i.getModel("itemStyle.normal"),l=d.getModel("textStyle"),p={pos:{left:i.get("left"),right:i.get("right"),top:i.get("top"),bottom:i.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:i.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(r,p,l),this._renderContent(e,p,d,l,o),n.positionElement(a,p.pos,p.box)}},_prepare:function(e,t,r){for(var o=e;o;o=o.parentNode){var n=o.getModel().get("name"),i=r.getTextRect(n),a=Math.max(i.width+2*l,t.emptyItemWidth);t.totalWidth+=a+p,t.renderList.push({node:o,text:n,width:a})}},_renderContent:function(e,a,d,l,h){for(var g=0,s=a.emptyItemWidth,u=e.get("breadcrumb.height"),m=n.getAvailableSize(a.pos,a.box),c=a.totalWidth,x=a.renderList,f=x.length-1;f>=0;f--){var v=x[f],y=v.node,b=v.width,I=v.text;c>m.width&&(c-=b-s,b=s,I=null);var w=new o.Polygon({shape:{points:t(g,0,b,u,f===x.length-1,0===f)},style:i.defaults(d.getItemStyle(),{lineJoin:"bevel",text:I,textFill:l.getTextColor(),textFont:l.getFont()}),z:10,onclick:i.curry(h,y)});this.group.add(w),r(w,e,y),g+=b+p}},remove:function(){this.group.removeAll()}};var g=e;module.exports=g;
},{"../../util/graphic":59,"../../util/layout":126,"zrender/lib/core/util":113,"./helper":272}],77:[function(require,module,exports) {
function e(){return{nodeGroup:[],background:[],content:[]}}function t(e,t,o,a,s,d,l,h,u,c){function f(e,t){D?!e.invisible&&d.push(e):(t(),e.__tmWillVisible||(e.invisible=!1))}function p(t,i,o,a,s,d){var h=l.getModel(),u=r.retrieve(e.getFormattedLabel(l.dataIndex,"normal",null,null,d?"upperLabel":"label"),h.get("name"));if(!d&&v.isLeafRoot){var c=e.get("drillDownIcon",!0);u=c?c+" "+u:u}var f=h.getModel(d?x:y),p=h.getModel(d?b:w),g=f.getShallow("show");n.setLabelStyle(t,i,f,p,{defaultText:g?u:null,autoColor:o,isRectText:!0}),d&&(t.textRect=r.clone(d)),t.truncate=g&&f.get("ellipsis")?{outerWidth:a,outerHeight:s,minChar:2}:null}function _(e,n,d,h){var u=null!=S&&o[e][S],c=s[e];return u?(o[e][S]=null,function(e,t,i){(e[k]={}).old="nodeGroup"===i?t.position.slice():r.extend({},t.shape)}(c,u,e)):D||((u=new n({z:i(d,h)})).__tmDepth=d,u.__tmStorageName=e,function(e,t,i){var o=e[k]={},r=l.parentNode;if(r&&(!a||"drillDown"===a.direction)){var n=0,d=0,h=s.background[r.getRawIndex()];!a&&h&&h.old&&(n=h.old.width,d=h.old.height),o.old="nodeGroup"===i?[0,d]:{x:n,y:d,width:0,height:0}}o.fadein="nodeGroup"!==i}(c,0,e)),t[e][k]=u}if(l){var v=l.getLayout();if(v&&v.isInView){var T=v.width,C=v.height,G=v.borderWidth,D=v.invisible,k=l.getRawIndex(),S=h&&h.getRawIndex(),W=l.viewChildren,q=v.upperHeight,L=W&&W.length,A=l.getModel("itemStyle.normal"),H=l.getModel("itemStyle.emphasis"),V=_("nodeGroup",g);if(V){if(u.add(V),V.attr("position",[v.x||0,v.y||0]),V.__tmNodeWidth=T,V.__tmNodeHeight=C,v.isAboveViewRoot)return V;var z=_("background",m,c,I);if(z&&function(t,i,o){i.dataIndex=l.dataIndex,i.seriesIndex=e.seriesIndex,i.setShape({x:0,y:0,width:T,height:C});var r=l.getVisual("borderColor",!0),a=H.get("borderColor");f(i,function(){var e=M(A);e.fill=r;var t=N(H);if(t.fill=a,o){var s=T-2*G;p(e,t,r,s,q,{x:G,y:0,width:s,height:q})}else e.text=t.text=null;i.setStyle(e),n.setHoverStyle(i,t)}),t.add(i)}(V,z,L&&v.upperHeight),!L){var F=_("content",m,c,R);F&&function(t,i){i.dataIndex=l.dataIndex,i.seriesIndex=e.seriesIndex;var o=Math.max(T-2*G,0),r=Math.max(C-2*G,0);i.culling=!0,i.setShape({x:G,y:G,width:o,height:r});var a=l.getVisual("color",!0);f(i,function(){var e=M(A);e.fill=a;var t=N(H);p(e,t,a,o,r),i.setStyle(e),n.setHoverStyle(i,t)}),t.add(i)}(V,F)}return V}}}}function i(e,t){var i=e*T+t;return(i-1)/i}var o=require("../../echarts"),r=require("zrender/lib/core/util"),n=require("../../util/graphic"),a=require("../../data/DataDiffer"),s=require("./helper"),d=require("./Breadcrumb"),l=require("../../component/helper/RoamController"),h=require("zrender/lib/core/BoundingRect"),u=require("zrender/lib/core/matrix"),c=require("../../util/animation"),f=require("../../model/mixin/makeStyleMapper"),p=r.bind,g=n.Group,m=n.Rect,_=r.each,v=3,y=["label","normal"],w=["label","emphasis"],x=["upperLabel","normal"],b=["upperLabel","emphasis"],T=10,I=1,R=2,N=f([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),M=function(e){var t=N(e);return t.stroke=t.fill=t.lineWidth=null,t},C=o.extendChartView({type:"treemap",init:function(t,i){this._containerGroup,this._storage=e(),this._oldTree,this._breadcrumb,this._controller,this._state="ready"},render:function(e,t,i,o){var n=t.findComponents({mainType:"series",subType:"treemap",query:o});if(!(r.indexOf(n,e)<0)){this.seriesModel=e,this.api=i,this.ecModel=t;var a=s.retrieveTargetInfo(o,e),d=o&&o.type,l=e.layoutInfo,h=!this._oldTree,u=this._storage,c="treemapRootToNode"===d&&a&&u?{rootNodeGroup:u.nodeGroup[a.node.getRawIndex()],direction:o.direction}:null,f=this._giveContainerGroup(l),p=this._doRender(f,e,c);h||d&&"treemapZoomToNode"!==d&&"treemapRootToNode"!==d?p.renderFinally():this._doAnimation(f,p,e,c),this._resetController(i),this._renderBreadcrumb(e,i,a)}},_giveContainerGroup:function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new g,this._initEvents(t),this.group.add(t)),t.attr("position",[e.x,e.y]),t},_doRender:function(i,o,n){function s(e,t,i,o,n){function d(e){return e.getId()}function l(r,a){var d=null!=r?e[r]:null,l=null!=a?t[a]:null,h=p(d,l,i,n);h&&s(d&&d.viewChildren||[],l&&l.viewChildren||[],h,o,n+1)}o?(t=e,_(e,function(e,t){!e.isRemoved()&&l(t,t)})):new a(t,e,d,d).add(l).update(l).remove(r.curry(l,null)).execute()}var d=o.getData().tree,l=this._oldTree,h=e(),u=e(),c=this._storage,f=[],p=r.curry(t,o,u,c,n,h,f);s(d.root?[d.root]:[],l&&l.root?[l.root]:[],i,d===l||!l,0);var g=function(t){var i=e();return t&&_(t,function(e,t){var o=i[t];_(e,function(e){e&&(o.push(e),e.__tmWillDelete=1)})}),i}(c);return this._oldTree=d,this._storage=u,{lastsForAnimation:h,willDeleteEls:g,renderFinally:function(){_(g,function(e){_(e,function(e){e.parent&&e.parent.remove(e)})}),_(f,function(e){e.invisible=!0,e.dirty()})}}},_doAnimation:function(e,t,i,o){if(i.get("animation")){var n=i.get("animationDurationUpdate"),a=i.get("animationEasing"),s=c.createWrap();_(t.willDeleteEls,function(e,t){_(e,function(e,i){if(!e.invisible){var r,d=e.parent;if(o&&"drillDown"===o.direction)r=d===o.rootNodeGroup?{shape:{x:0,y:0,width:d.__tmNodeWidth,height:d.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var l=0,h=0;d.__tmWillDelete||(l=d.__tmNodeWidth/2,h=d.__tmNodeHeight/2),r="nodeGroup"===t?{position:[l,h],style:{opacity:0}}:{shape:{x:l,y:h,width:0,height:0},style:{opacity:0}}}r&&s.add(e,r,n,a)}})}),_(this._storage,function(e,i){_(e,function(e,o){var d=t.lastsForAnimation[i][o],l={};d&&("nodeGroup"===i?d.old&&(l.position=e.position.slice(),e.attr("position",d.old)):(d.old&&(l.shape=r.extend({},e.shape),e.setShape(d.old)),d.fadein?(e.setStyle("opacity",0),l.style={opacity:1}):1!==e.style.opacity&&(l.style={opacity:1})),s.add(e,l,n,a))})},this),this._state="animating",s.done(p(function(){this._state="ready",t.renderFinally()},this)).start()}},_resetController:function(e){var t=this._controller;t||((t=this._controller=new l(e.getZr())).enable(this.seriesModel.get("roam")),t.on("pan",p(this._onPan,this)),t.on("zoom",p(this._onZoom,this)));var i=new h(0,0,e.getWidth(),e.getHeight());t.setPointerChecker(function(e,t,o){return i.contain(t,o)})},_clearController:function(){var e=this._controller;e&&(e.dispose(),e=null)},_onPan:function(e,t){if("animating"!==this._state&&(Math.abs(e)>v||Math.abs(t)>v)){var i=this.seriesModel.getData().tree.root;if(!i)return;var o=i.getLayout();if(!o)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x+e,y:o.y+t,width:o.width,height:o.height}})}},_onZoom:function(e,t,i){if("animating"!==this._state){var o=this.seriesModel.getData().tree.root;if(!o)return;var r=o.getLayout();if(!r)return;var n=new h(r.x,r.y,r.width,r.height),a=this.seriesModel.layoutInfo;t-=a.x,i-=a.y;var s=u.create();u.translate(s,s,[-t,-i]),u.scale(s,s,[e,e]),u.translate(s,s,[t,i]),n.applyTransform(s),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x,y:n.y,width:n.width,height:n.height}})}},_initEvents:function(e){e.on("click",function(e){if("ready"===this._state){var t=this.seriesModel.get("nodeClick",!0);if(t){var i=this.findTarget(e.offsetX,e.offsetY);if(i){var o=i.node;if(o.getLayout().isLeafRoot)this._rootToNode(i);else if("zoomToNode"===t)this._zoomToNode(i);else if("link"===t){var r=o.hostTree.data.getItemModel(o.dataIndex),n=r.get("link",!0),a=r.get("target",!0)||"blank";n&&window.open(n,a)}}}}},this)},_renderBreadcrumb:function(e,t,i){i||(i=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2))||(i={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new d(this.group))).render(e,t,i.node,p(function(t){"animating"!==this._state&&(s.aboveViewRoot(e.getViewRoot(),t)?this._rootToNode({node:t}):this._zoomToNode({node:t}))},this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=e(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},_rootToNode:function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},findTarget:function(e,t){var i;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(o){var r=this._storage.background[o.getRawIndex()];if(r){var n=r.transformCoordToLocal(e,t),a=r.shape;if(!(a.x<=n[0]&&n[0]<=a.x+a.width&&a.y<=n[1]&&n[1]<=a.y+a.height))return!1;i={node:o,offsetX:n[0],offsetY:n[1]}}},this),i}});module.exports=C;
},{"zrender/lib/core/util":113,"./helper":272,"../../echarts":14,"../../util/graphic":59,"../../data/DataDiffer":117,"../../util/animation":293,"./Breadcrumb":294,"../../component/helper/RoamController":295,"../../model/mixin/makeStyleMapper":296,"zrender/lib/core/BoundingRect":256,"zrender/lib/core/matrix":111}],78:[function(require,module,exports) {
for(var e=require("../../echarts"),o=require("./helper"),t=function(){},r=["treemapZoomToNode","treemapRender","treemapMove"],i=0;i<r.length;i++)e.registerAction({type:r[i],update:"updateView"},t);e.registerAction({type:"treemapRootToNode",update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"treemap",query:e},function(t,r){var i=o.retrieveTargetInfo(e,t);if(i){var n=t.getViewRoot();n&&(e.direction=o.aboveViewRoot(n,i.node)?"rollUp":"drillDown"),t.resetViewRoot(i.node)}})});
},{"../../echarts":14,"./helper":272}],298:[function(require,module,exports) {
function i(i){var n=i.pieceList;i.hasSpecialVisual=!1,f.each(n,function(n,t){n.originIndex=t,null!=n.visual&&(i.hasSpecialVisual=!0)})}function n(i){var n=i.categories,t=i.visual,r=i.categoryMap={};if(y(n,function(i,n){r[i]=n}),!f.isArray(t)){var e=[];f.isObject(t)?y(t,function(i,n){var t=r[n];e[null!=t?t:V]=i}):e[V]=t,t=c(i,e)}for(var a=n.length-1;a>=0;a--)null==t[a]&&(delete r[n[a]],n.pop())}function t(i,n){var t=i.visual,r=[];f.isObject(t)?y(t,function(i){r.push(i)}):null!=t&&r.push(t);n||1!==r.length||{color:1,symbol:1}.hasOwnProperty(i.type)||(r[1]=r[0]),c(i,r)}function r(i){return{applyVisual:function(n,t,r){n=this.mapValueToVisual(n),r("color",i(t("color"),n))},_doMap:l([0,1])}}function e(i){var n=this.option.visual;return n[Math.round(d(i,[0,1],[0,n.length-1],!0))]||{}}function a(i){return function(n,t,r){r(i,this.mapValueToVisual(n))}}function o(i){var n=this.option.visual;return n[this.option.loop&&i!==V?i%n.length:i]}function u(){return this.option.visual[0]}function l(i){return{linear:function(n){return d(n,i,this.option.visual,!0)},category:o,piecewise:function(n,t){var r=s.call(this,t);return null==r&&(r=d(n,i,this.option.visual,!0)),r},fixed:u}}function s(i){var n=this.option,t=n.pieceList;if(n.hasSpecialVisual){var r=t[m.findPieceIndex(i,t)];if(r&&r.visual)return r.visual[this.type]}}function c(i,n){return i.visual=n,"color"===i.type&&(i.parsedVisual=f.map(n,function(i){return h.parse(i)})),n}function p(i,n,t){return i?n<=t:n<t}var f=require("zrender/lib/core/util"),h=require("zrender/lib/tool/color"),v=require("../util/number"),d=v.linearMap,y=f.each,g=f.isObject,V=-1,m=function(r){var e=r.mappingMethod,a=r.type,o=this.option=f.clone(r);this.type=a,this.mappingMethod=e,this._normalizeData=M[e];var u=b[a];this.applyVisual=u.applyVisual,this.getColorMapper=u.getColorMapper,this._doMap=u._doMap[e],"piecewise"===e?(t(o),i(o)):"category"===e?o.categories?n(o):t(o,!0):(f.assert("linear"!==e||o.dataExtent),t(o))};m.prototype={constructor:m,mapValueToVisual:function(i){var n=this._normalizeData(i);return this._doMap(n,i)},getNormalizer:function(){return f.bind(this._normalizeData,this)}};var b=m.visualHandlers={color:{applyVisual:a("color"),getColorMapper:function(){var i=this.option;return f.bind("category"===i.mappingMethod?function(i,n){return!n&&(i=this._normalizeData(i)),o.call(this,i)}:function(n,t,r){var e=!!r;return!t&&(n=this._normalizeData(n)),r=h.fastLerp(n,i.parsedVisual,r),e?r:h.stringify(r,"rgba")},this)},_doMap:{linear:function(i){return h.stringify(h.fastLerp(i,this.option.parsedVisual),"rgba")},category:o,piecewise:function(i,n){var t=s.call(this,n);return null==t&&(t=h.stringify(h.fastLerp(i,this.option.parsedVisual),"rgba")),t},fixed:u}},colorHue:r(function(i,n){return h.modifyHSL(i,n)}),colorSaturation:r(function(i,n){return h.modifyHSL(i,null,n)}),colorLightness:r(function(i,n){return h.modifyHSL(i,null,null,n)}),colorAlpha:r(function(i,n){return h.modifyAlpha(i,n)}),opacity:{applyVisual:a("opacity"),_doMap:l([0,1])},symbol:{applyVisual:function(i,n,t){var r=this.mapValueToVisual(i);if(f.isString(r))t("symbol",r);else if(g(r))for(var e in r)r.hasOwnProperty(e)&&t(e,r[e])},_doMap:{linear:e,category:o,piecewise:function(i,n){var t=s.call(this,n);return null==t&&(t=e.call(this,i)),t},fixed:u}},symbolSize:{applyVisual:a("symbolSize"),_doMap:l([0,1])}},M={linear:function(i){return d(i,this.option.dataExtent,[0,1],!0)},piecewise:function(i){var n=this.option.pieceList,t=m.findPieceIndex(i,n,!0);if(null!=t)return d(t,[0,n.length-1],[0,1],!0)},category:function(i){var n=this.option.categories?this.option.categoryMap[i]:i;return null==n?V:n},fixed:f.noop};m.listVisualTypes=function(){var i=[];return f.each(b,function(n,t){i.push(t)}),i},m.addVisualHandler=function(i,n){b[i]=n},m.isValidType=function(i){return b.hasOwnProperty(i)},m.eachVisual=function(i,n,t){f.isObject(i)?f.each(i,n,t):n.call(t,i)},m.mapVisual=function(i,n,t){var r,e=f.isArray(i)?[]:f.isObject(i)?{}:(r=!0,null);return m.eachVisual(i,function(i,a){var o=n.call(t,i,a);r?e=o:e[a]=o}),e},m.retrieveVisuals=function(i){var n,t={};return i&&y(b,function(r,e){i.hasOwnProperty(e)&&(t[e]=i[e],n=!0)}),n?t:null},m.prepareVisualTypes=function(i){if(g(i)){var n=[];y(i,function(i,t){n.push(t)}),i=n}else{if(!f.isArray(i))return[];i=i.slice()}return i.sort(function(i,n){return"color"===n&&"color"!==i&&0===i.indexOf("color")?1:-1}),i},m.dependsOn=function(i,n){return"color"===n?!(!i||0!==i.indexOf(n)):i===n},m.findPieceIndex=function(i,n,t){function r(n,t){var r=Math.abs(n-i);r<a&&(a=r,e=t)}for(var e,a=1/0,o=0,u=n.length;o<u;o++){var l=n[o].value;if(null!=l){if(l===i||"string"==typeof l&&l===i+"")return o;t&&r(l,o)}}for(o=0,u=n.length;o<u;o++){var s=n[o],c=s.interval,f=s.close;if(c){if(c[0]===-1/0){if(p(f[1],i,c[1]))return o}else if(c[1]===1/0){if(p(f[0],c[0],i))return o}else if(p(f[0],c[0],i)&&p(f[1],i,c[1]))return o;t&&r(c[0],o),t&&r(c[1],o)}}if(t)return i===1/0?n.length-1:i===-1/0?0:e};var x=m;module.exports=x;
},{"../util/number":60,"zrender/lib/core/util":113,"zrender/lib/tool/color":114}],79:[function(require,module,exports) {
function e(e,o,r){var l={mainType:"series",subType:"treemap",query:r};e.eachComponent(l,function(e){var o=e.getData().tree,r=o.root,l=e.getModel(v);if(!r.isRemoved()){n(r,{},g.map(o.levelModels,function(e){return e?e.get(v):null}),l,e.getViewRoot().getAncestors(),e)}})}function n(e,t,i,c,d,p){var f=e.getModel(),s=e.getLayout();if(s&&!s.invisible&&s.isInView){var m,h=e.getModel(v),y=o(h,t,i[e.depth],c),M=h.get("borderColor"),x=h.get("borderColorSaturation");null!=x&&(M=l(x,m=r(y,e))),e.setVisual("borderColor",M);var V=e.viewChildren;if(V&&V.length){var b=a(e,f,s,h,y,V);g.each(V,function(e,o){if(e.depth>=d.length||e===d[e.depth]){n(e,u(f,y,e,o,b,p),i,c,d,p)}})}else m=r(y,e),e.setVisual("color",m)}}function o(e,n,o,r){var l=g.extend({},n);return g.each(["color","colorAlpha","colorSaturation"],function(t){var a=e.get(t,!0);null==a&&o&&(a=o[t]),null==a&&(a=n[t]),null==a&&(a=r.get(t)),null!=a&&(l[t]=a)}),l}function r(e){var n=t(e,"color");if(n){var o=t(e,"colorAlpha"),r=t(e,"colorSaturation");return r&&(n=d.modifyHSL(n,null,null,r)),o&&(n=d.modifyAlpha(n,o)),n}}function l(e,n){return null!=n?d.modifyHSL(n,null,null,e):null}function t(e,n){var o=e[n];if(null!=o&&"none"!==o)return o}function a(e,n,o,r,l,t){if(t&&t.length){var a=i(n,"color")||null!=l.color&&"none"!==l.color&&(i(n,"colorAlpha")||i(n,"colorSaturation"));if(a){var u=n.get("visualMin"),d=n.get("visualMax"),g=o.dataExtent.slice();null!=u&&u<g[0]&&(g[0]=u),null!=d&&d>g[1]&&(g[1]=d);var p=n.get("colorMappingBy"),v={type:a.name,dataExtent:g,visual:a.range};"color"!==v.type||"index"!==p&&"id"!==p?v.mappingMethod="linear":(v.mappingMethod="category",v.loop=!0);var f=new c(v);return f.__drColorMappingBy=p,f}}}function i(e,n){var o=e.get(n);return p(o)&&o.length?{name:n,range:o}:null}function u(e,n,o,r,l,t){var a=g.extend({},n);if(l){var i=l.type,u="color"===i&&l.__drColorMappingBy,c="index"===u?r:"id"===u?t.mapIdToIndex(o.getId()):o.getValue(e.get("visualDimension"));a[i]=l.mapValueToVisual(c)}return a}var c=require("../../visual/VisualMapping"),d=require("zrender/lib/tool/color"),g=require("zrender/lib/core/util"),p=g.isArray,v="itemStyle.normal";module.exports=e;
},{"zrender/lib/core/util":113,"../../visual/VisualMapping":298,"zrender/lib/tool/color":114}],80:[function(require,module,exports) {
function e(e,r,a){var i={mainType:"series",subType:"treemap",query:a};e.eachComponent(i,function(e){var i=r.getWidth(),n=r.getHeight(),o=e.option,u=p.getLayoutRect(e.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()}),v=o.size||[],f=c(x(u.width,v[0]),i),y=c(x(u.height,v[1]),n),L=a&&a.type,w=m.retrieveTargetInfo(a,e),R="treemapRender"===L||"treemapMove"===L?a.rootRect:null,b=e.getViewRoot(),M=m.getPathToRoot(b);if("treemapMove"!==L){var q="treemapZoomToNode"===L?h(e,w,b,f,y):R?[R.width,R.height]:[f,y],N=o.sort;N&&"asc"!==N&&"desc"!==N&&(N="desc");var I={squareRatio:o.squareRatio,sort:N,leafDepth:o.leafDepth};b.hostTree.clearLayouts();var T={x:0,y:0,width:q[0],height:q[1],area:q[0]*q[1]};b.setLayout(T),t(b,I,!1,0);T=b.getLayout();V(M,function(e,t){var r=(M[t+1]||b).getValue();e.setLayout(d.extend({dataExtent:[r,r],borderWidth:0,upperHeight:0},T))})}var E=e.getData().tree.root;E.setLayout(l(u,R,w),!0),e.setLayoutInfo(u),g(E,new s(-u.x,-u.y,i,n),M,b,0)})}function t(e,a,i,n){var h,l;if(!e.isRemoved()){var g=e.getLayout();h=g.width,l=g.height;var d=(m=e.getModel()).get(R),s=m.get(b)/2,f=v(m),c=Math.max(d,f),y=d-s,p=c-s,m=e.getModel();e.setLayout({borderWidth:d,upperHeight:c,upperLabelHeight:f},!0);var x=(h=L(h-2*y,0))*(l=L(l-y-p,0)),V=r(e,m,x,a,i,n);if(V.length){var M={x:y,y:p,width:h,height:l},q=w(h,l),N=1/0,I=[];I.area=0;for(var T=0,E=V.length;T<E;){var C=V[T];I.push(C),I.area+=C.getLayout().area;var D=o(I,q,a.squareRatio);D<=N?(T++,N=D):(I.area-=I.pop().getLayout().area,u(I,q,M,s,!1),q=w(M.width,M.height),I.length=I.area=0,N=1/0)}if(I.length&&u(I,q,M,s,!0),!i){var W=m.get("childrenVisibleMin");null!=W&&x<W&&(i=!0)}for(T=0,E=V.length;T<E;T++)t(V[T],a,i,n+1)}}}function r(e,t,r,o,u,h){var l=e.children||[],g=o.sort;"asc"!==g&&"desc"!==g&&(g=null);var v=null!=o.leafDepth&&o.leafDepth<=h;if(u&&!v)return e.viewChildren=[];i(l=d.filter(l,function(e){return!e.isRemoved()}),g);var s=n(t,l,g);if(0===s.sum)return e.viewChildren=[];if(s.sum=a(t,r,s.sum,g,l),0===s.sum)return e.viewChildren=[];for(var f=0,c=l.length;f<c;f++){var y=l[f].getValue()/s.sum*r;l[f].setLayout({area:y})}return v&&(l.length&&e.setLayout({isLeafRoot:!0},!0),l.length=0),e.viewChildren=l,e.setLayout({dataExtent:s.dataExtent},!0),l}function a(e,t,r,a,i){if(!a)return r;for(var n=e.get("visibleMin"),o=i.length,u=o,h=o-1;h>=0;h--){var l=i["asc"===a?o-h-1:h].getValue();l/r*t<n&&(u=h,r-=l)}return"asc"===a?i.splice(0,o-u):i.splice(u,o-u),r}function i(e,t){return t&&e.sort(function(e,r){var a="asc"===t?e.getValue()-r.getValue():r.getValue()-e.getValue();return 0===a?"asc"===t?e.dataIndex-r.dataIndex:r.dataIndex-e.dataIndex:a}),e}function n(e,t,r){for(var a=0,i=0,n=t.length;i<n;i++)a+=t[i].getValue();var o=e.get("visualDimension");if(t&&t.length)if("value"===o&&r)u=[t[t.length-1].getValue(),t[0].getValue()],"asc"===r&&u.reverse();else{var u=[1/0,-1/0];V(t,function(e){var t=e.getValue(o);t<u[0]&&(u[0]=t),t>u[1]&&(u[1]=t)})}else u=[NaN,NaN];return{sum:a,dataExtent:u}}function o(e,t,r){for(var a,i=0,n=1/0,o=0,u=e.length;o<u;o++)(a=e[o].getLayout().area)&&(a<n&&(n=a),a>i&&(i=a));var h=e.area*e.area,l=t*t*r;return h?L(l*i/h,h/(l*n)):1/0}function u(e,t,r,a,i){var n=t===r.width?0:1,o=1-n,u=["x","y"],h=["width","height"],l=r[u[n]],g=t?e.area/t:0;(i||g>r[h[o]])&&(g=r[h[o]]);for(var v=0,d=e.length;v<d;v++){var s=e[v],f={},c=g?s.getLayout().area/g:0,y=f[h[o]]=L(g-2*a,0),p=r[u[n]]+r[h[n]]-l,m=v===d-1||p<c?p:c,x=f[h[n]]=L(m-2*a,0);f[u[o]]=r[u[o]]+w(a,y/2),f[u[n]]=l+w(a,x/2),l+=m,s.setLayout(f,!0)}r[u[o]]+=g,r[h[o]]-=g}function h(e,t,r,a,i){var n=(t||{}).node,o=[a,i];if(!n||n===r)return o;for(var u,h=a*i,l=h*e.option.zoomToNodeRatio;u=n.parentNode;){for(var g=0,d=u.children,s=0,f=d.length;s<f;s++)g+=d[s].getValue();var c=n.getValue();if(0===c)return o;l*=g/c;var p=u.getModel(),m=p.get(R);(l+=4*m*m+(3*m+Math.max(m,v(p,m)))*Math.pow(l,.5))>y&&(l=y),n=u}l<h&&(l=h);var L=Math.pow(l/h,.5);return[a*L,i*L]}function l(e,t,r){if(t)return{x:t.x,y:t.y};var a={x:0,y:0};if(!r)return a;var i=r.node,n=i.getLayout();if(!n)return a;for(var o=[n.width/2,n.height/2],u=i;u;){var h=u.getLayout();o[0]+=h.x,o[1]+=h.y,u=u.parentNode}return{x:e.width/2-o[0],y:e.height/2-o[1]}}function g(e,t,r,a,i){var n=e.getLayout(),o=r[i],u=o&&o===e;if(!(o&&!u||i===r.length&&e!==a)){e.setLayout({isInView:!0,invisible:!u&&!t.intersect(n),isAboveViewRoot:u},!0);var h=new s(t.x-n.x,t.y-n.y,t.width,t.height);V(e.viewChildren||[],function(e){g(e,h,r,a,i+1)})}}function v(e){return e.get(M)?e.get(q):0}var d=require("zrender/lib/core/util"),s=require("zrender/lib/core/BoundingRect"),f=require("../../util/number"),c=f.parsePercent,y=f.MAX_SAFE_INTEGER,p=require("../../util/layout"),m=require("./helper"),L=Math.max,w=Math.min,x=d.retrieve,V=d.each,R=["itemStyle","normal","borderWidth"],b=["itemStyle","normal","gapWidth"],M=["upperLabel","normal","show"],q=["upperLabel","normal","height"];module.exports=e;
},{"zrender/lib/core/util":113,"zrender/lib/core/BoundingRect":256,"./helper":272,"../../util/number":60,"../../util/layout":126}],23:[function(require,module,exports) {
var e=require("../echarts");require("./treemap/TreemapSeries"),require("./treemap/TreemapView"),require("./treemap/treemapAction");var r=require("./treemap/treemapVisual"),a=require("./treemap/treemapLayout");e.registerVisual(r),e.registerLayout(a);
},{"../echarts":14,"./treemap/TreemapSeries":76,"./treemap/TreemapView":77,"./treemap/treemapAction":78,"./treemap/treemapVisual":79,"./treemap/treemapLayout":80}],452:[function(require,module,exports) {
function t(t){return"_EC_"+t}function e(t,e){this.id=null==t?"":t,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==e?-1:e}function n(t,e,n){this.node1=t,this.node2=e,this.dataIndex=null==n?-1:n}var d=require("../config"),i=d.__DEV__,a=require("zrender/lib/core/util"),s=function(t){this._directed=t||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},o=s.prototype;o.type="graph",o.isDirected=function(){return this._directed},o.addNode=function(n,d){n=n||""+d;var i=this._nodesMap;if(!i[t(n)]){var a=new e(n,d);return a.hostGraph=this,this.nodes.push(a),i[t(n)]=a,a}},o.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},o.getNodeById=function(e){return this._nodesMap[t(e)]},o.addEdge=function(d,i,a){var s=this._nodesMap,o=this._edgesMap;if("number"==typeof d&&(d=this.nodes[d]),"number"==typeof i&&(i=this.nodes[i]),d instanceof e||(d=s[t(d)]),i instanceof e||(i=s[t(i)]),d&&i){var r=d.id+"-"+i.id;if(!o[r]){var h=new n(d,i,a);return h.hostGraph=this,this._directed&&(d.outEdges.push(h),i.inEdges.push(h)),d.edges.push(h),d!==i&&i.edges.push(h),this.edges.push(h),o[r]=h,h}}},o.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},o.getEdge=function(t,n){t instanceof e&&(t=t.id),n instanceof e&&(n=n.id);var d=this._edgesMap;return this._directed?d[t+"-"+n]:d[t+"-"+n]||d[n+"-"+t]},o.eachNode=function(t,e){for(var n=this.nodes,d=n.length,i=0;i<d;i++)n[i].dataIndex>=0&&t.call(e,n[i],i)},o.eachEdge=function(t,e){for(var n=this.edges,d=n.length,i=0;i<d;i++)n[i].dataIndex>=0&&n[i].node1.dataIndex>=0&&n[i].node2.dataIndex>=0&&t.call(e,n[i],i)},o.breadthFirstTraverse=function(n,d,i,a){if(d instanceof e||(d=this._nodesMap[t(d)]),d){for(var s="out"===i?"outEdges":"in"===i?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!n.call(a,d,null))for(var r=[d];r.length;){var h=r.shift(),u=h[s];for(o=0;o<u.length;o++){var g=u[o],f=g.node1===h?g.node2:g.node1;if(!f.__visited){if(n.call(a,f,h))return;r.push(f),f.__visited=!0}}}}},o.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,d=this.edges,i=0,a=n.length;i<a;i++)n[i].dataIndex=-1;for(i=0,a=t.count();i<a;i++)n[t.getRawIndex(i)].dataIndex=i;e.filterSelf(function(t){var n=d[e.getRawIndex(t)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0});for(i=0,a=d.length;i<a;i++)d[i].dataIndex=-1;for(i=0,a=e.count();i<a;i++)d[e.getRawIndex(i)].dataIndex=i},o.clone=function(){for(var t=new s(this._directed),e=this.nodes,n=this.edges,d=0;d<e.length;d++)t.addNode(e[d].id,e[d].dataIndex);for(d=0;d<n.length;d++){var i=n[d];t.addEdge(i.node1.id,i.node2.id,i.dataIndex)}return t},e.prototype={constructor:e,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(t){if(!(this.dataIndex<0)){return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)}}},n.prototype.getModel=function(t){if(!(this.dataIndex<0)){return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)}};var r=function(t,e){return{getValue:function(n){var d=this[t][e];return d.get(d.getDimension(n||"value"),this.dataIndex)},setVisual:function(n,d){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,n,d)},getVisual:function(n,d){return this[t][e].getItemVisual(this.dataIndex,n,d)},setLayout:function(n,d){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,n,d)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}};a.mixin(e,r("hostGraph","data")),a.mixin(n,r("hostGraph","edgeData")),s.Node=e,s.Edge=n;var h=s;module.exports=h;
},{"../config":116,"zrender/lib/core/util":113}],394:[function(require,module,exports) {
function e(e,s,u,l,c){for(var v=new t(l),p=0;p<e.length;p++)v.addNode(r.retrieve(e[p].id,e[p].name,p),p);var g=[],m=[],h=0;for(p=0;p<s.length;p++){var q=s[p],D=q.source,f=q.target;v.addEdge(D,f,h)&&(m.push(q),g.push(r.retrieve(q.id,D+" > "+f)),h++)}var w,y=u.get("coordinateSystem");if("cartesian2d"===y||"polar"===y)w=o(e,u,u.ecModel);else{var A=n.get(y),L=d((A&&"view"!==A.type?A.dimensions||[]:[]).concat(["value"]),e);(w=new a(L,u)).initData(e)}var S=new a(["value"],u);return S.initData(m,g),c&&c(w,S),i({mainData:w,struct:v,structAttr:"graph",datas:{node:w,edge:S},datasAttr:{node:"data",edge:"edgeData"}}),v.update(),v}var r=require("zrender/lib/core/util"),a=require("../../data/List"),t=require("../../data/Graph"),i=require("../../data/helper/linkList"),d=require("../../data/helper/completeDimensions"),n=require("../../CoordinateSystem"),o=require("./createListFromArray");module.exports=e;
},{"zrender/lib/core/util":113,"../../data/List":63,"../../data/helper/completeDimensions":194,"../../CoordinateSystem":197,"../../data/Graph":452,"../../data/helper/linkList":412,"./createListFromArray":119}],224:[function(require,module,exports) {
var e=require("../../echarts"),t=require("../../data/List"),a=require("zrender/lib/core/util"),i=require("../../util/model"),n=i.defaultEmphasis,o=require("../../model/Model"),r=require("../../util/format"),l=r.encodeHTML,s=require("../helper/createGraphFromNodeEdge"),u=e.extendSeriesModel({type:"series.graph",init:function(e){u.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},mergeOption:function(e){u.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(e){u.superApply(this,"mergeDefaultAndTheme",arguments),n(e.edgeLabel,["show"])},getInitialData:function(e,t){function a(e,a){function i(e){return(e=this.parsePath(e))&&"label"===e[0]?l:this.parentModel}e.wrapMethod("getItemModel",function(e){var t=r._categoriesModels[e.getShallow("category")];return t&&(t.parentModel=e.parentModel,e.parentModel=t),e});var n=r.getModel("edgeLabel"),l=new o({label:n.option},n.parentModel,t);a.wrapMethod("getItemModel",function(e){return e.customizeGetParent(i),e})}var i=e.edges||e.links||[],n=e.data||e.nodes||[],r=this;if(n&&i)return s(n,i,this,!0,a).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(e,t,a){if("edge"===a){var i=this.getData(),n=this.getDataParams(e,a),o=i.graph.getEdgeByIndex(e),r=i.getName(o.node1.dataIndex),s=i.getName(o.node2.dataIndex),d=[];return null!=r&&d.push(r),null!=s&&d.push(s),d=l(d.join(" > ")),n.value&&(d+=" : "+l(n.value)),d}return u.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var e=a.map(this.option.categories||[],function(e){return null!=e.value?e:a.extend({value:0},e)}),i=new t(["value"],this);i.initData(e),this._categoriesData=i,this._categoriesModels=i.mapArray(function(e){return i.getItemModel(e,!0)})},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},isAnimationEnabled:function(){return u.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{normal:{position:"middle"},emphasis:{}},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{normal:{show:!1,formatter:"{b}"},emphasis:{show:!0}},itemStyle:{normal:{},emphasis:{}},lineStyle:{normal:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{}}}}),d=u;module.exports=d;
},{"../../echarts":14,"zrender/lib/core/util":113,"../../data/List":63,"../../util/model":125,"../../model/Model":64,"../../util/format":61,"../helper/createGraphFromNodeEdge":394}],453:[function(require,module,exports) {
function t(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var e=require("../../util/graphic"),n=require("zrender/lib/core/vector"),i=e.Line.prototype,r=e.BezierCurve.prototype,l=e.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(e,n){(t(n)?i:r).buildPath(e,n)},pointAt:function(e){return t(this.shape)?i.pointAt.call(this,e):r.pointAt.call(this,e)},tangentAt:function(e){var i=this.shape,l=t(i)?[i.x2-i.x1,i.y2-i.y1]:r.tangentAt.call(this,e);return n.normalize(l,l)}});module.exports=l;
},{"../../util/graphic":59,"zrender/lib/core/vector":112}],396:[function(require,module,exports) {
function t(t){return"_"+t+"Type"}function e(t,e,i){var a=e.getItemVisual(i,"color"),o=e.getItemVisual(i,t),l=e.getItemVisual(i,t+"Size");if(o&&"none"!==o){r.isArray(l)||(l=[l,l]);var n=s.createSymbol(o,-l[0]/2,-l[1]/2,l[0],l[1],a);return n.name=t,n}}function i(t){var e=new h({name:"line"});return a(e.shape,t),e}function a(t,e){var i=e[0],a=e[1],o=e[2];t.x1=i[0],t.y1=i[1],t.x2=a[0],t.y2=a[1],t.percent=1,o?(t.cpx1=o[0],t.cpy1=o[1]):(t.cpx1=NaN,t.cpy1=NaN)}function o(){var t=this.childOfName("fromSymbol"),e=this.childOfName("toSymbol"),i=this.childOfName("label");if(t||e||!i.ignore){for(var a=1,o=this.parent;o;)o.scale&&(a/=o.scale[0]),o=o.parent;var l=this.childOfName("line");if(this.__dirty||l.__dirty){var r=l.shape.percent,s=l.pointAt(0),h=l.pointAt(r),c=n.sub([],h,s);if(n.normalize(c,c),t){t.attr("position",s);var m=l.tangentAt(0);t.attr("rotation",Math.PI/2-Math.atan2(m[1],m[0])),t.attr("scale",[a*r,a*r])}if(e){e.attr("position",h);m=l.tangentAt(1);e.attr("rotation",-Math.PI/2-Math.atan2(m[1],m[0])),e.attr("scale",[a*r,a*r])}if(!i.ignore){i.attr("position",h);var u,p,d,f=5*a;if("end"===i.__position)u=[c[0]*f+h[0],c[1]*f+h[1]],p=c[0]>.8?"left":c[0]<-.8?"right":"center",d=c[1]>.8?"top":c[1]<-.8?"bottom":"middle";else if("middle"===i.__position){var g=r/2,y=[(m=l.tangentAt(g))[1],-m[0]],v=l.pointAt(g);y[1]>0&&(y[0]=-y[0],y[1]=-y[1]),u=[v[0]+y[0]*f,v[1]+y[1]*f],p="center",d="bottom";var S=-Math.atan2(m[1],m[0]);h[0]<s[0]&&(S=Math.PI+S),i.attr("rotation",S)}else u=[-c[0]*f+s[0],-c[1]*f+s[1]],p=c[0]>.8?"right":c[0]<-.8?"left":"center",d=c[1]>.8?"bottom":c[1]<-.8?"top":"middle";i.attr({style:{textVerticalAlign:i.__verticalAlign||d,textAlign:i.__textAlign||p},position:u,scale:[a,a]})}}}}function l(t,e,i){c.Group.call(this),this._createLine(t,e,i)}var r=require("zrender/lib/core/util"),n=require("zrender/lib/core/vector"),s=require("../../util/symbol"),h=require("./LinePath"),c=require("../../util/graphic"),m=require("../../util/number"),u=m.round,p=["fromSymbol","toSymbol"],d=l.prototype;d.beforeUpdate=o,d._createLine=function(a,o,l){var n=a.hostModel,s=i(a.getItemLayout(o));s.shape.percent=0,c.initProps(s,{shape:{percent:1}},n,o),this.add(s);var h=new c.Text({name:"label"});this.add(h),r.each(p,function(i){var l=e(i,a,o);this.add(l),this[t(i)]=a.getItemVisual(o,i)},this),this._updateCommonStl(a,o,l)},d.updateData=function(i,o,l){var n=i.hostModel,s=this.childOfName("line"),h=i.getItemLayout(o),m={shape:{}};a(m.shape,h),c.updateProps(s,m,n,o),r.each(p,function(a){var l=i.getItemVisual(o,a),r=t(a);if(this[r]!==l){this.remove(this.childOfName(a));var n=e(a,i,o);this.add(n)}this[r]=l},this),this._updateCommonStl(i,o,l)},d._updateCommonStl=function(t,e,i){var a=t.hostModel,o=this.childOfName("line"),l=i&&i.lineStyle,n=i&&i.hoverLineStyle,s=i&&i.labelModel,h=i&&i.hoverLabelModel;if(!i||t.hasItemOption){var m=t.getItemModel(e);l=m.getModel("lineStyle.normal").getLineStyle(),n=m.getModel("lineStyle.emphasis").getLineStyle(),s=m.getModel("label.normal"),h=m.getModel("label.emphasis")}var d=t.getItemVisual(e,"color"),f=r.retrieve3(t.getItemVisual(e,"opacity"),l.opacity,1);o.useStyle(r.defaults({strokeNoScale:!0,fill:"none",stroke:d,opacity:f},l)),o.hoverStyle=n,r.each(p,function(t){var e=this.childOfName(t);e&&(e.setColor(d),e.setStyle({opacity:f}))},this);var g,y,v,S,_=s.getShallow("show"),b=h.getShallow("show"),x=this.childOfName("label");if(_||b){var M=a.getRawValue(e);y=null==M?y=t.getName(e):isFinite(M)?u(M):M,g=d||"#000",v=r.retrieve2(a.getFormattedLabel(e,"normal",t.dataType),y),S=r.retrieve2(a.getFormattedLabel(e,"emphasis",t.dataType),v)}if(_){var N=c.setTextStyle(x.style,s,{text:v},{autoColor:g});x.__textAlign=N.textAlign,x.__verticalAlign=N.textVerticalAlign,x.__position=s.get("position")||"middle"}else x.setStyle("text",null);x.hoverStyle=b?{text:S,textFill:h.getTextColor(!0),fontStyle:h.getShallow("fontStyle"),fontWeight:h.getShallow("fontWeight"),fontSize:h.getShallow("fontSize"),fontFamily:h.getShallow("fontFamily")}:{text:null},x.ignore=!_&&!b,c.setHoverStyle(this)},d.highlight=function(){this.trigger("emphasis")},d.downplay=function(){this.trigger("normal")},d.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},d.setLinePoints=function(t){var e=this.childOfName("line");a(e.shape,t),e.dirty()},r.inherits(l,c.Group);var f=l;module.exports=f;
},{"zrender/lib/core/util":113,"../../util/symbol":193,"../../util/graphic":59,"../../util/number":60,"./LinePath":453,"zrender/lib/core/vector":112}],360:[function(require,module,exports) {
function e(e){return isNaN(e[0])||isNaN(e[1])}function t(t){return!e(t[0])&&!e(t[1])}function a(e){this._ctor=e||o,this.group=new i.Group}var i=require("../../util/graphic"),o=require("./Line"),l=a.prototype;l.updateData=function(e){var a=this._lineData,i=this.group,o=this._ctor,l=e.hostModel,n={lineStyle:l.getModel("lineStyle.normal").getLineStyle(),hoverLineStyle:l.getModel("lineStyle.emphasis").getLineStyle(),labelModel:l.getModel("label.normal"),hoverLabelModel:l.getModel("label.emphasis")};e.diff(a).add(function(a){if(t(e.getItemLayout(a))){var l=new o(e,a,n);e.setItemGraphicEl(a,l),i.add(l)}}).update(function(l,r){var u=a.getItemGraphicEl(r);t(e.getItemLayout(l))?(u?u.updateData(e,l,n):u=new o(e,l,n),e.setItemGraphicEl(l,u),i.add(u)):i.remove(u)}).remove(function(e){i.remove(a.getItemGraphicEl(e))}).execute(),this._lineData=e},l.updateLayout=function(){var e=this._lineData;e.eachItemGraphicEl(function(t,a){t.updateLayout(e,a)},this)},l.remove=function(){this.group.removeAll()};var n=a;module.exports=n;
},{"../../util/graphic":59,"./Line":396}],387:[function(require,module,exports) {
function o(o,e,r){for(var n,d=o[0],y=o[1],f=o[2],v=1/0,s=r*r,p=.1,b=.1;b<=.9;b+=.1){a[0]=l(d[0],y[0],f[0],b),a[1]=l(d[1],y[1],f[1],b);(m=t(u(a,e)-s))<v&&(v=m,n=b)}for(var g=0;g<32;g++){var _=n+p;i[0]=l(d[0],y[0],f[0],n),i[1]=l(d[1],y[1],f[1],n),c[0]=l(d[0],y[0],f[0],_),c[1]=l(d[1],y[1],f[1],_);var m=u(i,e)-s;if(t(m)<.01)break;var A=u(c,e)-s;p/=2,m<0?A>=0?n+=p:n-=p:A>=0?n-=p:n+=p}return n}function e(e,a){function i(o){var e=o.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),e}var c=[],l=r.quadraticSubdivide,u=[[],[],[]],t=[[],[]],d=[];a/=2,e.eachEdge(function(e,r){var y=e.getLayout(),f=e.getVisual("fromSymbol"),v=e.getVisual("toSymbol");y.__original||(y.__original=[n.clone(y[0]),n.clone(y[1])],y[2]&&y.__original.push(n.clone(y[2])));var s=y.__original;if(null!=y[2]){if(n.copy(u[0],s[0]),n.copy(u[1],s[2]),n.copy(u[2],s[1]),f&&"none"!=f){var p=i(e.node1),b=o(u,s[0],p*a);l(u[0][0],u[1][0],u[2][0],b,c),u[0][0]=c[3],u[1][0]=c[4],l(u[0][1],u[1][1],u[2][1],b,c),u[0][1]=c[3],u[1][1]=c[4]}if(v&&"none"!=v){p=i(e.node2),b=o(u,s[1],p*a);l(u[0][0],u[1][0],u[2][0],b,c),u[1][0]=c[1],u[2][0]=c[2],l(u[0][1],u[1][1],u[2][1],b,c),u[1][1]=c[1],u[2][1]=c[2]}n.copy(y[0],u[0]),n.copy(y[1],u[2]),n.copy(y[2],u[1])}else{if(n.copy(t[0],s[0]),n.copy(t[1],s[1]),n.sub(d,t[1],t[0]),n.normalize(d,d),f&&"none"!=f){p=i(e.node1);n.scaleAndAdd(t[0],t[0],d,p*a)}if(v&&"none"!=v){p=i(e.node2);n.scaleAndAdd(t[1],t[1],d,-p*a)}n.copy(y[0],t[0]),n.copy(y[1],t[1])}})}var r=require("zrender/lib/core/curve"),n=require("zrender/lib/core/vector"),a=[],i=[],c=[],l=r.quadraticAt,u=n.distSquare,t=Math.abs;module.exports=e;
},{"zrender/lib/core/vector":112,"zrender/lib/core/curve":415}],225:[function(require,module,exports) {
function e(e,t){return e.getVisual("opacity")||e.getModel().get(t)}function t(t,o,a){var n=t.getGraphicEl(),i=e(t,o);null!=a&&(null==i&&(i=1),i*=a),n.downplay&&n.downplay(),n.traverse(function(e){"group"!==e.type&&e.setStyle("opacity",i)})}function o(t,o){var a=e(t,o),n=t.getGraphicEl();n.highlight&&n.highlight(),n.traverse(function(e){"group"!==e.type&&e.setStyle("opacity",a)})}var a=require("../../echarts"),n=require("zrender/lib/core/util"),i=require("../helper/SymbolDraw"),r=require("../helper/LineDraw"),c=require("../../component/helper/RoamController"),d=require("../../component/helper/roamHelper"),s=require("../../component/helper/cursorHelper"),u=s.onIrrelevantElement,l=require("../../util/graphic"),h=require("./adjustEdge"),p=["itemStyle","normal","opacity"],g=["lineStyle","normal","opacity"],f=a.extendChartView({type:"graph",init:function(e,t){var o=new i,a=new r,n=this.group;this._controller=new c(t.getZr()),this._controllerHost={target:n},n.add(o.group),n.add(a.group),this._symbolDraw=o,this._lineDraw=a,this._firstRender=!0},render:function(e,t,o){var a=e.coordinateSystem;this._model=e,this._nodeScaleRatio=e.get("nodeScaleRatio");var n=this._symbolDraw,i=this._lineDraw,r=this.group;if("view"===a.type){var c={position:a.position,scale:a.scale};this._firstRender?r.attr(c):l.updateProps(r,c,e)}h(e.getGraph(),this._getNodeGlobalScale(e));var d=e.getData();n.updateData(d);var s=e.getEdgeData();i.updateData(s),this._updateNodeAndLinkScale(),this._updateController(e,t,o),clearTimeout(this._layoutTimeout);var u=e.forceLayout,p=e.get("force.layoutAnimation");u&&this._startForceLayoutIteration(u,p),d.eachItemGraphicEl(function(t,a){var n=d.getItemModel(a);t.off("drag").off("dragend");var i=d.getItemModel(a).get("draggable");i&&t.on("drag",function(){u&&(u.warmUp(),!this._layouting&&this._startForceLayoutIteration(u,p),u.setFixed(a),d.setItemLayout(a,t.position))},this).on("dragend",function(){u&&u.setUnfixed(a)},this),t.setDraggable(i&&u),t.off("mouseover",t.__focusNodeAdjacency),t.off("mouseout",t.__unfocusNodeAdjacency),n.get("focusNodeAdjacency")&&(t.on("mouseover",t.__focusNodeAdjacency=function(){o.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,dataIndex:t.dataIndex})}),t.on("mouseout",t.__unfocusNodeAdjacency=function(){o.dispatchAction({type:"unfocusNodeAdjacency",seriesId:e.id})}))},this),d.graph.eachEdge(function(t){var a=t.getGraphicEl();a.off("mouseover",a.__focusNodeAdjacency),a.off("mouseout",a.__unfocusNodeAdjacency),t.getModel().get("focusNodeAdjacency")&&(a.on("mouseover",a.__focusNodeAdjacency=function(){o.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,edgeDataIndex:t.dataIndex})}),a.on("mouseout",a.__unfocusNodeAdjacency=function(){o.dispatchAction({type:"unfocusNodeAdjacency",seriesId:e.id})}))});var g="circular"===e.get("layout")&&e.get("circular.rotateLabel"),f=d.getLayout("cx"),y=d.getLayout("cy");d.eachItemGraphicEl(function(e,t){var o=e.getSymbolPath();if(g){var a=d.getItemLayout(t),n=Math.atan2(a[1]-y,a[0]-f);n<0&&(n=2*Math.PI+n);var i=a[0]<f;i&&(n-=Math.PI);var r=i?"left":"right";o.setStyle({textRotation:-n,textPosition:r,textOrigin:"center"}),o.hoverStyle&&(o.hoverStyle.textPosition=r)}else o.setStyle({textRotation:0})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},focusNodeAdjacency:function(e,a,i,r){var c=this._model.getData().graph,d=r.dataIndex,s=r.edgeDataIndex,u=c.getNodeByIndex(d),l=c.getEdgeByIndex(s);(u||l)&&(c.eachNode(function(e){t(e,p,.1)}),c.eachEdge(function(e){t(e,g,.1)}),u&&(o(u,p),n.each(u.edges,function(e){e.dataIndex<0||(o(e,g),o(e.node1,p),o(e.node2,p))})),l&&(o(l,g),o(l.node1,p),o(l.node2,p)))},unfocusNodeAdjacency:function(e,o,a,n){var i=this._model.getData().graph;i.eachNode(function(e){t(e,p)}),i.eachEdge(function(e){t(e,g)})},_startForceLayoutIteration:function(e,t){var o=this;!function a(){e.step(function(e){o.updateLayout(o._model),(o._layouting=!e)&&(t?o._layoutTimeout=setTimeout(a,16):a())})}()},_updateController:function(e,t,o){var a=this._controller,n=this._controllerHost,i=this.group;a.setPointerChecker(function(t,a,n){var r=i.getBoundingRect();return r.applyTransform(i.transform),r.contain(a,n)&&!u(t,o,e)}),"view"===e.coordinateSystem.type?(a.enable(e.get("roam")),n.zoomLimit=e.get("scaleLimit"),n.zoom=e.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(t,a){d.updateViewOnPan(n,t,a),o.dispatchAction({seriesId:e.id,type:"graphRoam",dx:t,dy:a})}).on("zoom",function(t,a,i){d.updateViewOnZoom(n,t,a,i),o.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:t,originX:a,originY:i}),this._updateNodeAndLinkScale(),h(e.getGraph(),this._getNodeGlobalScale(e)),this._lineDraw.updateLayout()},this)):a.disable()},_updateNodeAndLinkScale:function(){var e=this._model,t=e.getData(),o=this._getNodeGlobalScale(e),a=[o,o];t.eachItemGraphicEl(function(e,t){e.attr("scale",a)})},_getNodeGlobalScale:function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var o=this._nodeScaleRatio,a=t.scale,n=a&&a[0]||1;return((t.getZoom()-1)*o+1)/n},updateLayout:function(e){h(e.getGraph(),this._getNodeGlobalScale(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}});module.exports=f;
},{"../../echarts":14,"../../util/graphic":59,"../helper/SymbolDraw":260,"../helper/LineDraw":360,"../../component/helper/roamHelper":385,"../../component/helper/RoamController":295,"../../component/helper/cursorHelper":386,"./adjustEdge":387,"zrender/lib/core/util":113}],226:[function(require,module,exports) {
var e=require("../../echarts"),o=require("../../action/roamHelper"),n=o.updateCenterAndZoom,t={type:"graphRoam",event:"graphRoam",update:"none"};e.registerAction(t,function(e,o){o.eachComponent({mainType:"series",query:e},function(o){var t=o.coordinateSystem,c=n(t,e);o.setCenter&&o.setCenter(c.center),o.setZoom&&o.setZoom(c.zoom)})}),e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series.graph:focusNodeAdjacency"},function(){}),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series.graph:unfocusNodeAdjacency"},function(){});
},{"../../echarts":14,"../../action/roamHelper":299}],227:[function(require,module,exports) {
function e(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.eachSeriesByType("graph",function(e){var r=e.getCategoriesData(),a=e.getGraph().data,n=r.mapArray(r.getName);a.filterSelf(function(e){var r=a.getItemModel(e).getShallow("category");if(null!=r){"number"==typeof r&&(r=n[r]);for(var o=0;o<t.length;o++)if(!t[o].isSelected(r))return!1}return!0})},this)}module.exports=e;
},{}],228:[function(require,module,exports) {
function e(e){var t={};e.eachSeriesByType("graph",function(e){var o=e.getCategoriesData(),a=e.getData(),l={};o.each(function(a){var r=o.getName(a);l["ec-"+r]=a;var c=o.getItemModel(a).get("itemStyle.normal.color")||e.getColorFromPalette(r,t);o.setItemVisual(a,"color",c)}),o.count()&&a.each(function(e){var t=a.getItemModel(e).getShallow("category");null!=t&&("string"==typeof t&&(t=l["ec-"+t]),a.getItemVisual(e,"color",!0)||a.setItemVisual(e,"color",o.getItemVisual(t,"color")))})})}module.exports=e;
},{}],229:[function(require,module,exports) {
function e(e){return e instanceof Array||(e=[e,e]),e}function t(t){t.eachSeriesByType("graph",function(t){var o=t.getGraph(),l=t.getEdgeData(),s=e(t.get("edgeSymbol")),a=e(t.get("edgeSymbolSize")),i="lineStyle.normal.color".split("."),r="lineStyle.normal.opacity".split(".");l.setVisual("fromSymbol",s&&s[0]),l.setVisual("toSymbol",s&&s[1]),l.setVisual("fromSymbolSize",a&&a[0]),l.setVisual("toSymbolSize",a&&a[1]),l.setVisual("color",t.get(i)),l.setVisual("opacity",t.get(r)),l.each(function(t){var s=l.getItemModel(t),a=o.getEdgeByIndex(t),u=e(s.getShallow("symbol",!0)),y=e(s.getShallow("symbolSize",!0)),S=s.get(i),g=s.get(r);switch(S){case"source":S=a.node1.getVisual("color");break;case"target":S=a.node2.getVisual("color")}u[0]&&a.setVisual("fromSymbol",u[0]),u[1]&&a.setVisual("toSymbol",u[1]),y[0]&&a.setVisual("fromSymbolSize",y[0]),y[1]&&a.setVisual("toSymbolSize",y[1]),a.setVisual("color",S),a.setVisual("opacity",g)})})}module.exports=t;
},{}],388:[function(require,module,exports) {
function e(e){var o=e.coordinateSystem;if(!o||"view"===o.type){var n=e.getGraph();n.eachNode(function(e){var t=e.getModel();e.setLayout([+t.get("x"),+t.get("y")])}),t(n)}}function t(e){e.eachEdge(function(e){var t=e.getModel().get("lineStyle.normal.curveness")||0,n=o.clone(e.node1.getLayout()),r=o.clone(e.node2.getLayout()),a=[n,r];+t&&a.push([(n[0]+r[0])/2-(n[1]-r[1])*t,(n[1]+r[1])/2-(r[0]-n[0])*t]),e.setLayout(a)})}var o=require("zrender/lib/core/vector");exports.simpleLayout=e,exports.simpleLayoutEdge=t;
},{"zrender/lib/core/vector":112}],230:[function(require,module,exports) {
function e(e,t){e.eachSeriesByType("graph",function(e){var t=e.get("layout"),i=e.coordinateSystem;if(i&&"view"!==i.type){var n=e.getData(),r=i.dimensions;n.each(r,function(){for(var e,t=arguments,a=[],o=0;o<r.length;o++)isNaN(t[o])||(e=!0),a.push(t[o]);var s=t[t.length-1];e?n.setItemLayout(s,i.dataToPoint(a)):n.setItemLayout(s,[NaN,NaN])}),o(n.graph)}else t&&"none"!==t||a(e)})}var t=require("./simpleLayoutHelper"),a=t.simpleLayout,o=t.simpleLayoutEdge;module.exports=e;
},{"./simpleLayoutHelper":388}],389:[function(require,module,exports) {
function e(e){var a=e.coordinateSystem;if(!a||"view"===a.type){var o=a.getBoundingRect(),n=e.getData(),c=n.graph,r=0,u=n.getSum("value"),i=2*Math.PI/(u||n.count()),g=o.width/2+o.x,h=o.height/2+o.y,l=Math.min(o.width,o.height)/2;c.eachNode(function(e){var t=e.getValue("value");r+=i*(u?t:1)/2,e.setLayout([l*Math.cos(r)+g,l*Math.sin(r)+h]),r+=i*(u?t:1)/2}),n.setLayout({cx:g,cy:h}),c.eachEdge(function(e){var a,o=e.getModel().get("lineStyle.normal.curveness")||0,n=t.clone(e.node1.getLayout()),c=t.clone(e.node2.getLayout()),r=(n[0]+c[0])/2,u=(n[1]+c[1])/2;+o&&(a=[g*(o*=3)+r*(1-o),h*o+u*(1-o)]),e.setLayout([n,c,a])})}}var t=require("zrender/lib/core/vector");exports.circularLayout=e;
},{"zrender/lib/core/vector":112}],231:[function(require,module,exports) {
function r(r){r.eachSeriesByType("graph",function(r){"circular"===r.get("layout")&&u(r)})}var e=require("./circularLayoutHelper"),u=e.circularLayout;module.exports=r;
},{"./circularLayoutHelper":389}],232:[function(require,module,exports) {
function e(e,t,r){var i=e.getBoxLayoutParams();return i.aspect=r,o(i,{width:t.getWidth(),height:t.getHeight()})}function t(t,i){var o=[];return t.eachSeriesByType("graph",function(t){var n=t.get("coordinateSystem");if(!n||"view"===n){var g=t.getData(),u=g.mapArray(function(e){var t=g.getItemModel(e);return[+t.get("x"),+t.get("y")]}),c=[],h=[];a.fromPoints(u,c,h),h[0]-c[0]==0&&(h[0]+=1,c[0]-=1),h[1]-c[1]==0&&(h[1]+=1,c[1]-=1);var s=(h[0]-c[0])/(h[1]-c[1]),m=e(t,i,s);isNaN(s)&&(c=[m.x,m.y],h=[m.x+m.width,m.y+m.height]);var y=h[0]-c[0],d=h[1]-c[1],v=m.width,w=m.height,x=t.coordinateSystem=new r;x.zoomLimit=t.get("scaleLimit"),x.setBoundingRect(c[0],c[1],y,d),x.setViewRect(m.x,m.y,v,w),x.setCenter(t.get("center")),x.setZoom(t.get("zoom")),o.push(x)}}),o}var r=require("../../coord/View"),i=require("../../util/layout"),o=i.getLayoutRect,a=require("zrender/lib/core/bbox");module.exports=t;
},{"../../coord/View":390,"../../util/layout":126,"zrender/lib/core/bbox":391}],392:[function(require,module,exports) {
function e(e,n,a){for(var t=a.rect,i=t.width,o=t.height,d=[t.x+i/2,t.y+o/2],f=null==a.gravity?.1:a.gravity,u=0;u<e.length;u++){var v=e[u];v.p||(v.p=r.create(i*(Math.random()-.5)+d[0],o*(Math.random()-.5)+d[1])),v.pp=r.clone(v.p),v.edges=null}var c=.6;return{warmUp:function(){c=.5},setFixed:function(r){e[r].fixed=!0},setUnfixed:function(r){e[r].fixed=!1},step:function(a){for(var t=[],i=e.length,o=0;o<n.length;o++){var u=n[o],v=u.n1,l=u.n2;r.sub(t,l.p,v.p);var s=r.len(t)-u.d,x=l.w/(v.w+l.w);isNaN(x)&&(x=0),r.normalize(t,t),!v.fixed&&p(v.p,v.p,t,x*s*c),!l.fixed&&p(l.p,l.p,t,-(1-x)*s*c)}for(o=0;o<i;o++){(b=e[o]).fixed||(r.sub(t,d,b.p),p(b.p,b.p,t,f*c))}for(o=0;o<i;o++){v=e[o];for(var h=o+1;h<i;h++){l=e[h];r.sub(t,l.p,v.p);0===(s=r.len(t))&&(r.set(t,Math.random()-.5,Math.random()-.5),s=1);var g=(v.rep+l.rep)/s/s;!v.fixed&&p(v.pp,v.pp,t,g),!l.fixed&&p(l.pp,l.pp,t,-g)}}var m=[];for(o=0;o<i;o++){var b;(b=e[o]).fixed||(r.sub(m,b.p,b.pp),p(b.p,b.p,m,c),r.copy(b.pp,b.p))}c*=.992,a&&a(e,n,c<.01)}}}var r=require("zrender/lib/core/vector"),p=r.scaleAndAdd;exports.forceLayout=e;
},{"zrender/lib/core/vector":112}],233:[function(require,module,exports) {
function e(e){e.eachSeriesByType("graph",function(e){if(!(L=e.coordinateSystem)||"view"===L.type)if("force"===e.get("layout")){var t=e.preservedPoints||{},a=e.getGraph(),o=a.data,u=a.edgeData,g=e.getModel("force"),l=g.get("initLayout");e.preservedPoints?o.each(function(e){var r=o.getId(e);o.setItemLayout(e,t[r]||[NaN,NaN])}):l&&"none"!==l?"circular"===l&&i(e):n(e);var y=o.getDataExtent("value"),p=u.getDataExtent("value"),v=g.get("repulsion"),f=g.get("edgeLength");d.isArray(v)||(v=[v,v]),d.isArray(f)||(f=[f,f]),f=[f[1],f[0]];var L,N=o.mapArray("value",function(e,t){var r=o.getItemLayout(t),a=c(e,y,v);return isNaN(a)&&(a=(v[0]+v[1])/2),{w:a,rep:a,fixed:o.getItemModel(t).get("fixed"),p:!r||isNaN(r[0])||isNaN(r[1])?null:r}}),x=u.mapArray("value",function(e,t){var r=a.getEdgeByIndex(t),n=c(e,p,f);return isNaN(n)&&(n=(f[0]+f[1])/2),{n1:N[r.node1.dataIndex],n2:N[r.node2.dataIndex],d:n,curveness:r.getModel().get("lineStyle.normal.curveness")||0}}),m=(L=e.coordinateSystem).getBoundingRect(),I=r(N,x,{rect:m,gravity:g.get("gravity")}),h=I.step;I.step=function(e){for(var r=0,n=N.length;r<n;r++)N[r].fixed&&s.copy(N[r].p,a.getNodeByIndex(r).getLayout());h(function(r,n,i){for(var u=0,c=r.length;u<c;u++)r[u].fixed||a.getNodeByIndex(u).setLayout(r[u].p),t[o.getId(u)]=r[u].p;for(u=0,c=n.length;u<c;u++){var d=n[u],g=a.getEdgeByIndex(u),l=d.n1.p,y=d.n2.p,p=g.getLayout();(p=p?p.slice():[])[0]=p[0]||[],p[1]=p[1]||[],s.copy(p[0],l),s.copy(p[1],y),+d.curveness&&(p[2]=[(l[0]+y[0])/2-(l[1]-y[1])*d.curveness,(l[1]+y[1])/2-(y[0]-l[0])*d.curveness]),g.setLayout(p)}e&&e(i)})},e.forceLayout=I,e.preservedPoints=t,I.step()}else e.forceLayout=null})}var t=require("./forceHelper"),r=t.forceLayout,a=require("./simpleLayoutHelper"),n=a.simpleLayout,o=require("./circularLayoutHelper"),i=o.circularLayout,u=require("../../util/number"),c=u.linearMap,s=require("zrender/lib/core/vector"),d=require("zrender/lib/core/util");module.exports=e;
},{"./simpleLayoutHelper":388,"./circularLayoutHelper":389,"zrender/lib/core/util":113,"../../util/number":60,"./forceHelper":392,"zrender/lib/core/vector":112}],24:[function(require,module,exports) {
var r=require("../echarts"),e=require("zrender/lib/core/util");require("./graph/GraphSeries"),require("./graph/GraphView"),require("./graph/graphAction");var i=require("./graph/categoryFilter"),a=require("../visual/symbol"),u=require("./graph/categoryVisual"),g=require("./graph/edgeVisual"),t=require("./graph/simpleLayout"),s=require("./graph/circularLayout"),h=require("./graph/forceLayout"),o=require("./graph/createView");r.registerProcessor(i),r.registerVisual(e.curry(a,"graph","circle",null)),r.registerVisual(u),r.registerVisual(g),r.registerLayout(t),r.registerLayout(s),r.registerLayout(h),r.registerCoordinateSystem("graphView",{create:o});
},{"../echarts":14,"zrender/lib/core/util":113,"../visual/symbol":72,"./graph/GraphSeries":224,"./graph/GraphView":225,"./graph/graphAction":226,"./graph/categoryFilter":227,"./graph/categoryVisual":228,"./graph/edgeVisual":229,"./graph/simpleLayout":230,"./graph/circularLayout":231,"./graph/createView":232,"./graph/forceLayout":233}],90:[function(require,module,exports) {
var e=require("../../data/List"),t=require("../../model/Series"),i=require("zrender/lib/core/util"),o=t.extend({type:"series.gauge",getInitialData:function(t,o){var l=new e(["value"],this),r=t.data||[];return i.isArray(r)||(r=[r]),l.initData(r),l},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{normal:{color:"auto"}},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}}),l=o;module.exports=l;
},{"../../data/List":63,"../../model/Series":202,"zrender/lib/core/util":113}],300:[function(require,module,exports) {
var e=require("zrender/lib/graphic/Path"),a=e.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(e,a){var n=Math.cos,i=Math.sin,t=a.r,l=a.width,r=a.angle,o=a.x-n(r)*l*(l>=t/3?1:2),h=a.y-i(r)*l*(l>=t/3?1:2);r=a.angle-Math.PI/2,e.moveTo(o,h),e.lineTo(a.x+n(r)*l,a.y+i(r)*l),e.lineTo(a.x+n(a.angle)*t,a.y+i(a.angle)*t),e.lineTo(a.x-n(r)*l,a.y-i(r)*l),e.lineTo(o,h)}});module.exports=a;
},{"zrender/lib/graphic/Path":263}],91:[function(require,module,exports) {
function e(e,t){var r=e.get("center"),i=t.getWidth(),l=t.getHeight(),n=Math.min(i,l);return{cx:a(r[0],t.getWidth()),cy:a(r[1],t.getHeight()),r:a(e.get("radius"),n/2)}}function t(e,t){return t&&("string"==typeof t?e=t.replace("{value}",null!=e?e:""):"function"==typeof t&&(e=t(e))),e}var r=require("./PointerPath"),i=require("../../util/graphic"),l=require("../../view/Chart"),n=require("../../util/number"),a=n.parsePercent,o=n.round,g=n.linearMap,s=2*Math.PI,d=l.extend({type:"gauge",render:function(t,r,i){this.group.removeAll();var l=t.get("axisLine.lineStyle.color"),n=e(t,i);this._renderMain(t,r,i,l,n)},dispose:function(){},_renderMain:function(e,t,r,l,n){for(var a=this.group,o=e.getModel("axisLine").getModel("lineStyle"),g=e.get("clockwise"),d=-e.get("startAngle")/180*Math.PI,h=((y=-e.get("endAngle")/180*Math.PI)-d)%s,c=d,u=o.get("width"),f=0;f<l.length;f++){var y=d+h*Math.min(Math.max(l[f][0],0),1),x=new i.Sector({shape:{startAngle:c,endAngle:y,cx:n.cx,cy:n.cy,clockwise:g,r0:n.r-u,r:n.r},silent:!0});x.setStyle({fill:l[f][1]}),x.setStyle(o.getLineStyle(["color","borderWidth","borderColor"])),a.add(x),c=y}var m=function(e){if(e<=0)return l[0][1];for(var t=0;t<l.length;t++)if(l[t][0]>=e&&(0===t?0:l[t-1][0])<e)return l[t][1];return l[t-1][1]};if(!g){var p=d;d=y,y=p}this._renderTicks(e,t,r,m,n,d,y,g),this._renderPointer(e,t,r,m,n,d,y,g),this._renderTitle(e,t,r,m,n),this._renderDetail(e,t,r,m,n)},_renderTicks:function(e,r,l,n,g,s,d,h){for(var c=this.group,u=g.cx,f=g.cy,y=g.r,x=+e.get("min"),m=+e.get("max"),p=e.getModel("splitLine"),v=e.getModel("axisTick"),M=e.getModel("axisLabel"),S=e.get("splitNumber"),w=v.get("splitNumber"),I=a(p.get("length"),y),_=a(v.get("length"),y),A=s,T=(d-s)/S,P=T/w,k=p.getModel("lineStyle").getLineStyle(),L=v.getModel("lineStyle").getLineStyle(),b=0;b<=S;b++){var C=Math.cos(A),N=Math.sin(A);if(p.get("show")){var D=new i.Line({shape:{x1:C*y+u,y1:N*y+f,x2:C*(y-I)+u,y2:N*(y-I)+f},style:k,silent:!0});"auto"===k.stroke&&D.setStyle({stroke:n(b/S)}),c.add(D)}if(M.get("show")){var E=t(o(b/S*(m-x)+x),M.get("formatter")),G=M.get("distance"),q=n(b/S);c.add(new i.Text({style:i.setTextStyle({},M,{text:E,x:C*(y-I-G)+u,y:N*(y-I-G)+f,textVerticalAlign:N<-.4?"top":N>.4?"bottom":"middle",textAlign:C<-.4?"left":C>.4?"right":"center"},{autoColor:q}),silent:!0}))}if(v.get("show")&&b!==S){for(var H=0;H<=w;H++){C=Math.cos(A),N=Math.sin(A);var W=new i.Line({shape:{x1:C*y+u,y1:N*y+f,x2:C*(y-_)+u,y2:N*(y-_)+f},silent:!0,style:L});"auto"===L.stroke&&W.setStyle({stroke:n((b+H/w)/S)}),c.add(W),A+=P}A-=P}else A+=T}},_renderPointer:function(e,t,l,n,o,s,d,h){var c=this.group,u=this._data;if(e.get("pointer.show")){var f=[+e.get("min"),+e.get("max")],y=[s,d],x=e.getData();x.diff(u).add(function(t){var l=new r({shape:{angle:s}});i.initProps(l,{shape:{angle:g(x.get("value",t),f,y,!0)}},e),c.add(l),x.setItemGraphicEl(t,l)}).update(function(t,r){var l=u.getItemGraphicEl(r);i.updateProps(l,{shape:{angle:g(x.get("value",t),f,y,!0)}},e),c.add(l),x.setItemGraphicEl(t,l)}).remove(function(e){var t=u.getItemGraphicEl(e);c.remove(t)}).execute(),x.eachItemGraphicEl(function(e,t){var r=x.getItemModel(t),l=r.getModel("pointer");e.setShape({x:o.cx,y:o.cy,width:a(l.get("width"),o.r),r:a(l.get("length"),o.r)}),e.useStyle(r.getModel("itemStyle.normal").getItemStyle()),"auto"===e.style.fill&&e.setStyle("fill",n(g(x.get("value",t),f,[0,1],!0))),i.setHoverStyle(e,r.getModel("itemStyle.emphasis").getItemStyle())}),this._data=x}else u&&u.eachItemGraphicEl(function(e){c.remove(e)})},_renderTitle:function(e,t,r,l,n){var o=e.getModel("title");if(o.get("show")){var s=o.get("offsetCenter"),d=n.cx+a(s[0],n.r),h=n.cy+a(s[1],n.r),c=+e.get("min"),u=+e.get("max"),f=e.getData().get("value",0),y=l(g(f,[c,u],[0,1],!0));this.group.add(new i.Text({silent:!0,style:i.setTextStyle({},o,{x:d,y:h,text:e.getData().getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:y,forceRich:!0})}))}},_renderDetail:function(e,r,l,n,o){var s=e.getModel("detail"),d=+e.get("min"),h=+e.get("max");if(s.get("show")){var c=s.get("offsetCenter"),u=o.cx+a(c[0],o.r),f=o.cy+a(c[1],o.r),y=a(s.get("width"),o.r),x=a(s.get("height"),o.r),m=e.getData().get("value",0),p=n(g(m,[d,h],[0,1],!0));this.group.add(new i.Text({silent:!0,style:i.setTextStyle({},s,{x:u,y:f,text:t(m,s.get("formatter")),textWidth:isNaN(y)?null:y,textHeight:isNaN(x)?null:x,textAlign:"center",textVerticalAlign:"middle"},{autoColor:p,forceRich:!0})}))}}}),h=d;module.exports=h;
},{"../../util/graphic":59,"../../view/Chart":204,"../../util/number":60,"./PointerPath":300}],25:[function(require,module,exports) {
require("./gauge/GaugeSeries"),require("./gauge/GaugeView");
},{"./gauge/GaugeSeries":90,"./gauge/GaugeView":91}],238:[function(require,module,exports) {
var e=require("../../echarts"),t=require("../../data/List"),a=require("../../util/model"),i=a.defaultEmphasis,l=require("../../data/helper/completeDimensions"),n=e.extendSeriesModel({type:"series.funnel",init:function(e){n.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this._defaultLabelLine(e)},getInitialData:function(e,a){var i=l(["value"],e.data),n=new t(i,this);return n.initData(e.data),n},_defaultLabelLine:function(e){i(e.labelLine,["show"]);var t=e.labelLine.normal,a=e.labelLine.emphasis;t.show=t.show&&e.label.normal.show,a.show=a.show&&e.label.emphasis.show},getDataParams:function(e){var t=this.getData(),a=n.superCall(this,"getDataParams",e),i=t.getSum("value");return a.percent=i?+(t.get("value",e)/i*100).toFixed(2):0,a.$vars.push("percent"),a},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{normal:{show:!0,position:"outer"},emphasis:{show:!0}},labelLine:{normal:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},emphasis:{}},itemStyle:{normal:{borderColor:"#fff",borderWidth:1},emphasis:{}}}}),r=n;module.exports=r;
},{"../../echarts":14,"../../util/model":125,"../../data/List":63,"../../data/helper/completeDimensions":194}],239:[function(require,module,exports) {
function e(e,o){function l(){n.ignore=n.hoverIgnore,r.ignore=r.hoverIgnore}function i(){n.ignore=n.normalIgnore,r.ignore=r.normalIgnore}t.Group.call(this);var a=new t.Polygon,n=new t.Polyline,r=new t.Text;this.add(a),this.add(n),this.add(r),this.updateData(e,o,!0),this.on("emphasis",l).on("normal",i).on("mouseover",l).on("mouseout",i)}var t=require("../../util/graphic"),o=require("zrender/lib/core/util"),l=require("../../view/Chart"),i=e.prototype,a=["itemStyle","normal","opacity"];i.updateData=function(e,l,i){var n=this.childAt(0),r=e.hostModel,s=e.getItemModel(l),d=e.getItemLayout(l),g=e.getItemModel(l).get(a);g=null==g?1:g,n.useStyle({}),i?(n.setShape({points:d.points}),n.setStyle({opacity:0}),t.initProps(n,{style:{opacity:g}},r,l)):t.updateProps(n,{style:{opacity:g},shape:{points:d.points}},r,l);var h=s.getModel("itemStyle"),u=e.getItemVisual(l,"color");n.setStyle(o.defaults({lineJoin:"round",fill:u},h.getModel("normal").getItemStyle(["opacity"]))),n.hoverStyle=h.getModel("emphasis").getItemStyle(),this._updateLabel(e,l),t.setHoverStyle(this)},i._updateLabel=function(e,o){var l=this.childAt(1),i=this.childAt(2),a=e.hostModel,n=e.getItemModel(o),r=e.getItemLayout(o).label,s=e.getItemVisual(o,"color");t.updateProps(l,{shape:{points:r.linePoints||r.linePoints}},a,o),t.updateProps(i,{style:{x:r.x,y:r.y}},a,o),i.attr({rotation:r.rotation,origin:[r.x,r.y],z2:10});var d=n.getModel("label.normal"),g=n.getModel("label.emphasis"),h=n.getModel("labelLine.normal"),u=n.getModel("labelLine.emphasis");s=e.getItemVisual(o,"color");t.setLabelStyle(i.style,i.hoverStyle={},d,g,{labelFetcher:e.hostModel,labelDataIndex:o,defaultText:e.getName(o),autoColor:s,useInsideStyle:!!r.inside},{textAlign:r.textAlign,textVerticalAlign:r.verticalAlign}),i.ignore=i.normalIgnore=!d.get("show"),i.hoverIgnore=!g.get("show"),l.ignore=l.normalIgnore=!h.get("show"),l.hoverIgnore=!u.get("show"),l.setStyle({stroke:s}),l.setStyle(h.getModel("lineStyle").getLineStyle()),l.hoverStyle=u.getModel("lineStyle").getLineStyle()},o.inherits(e,t.Group);var n=l.extend({type:"funnel",render:function(t,o,l){var i=t.getData(),a=this._data,n=this.group;i.diff(a).add(function(t){var o=new e(i,t);i.setItemGraphicEl(t,o),n.add(o)}).update(function(e,t){var o=a.getItemGraphicEl(t);o.updateData(i,e),n.add(o),i.setItemGraphicEl(e,o)}).remove(function(e){var t=a.getItemGraphicEl(e);n.remove(t)}).execute(),this._data=i},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),r=n;module.exports=r;
},{"../../util/graphic":59,"../../view/Chart":204,"zrender/lib/core/util":113}],240:[function(require,module,exports) {
function e(e,t){return r.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function t(e,t){for(var n=e.mapArray("value",function(e){return e}),i=[],r="ascending"===t,a=0,o=e.count();a<o;a++)i[a]=a;return"function"==typeof t?i.sort(t):"none"!==t&&i.sort(function(e,t){return r?n[e]-n[t]:n[t]-n[e]}),i}function n(e){e.each(function(t){var n,i,r,a,o=e.getItemModel(t),l=o.getModel("label.normal").get("position"),u=o.getModel("labelLine.normal"),g=e.getItemLayout(t),c=g.points,s="inner"===l||"inside"===l||"center"===l;if(s)n="center",a=[[i=(c[0][0]+c[1][0]+c[2][0]+c[3][0])/4,r=(c[0][1]+c[1][1]+c[2][1]+c[3][1])/4],[i,r]];else{var h,f,d,m=u.get("length");"left"===l?(h=(c[3][0]+c[0][0])/2,f=(c[3][1]+c[0][1])/2,i=(d=h-m)-5,n="right"):(h=(c[1][0]+c[2][0])/2,f=(c[1][1]+c[2][1])/2,i=(d=h+m)+5,n="left");a=[[h,f],[d,f]],r=f}g.label={linePoints:a,x:i,y:r,verticalAlign:"middle",textAlign:n,inside:s}})}function i(i,r,a){i.eachSeriesByType("funnel",function(i){var a=i.getData(),u=i.get("sort"),g=e(i,r),c=t(a,u),s=[o(i.get("minSize"),g.width),o(i.get("maxSize"),g.width)],h=a.getDataExtent("value"),f=i.get("min"),d=i.get("max");null==f&&(f=Math.min(h[0],0)),null==d&&(d=h[1]);var m=i.get("funnelAlign"),v=i.get("gap"),y=(g.height-v*(a.count()-1))/a.count(),p=g.y,x=function(e,t){var n,i=a.get("value",e)||0,r=l(i,[f,d],s,!0);switch(m){case"left":n=g.x;break;case"center":n=g.x+(g.width-r)/2;break;case"right":n=g.x+g.width-r}return[[n,t],[n+r,t]]};"ascending"===u&&(y=-y,v=-v,p+=g.height,c=c.reverse());for(var b=0;b<c.length;b++){var w=c[b],L=c[b+1],M=x(w,p),A=x(L,p+y);p+=y+v,a.setItemLayout(w,{points:M.concat(A.slice().reverse())})}n(a)})}var r=require("../../util/layout"),a=require("../../util/number"),o=a.parsePercent,l=a.linearMap;module.exports=i;
},{"../../util/layout":126,"../../util/number":60}],26:[function(require,module,exports) {
var e=require("../echarts"),r=require("zrender/lib/core/util");require("./funnel/FunnelSeries"),require("./funnel/FunnelView");var u=require("../visual/dataColor"),i=require("./funnel/funnelLayout"),n=require("../processor/dataFilter");e.registerVisual(r.curry(u,"funnel")),e.registerLayout(i),e.registerProcessor(r.curry(n,"funnel"));
},{"../echarts":14,"zrender/lib/core/util":113,"../processor/dataFilter":105,"../visual/dataColor":208,"./funnel/FunnelSeries":238,"./funnel/FunnelView":239,"./funnel/funnelLayout":240}],441:[function(require,module,exports) {
var t=require("zrender/lib/core/util"),e=require("../Axis"),r=function(t,r,i,o,l){e.call(this,t,r,i),this.type=o||"value",this.axisIndex=l};r.prototype={constructor:r,model:null,isHorizontal:function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")}},t.inherits(r,e);var i=r;module.exports=i;
},{"zrender/lib/core/util":113,"../Axis":65}],342:[function(require,module,exports) {
function n(n,s,r,t,u,i){s[0]=l(s[0],r),s[1]=l(s[1],r),n=n||0;var e=r[1]-r[0];null!=u&&(u=l(u,[0,e])),null!=i&&(i=Math.max(i,null!=u?u:0)),"all"===t&&(u=i=Math.abs(s[1]-s[0]),t=0);var g=a(s,t);s[t]+=n;var h=u||0,o=r.slice();g.sign<0?o[0]+=h:o[1]-=h,s[t]=l(s[t],o);var v=a(s,t);null!=u&&(v.sign!==g.sign||v.span<u)&&(s[1-t]=s[t]+g.sign*u);v=a(s,t);return null!=i&&v.span>i&&(s[1-t]=s[t]+v.sign*i),s}function a(n,a){var l=n[a]-n[1-a];return{span:Math.abs(l),sign:l>0?-1:l<0?1:a?-1:1}}function l(n,a){return Math.min(a[1],Math.max(a[0],n))}module.exports=n;
},{}],332:[function(require,module,exports) {
function e(e,t,i){this._axesMap=n.createHashMap(),this._axesLayout={},this.dimensions=e.dimensions,this._rect,this._model=e,this._init(e,t,i)}function t(e,t){return c(p(e,t[0]),t[1])}function i(e,t){var i=t.layoutLength/(t.axisCount-1);return{position:i*e,axisNameAvailableWidth:i,axisLabelShow:!0}}function a(e,t){var i,a,n=t.layoutLength,o=t.axisExpandWidth,s=t.axisCount,r=t.axisCollapseWidth,x=t.winInnerIndices,l=r,h=!1;return e<x[0]?(i=e*r,a=r):e<=x[1]?(i=t.axisExpandWindow0Pos+e*o-t.axisExpandWindow[0],l=o,h=!0):(i=n-(s-1-e)*r,a=r),{position:i,axisNameAvailableWidth:l,axisLabelShow:h,nameTruncateMaxWidth:a}}var n=require("zrender/lib/core/util"),o=require("zrender/lib/core/matrix"),s=require("../../util/layout"),r=require("../../coord/axisHelper"),x=require("./ParallelAxis"),l=require("../../util/graphic"),h=require("../../util/number"),u=require("../../component/helper/sliderMove"),d=n.each,c=Math.min,p=Math.max,m=Math.floor,g=Math.ceil,v=h.round,f=Math.PI;e.prototype={type:"parallel",constructor:e,_init:function(e,t,i){var a=e.dimensions,n=e.parallelAxisIndex;d(a,function(e,i){var a=n[i],o=t.getComponent("parallelAxis",a),s=this._axesMap.set(e,new x(e,r.createScaleByModel(o),[0,0],o.get("type"),a)),l="category"===s.type;s.onBand=l&&o.get("boundaryGap"),s.inverse=o.get("inverse"),o.axis=s,s.model=o,s.coordinateSystem=o.coordinateSystem=this},this)},update:function(e,t){this._updateAxesFromSeries(this._model,e)},containPoint:function(e){var t=this._makeLayoutInfo(),i=t.axisBase,a=t.layoutBase,n=t.pixelDimIndex,o=e[1-n],s=e[n];return o>=i&&o<=i+t.axisLength&&s>=a&&s<=a+t.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(e,t){t.eachSeries(function(i){if(e.contains(i,t)){var a=i.getData();d(this.dimensions,function(e){var t=this._axesMap.get(e);t.scale.unionExtentFromData(a,e),r.niceScaleExtent(t.scale,t.model)},this)}},this)},resize:function(e,t){this._rect=s.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var e,i=this._model,a=this._rect,n=["x","y"],o=["width","height"],s=i.get("layout"),r="horizontal"===s?0:1,x=a[o[r]],l=[0,x],h=this.dimensions.length,u=t(i.get("axisExpandWidth"),l),d=t(i.get("axisExpandCount")||0,[0,h]),c=i.get("axisExpandable")&&h>3&&h>d&&d>1&&u>0&&x>0,p=i.get("axisExpandWindow");if(p)e=t(p[1]-p[0],l),p[1]=p[0]+e;else{e=t(u*(d-1),l);(p=[u*(i.get("axisExpandCenter")||m(h/2))-e/2])[1]=p[0]+e}var f=(x-e)/(h-d);f<3&&(f=0);var y=[m(v(p[0]/u,1))+1,g(v(p[1]/u,1))-1],_=f/u*p[0];return{layout:s,pixelDimIndex:r,layoutBase:a[n[r]],layoutLength:x,axisBase:a[n[1-r]],axisLength:a[o[1-r]],axisExpandable:c,axisExpandWidth:u,axisCollapseWidth:f,axisExpandWindow:p,axisCount:h,winInnerIndices:y,axisExpandWindow0Pos:_}},_layoutAxes:function(){var e=this._rect,t=this._axesMap,n=this.dimensions,s=this._makeLayoutInfo(),r=s.layout;t.each(function(e){var t=[0,s.axisLength],i=e.inverse?1:0;e.setExtent(t[i],t[1-i])}),d(n,function(n,x){var l=(s.axisExpandable?a:i)(x,s),h={horizontal:{x:l.position,y:s.axisLength},vertical:{x:0,y:l.position}},u={horizontal:f/2,vertical:0},d=[h[r].x+e.x,h[r].y+e.y],c=u[r],p=o.create();o.rotate(p,p,c),o.translate(p,p,d),this._axesLayout[n]={position:d,rotation:c,transform:p,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1,labelInterval:t.get(n).getLabelInterval()}},this)},getAxis:function(e){return this._axesMap.get(e)},dataToPoint:function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},eachActiveState:function(e,t,i){for(var a=this.dimensions,n=this._axesMap,o=this.hasAxisBrushed(),s=0,r=e.count();s<r;s++){var x,l=e.getValues(a,s);if(o){x="active";for(var h=0,u=a.length;h<u;h++){var d=a[h];if("inactive"===n.get(d).model.getActiveState(l[h],h)){x="inactive";break}}}else x="normal";t.call(i,x,s)}},hasAxisBrushed:function(){for(var e=this.dimensions,t=this._axesMap,i=!1,a=0,n=e.length;a<n;a++)"normal"!==t.get(e[a]).model.getActiveState()&&(i=!0);return i},axisCoordToPoint:function(e,t){var i=this._axesLayout[t];return l.applyTransform([e,0],i.transform)},getAxisLayout:function(e){return n.clone(this._axesLayout[e])},getSlidedAxisExpandWindow:function(e){var t=this._makeLayoutInfo(),i=t.pixelDimIndex,a=t.axisExpandWindow.slice(),n=a[1]-a[0],o=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:a};var s,r=e[i]-t.layoutBase-t.axisExpandWindow0Pos,x="slide",l=t.axisCollapseWidth,h=this._model.get("axisExpandSlideTriggerArea"),d=null!=h[0];if(l)d&&l&&r<n*h[0]?(x="jump",s=r-n*h[2]):d&&l&&r>n*(1-h[0])?(x="jump",s=r-n*(1-h[2])):(s=r-n*h[1])>=0&&(s=r-n*(1-h[1]))<=0&&(s=0),(s*=t.axisExpandWidth/l)?u(s,a,o,"all"):x="none";else{n=a[1]-a[0];(a=[p(0,o[1]*r/n-n/2)])[1]=c(o[1],a[0]+n),a[0]=a[1]-n}return{axisExpandWindow:a,behavior:x}}};var y=e;module.exports=y;
},{"zrender/lib/core/util":113,"../../util/layout":126,"../../coord/axisHelper":191,"../../util/graphic":59,"../../util/number":60,"./ParallelAxis":441,"../../component/helper/sliderMove":342,"zrender/lib/core/matrix":111}],151:[function(require,module,exports) {
function e(e,r){var l=[];return e.eachComponent("parallel",function(n,t){var o=new a(n,e,r);o.name="parallel_"+t,o.resize(n,r),n.coordinateSystem=o,o.model=n,l.push(o)}),e.eachSeries(function(a){if("parallel"===a.get("coordinateSystem")){var r=e.queryComponents({mainType:"parallel",index:a.get("parallelIndex"),id:a.get("parallelId")})[0];a.coordinateSystem=r.coordinateSystem}}),l}var a=require("./Parallel"),r=require("../../CoordinateSystem");r.register("parallel",{create:e});
},{"../../CoordinateSystem":197,"./Parallel":332}],330:[function(require,module,exports) {
var e=require("../../echarts"),a={type:"axisAreaSelect",event:"axisAreaSelected",update:"updateVisual"};e.registerAction(a,function(e,a){a.eachComponent({mainType:"parallelAxis",query:e},function(a){a.axis.model.setActiveIntervals(e.intervals)})}),e.registerAction("parallelAxisExpand",function(e,a){a.eachComponent({mainType:"parallel",query:e},function(a){a.setAxisExpand(e)})});
},{"../../echarts":14}],335:[function(require,module,exports) {
function n(n){R.call(this),this._zr=n,this.group=new N.Group,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+en++,this._handlers={},W(rn,function(n,e){this._handlers[e]=D.bind(n,this)},this)}function e(n,e){var r=n._zr;n._enableGlobalPan||X.take(r,U,n._uid),W(n._handlers,function(n,e){r.on(e,n)}),n._brushType=e.brushType,n._brushOption=D.merge(D.clone(nn),e,!0)}function r(n){var e=n._zr;X.release(e,U,n._uid),W(n._handlers,function(n,r){e.off(r,n)}),n._brushType=n._brushOption=null}function t(n,e){var r=tn[e.brushType].createCover(n,e);return r.__brushOption=e,a(r,e),n.group.add(r),r}function i(n,e){var r=s(e);return r.endCreating&&(r.endCreating(n,e),a(e,e.__brushOption)),e}function o(n,e){var r=e.__brushOption;s(e).updateCoverShape(n,e,r.range,r)}function a(n,e){var r=e.z;null==r&&(r=J),n.traverse(function(n){n.z=r,n.z2=r})}function u(n,e){s(e).updateCommon(n,e),o(n,e)}function s(n){return tn[n.__brushOption.brushType]}function c(n,e,r){var t=n._panels;if(!t)return!0;var i,o=n._transform;return W(t,function(n){n.isTargetByCursor(e,r,o)&&(i=n)}),i}function l(n,e){var r=n._panels;if(!r)return!0;var t=e.__brushOption.panelId;return null==t||r[t]}function h(n){var e=n._covers,r=e.length;return W(e,function(e){n.group.remove(e)},n),e.length=0,!!r}function f(n,e){var r=j(n._covers,function(n){var e=n.__brushOption,r=D.clone(e.range);return{brushType:e.brushType,panelId:e.panelId,range:r}});n.trigger("brush",r,{isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function g(n){var e=n._track;if(!e.length)return!1;var r=e[e.length-1],t=e[0],i=r[0]-t[0],o=r[1]-t[1];return F(i*i+o*o,.5)>K}function d(n){var e=n.length-1;return e<0&&(e=0),[n[0],n[e]]}function p(n,e,r,t){var i=new N.Group;return i.add(new N.Rect({name:"main",style:m(r),silent:!0,draggable:!0,cursor:"move",drift:A(n,e,i,"nswe"),ondragend:A(f,e,{isEnd:!0})})),W(t,function(r){i.add(new N.Rect({name:r,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:A(n,e,i,r),ondragend:A(f,e,{isEnd:!0})}))}),i}function v(n,e,r,t){var i=t.brushStyle.lineWidth||0,o=V(i,Q),a=r[0][0],u=r[1][0],s=a-i/2,c=u-i/2,l=r[0][1],h=r[1][1],f=l-o+i/2,g=h-o+i/2,d=l-a,p=h-u,v=d+i,_=p+i;b(n,e,"main",a,u,d,p),t.transformable&&(b(n,e,"w",s,c,o,_),b(n,e,"e",f,c,o,_),b(n,e,"n",s,c,v,o),b(n,e,"s",s,g,v,o),b(n,e,"nw",s,c,o,o),b(n,e,"ne",f,c,o,o),b(n,e,"sw",s,g,o,o),b(n,e,"se",f,g,o,o))}function _(n,e){var r=e.__brushOption,t=r.transformable,i=e.childAt(0);i.useStyle(m(r)),i.attr({silent:!t,cursor:t?"move":"default"}),W(["w","e","n","s","se","sw","ne","nw"],function(r){var i=e.childOfName(r),o=y(n,r);i&&i.attr({silent:!t,invisible:!t,cursor:t?$[o]+"-resize":null})})}function b(n,e,r,t,i,o,a){var u=e.childOfName(r);u&&u.setShape(E(z(n,e,[[t,i],[t+o,i+a]])))}function m(n){return D.defaults({strokeNoScale:!0},n.brushStyle)}function C(n,e,r,t){var i=[H(n,r),H(e,t)],o=[V(n,r),V(e,t)];return[[i[0],o[0]],[i[1],o[1]]]}function w(n){return N.getTransform(n.group)}function y(n,e){if(e.length>1){return("e"===(r=[y(n,(e=e.split(""))[0]),y(n,e[1])])[0]||"w"===r[0])&&r.reverse(),r.join("")}var r,t={w:"left",e:"right",n:"top",s:"bottom"};return{left:"w",right:"e",top:"n",bottom:"s"}[r=N.transformDirection(t[e],w(n))]}function O(n,e,r,t,i,o,a,s){var c=t.__brushOption,l=n(c.range),h=k(r,o,a);W(i.split(""),function(n){var e=Z[n];l[e[0]][e[1]]+=h[e[0]]}),c.range=e(C(l[0][0],l[1][0],l[0][1],l[1][1])),u(r,t),f(r,{isEnd:!1})}function T(n,e,r,t,i){var o=e.__brushOption.range,a=k(n,r,t);W(o,function(n){n[0]+=a[0],n[1]+=a[1]}),u(n,e),f(n,{isEnd:!1})}function k(n,e,r){var t=n.group,i=t.transformCoordToLocal(e,r),o=t.transformCoordToLocal(0,0);return[i[0]-o[0],i[1]-o[1]]}function z(n,e,r){var t=l(n,e);return t&&!0!==t?t.clipPath(r,n._transform):D.clone(r)}function E(n){var e=H(n[0][0],n[1][0]),r=H(n[0][1],n[1][1]);return{x:e,y:r,width:V(n[0][0],n[1][0])-e,height:V(n[0][1],n[1][1])-r}}function P(n,e,r){if(n._brushType){var t=n._zr,i=n._covers,o=c(n,e,r);if(!n._dragging)for(var a=0;a<i.length;a++){var u=i[a].__brushOption;if(o&&(!0===o||u.panelId===o.panelId)&&tn[u.brushType].contain(i[a],r[0],r[1]))return}o&&t.setCursorStyle("crosshair")}}function S(n){var e=n.event;e.preventDefault&&e.preventDefault()}function x(n,e,r){return n.childOfName("main").contain(e,r)}function I(n,e,r,a){var u,s=n._creatingCover,l=n._creatingPanel,f=n._brushOption;if(n._track.push(r.slice()),g(n)||s){if(l&&!s){"single"===f.brushMode&&h(n);var d=D.clone(f);d.brushType=L(d.brushType,l),d.panelId=!0===l?null:l.panelId,s=n._creatingCover=t(n,d),n._covers.push(s)}if(s){var p=tn[L(n._brushType,l)];s.__brushOption.range=p.getCreatingRange(z(n,s,n._track)),a&&(i(n,s),p.updateCommon(n,s)),o(n,s),u={isEnd:a}}}else a&&"single"===f.brushMode&&f.removeOnClick&&c(n,e,r)&&h(n)&&(u={isEnd:a,removeOnClick:!0});return u}function L(n,e){return"auto"===n?e.defaultBrushType:n}function G(n){if(this._dragging){S(n);var e=I(this,n,this.group.transformCoordToLocal(n.offsetX,n.offsetY),!0);this._dragging=!1,this._track=[],this._creatingCover=null,e&&f(this,e)}}function M(n){return{createCover:function(e,r){return p(A(O,function(e){var r=[e,[0,100]];return n&&r.reverse(),r},function(e){return e[n]}),e,r,[["w","e"],["n","s"]][n])},getCreatingRange:function(e){var r=d(e);return[H(r[0][n],r[1][n]),V(r[0][n],r[1][n])]},updateCoverShape:function(e,r,t,i){var o,a=l(e,r);if(!0!==a&&a.getLinearBrushOtherExtent)o=a.getLinearBrushOtherExtent(n,e._transform);else{var u=e._zr;o=[0,[u.getWidth(),u.getHeight()][1-n]]}var s=[t,o];n&&s.reverse(),v(e,r,s,i)},updateCommon:_,contain:x}}var q=require("../../config"),B=q.__DEV__,D=require("zrender/lib/core/util"),R=require("zrender/lib/mixin/Eventful"),N=require("../../util/graphic"),X=require("./interactionMutex"),Y=require("../../data/DataDiffer"),A=D.curry,W=D.each,j=D.map,H=Math.min,V=Math.max,F=Math.pow,J=1e4,K=6,Q=6,U="globalPan",Z={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},$={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},nn={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},en=0;n.prototype={constructor:n,enableBrush:function(n){return this._brushType&&r(this),n.brushType&&e(this,n),this},setPanels:function(n){if(n&&n.length){var e=this._panels={};D.each(n,function(n){e[n.panelId]=D.clone(n)})}else this._panels=null;return this},mount:function(n){n=n||{},this._enableGlobalPan=n.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({position:n.position||[0,0],rotation:n.rotation||0,scale:n.scale||[1,1]}),this._transform=e.getLocalTransform(),this},eachCover:function(n,e){W(this._covers,n,e)},updateCovers:function(n){function e(n,e){return(null!=n.id?n.id:o+e)+"-"+n.brushType}function r(e,r){var o=n[e];if(null!=r&&a[r]===l)s[e]=a[r];else{var h=s[e]=null!=r?(a[r].__brushOption=o,a[r]):i(c,t(c,o));u(c,h)}}n=D.map(n,function(n){return D.merge(D.clone(nn),n,!0)});var o="\0-brush-index-",a=this._covers,s=this._covers=[],c=this,l=this._creatingCover;return new Y(a,n,function(n,r){return e(n.__brushOption,r)},e).add(r).update(r).remove(function(n){a[n]!==l&&c.group.remove(a[n])}).execute(),this},unmount:function(){return this.enableBrush(!1),h(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},D.mixin(n,R);var rn={mousedown:function(n){if(this._dragging)G.call(this,n);else if(!n.target||!n.target.draggable){S(n);var e=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null;(this._creatingPanel=c(this,n,e))&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(n){var e=this.group.transformCoordToLocal(n.offsetX,n.offsetY);if(P(this,n,e),this._dragging){S(n);var r=I(this,n,e,!1);r&&f(this,r)}},mouseup:G},tn={lineX:M(0),lineY:M(1),rect:{createCover:function(n,e){return p(A(O,function(n){return n},function(n){return n}),n,e,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(n){var e=d(n);return C(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(n,e,r,t){v(n,e,r,t)},updateCommon:_,contain:x},polygon:{createCover:function(n,e){var r=new N.Group;return r.add(new N.Polyline({name:"main",style:m(e),silent:!0})),r},getCreatingRange:function(n){return n},endCreating:function(n,e){e.remove(e.childAt(0)),e.add(new N.Polygon({name:"main",draggable:!0,drift:A(T,n,e),ondragend:A(f,n,{isEnd:!0})}))},updateCoverShape:function(n,e,r,t){e.childAt(0).setShape({points:z(n,e,r)})},updateCommon:_,contain:x}},on=n;module.exports=on;
},{"zrender/lib/core/util":113,"zrender/lib/mixin/Eventful":250,"../../util/graphic":59,"./interactionMutex":433,"../../config":116,"../../data/DataDiffer":117}],436:[function(require,module,exports) {
function r(r){return r=t(r),function(e,n){return o.clipPointsByRect(e,r)}}function e(r,e){return r=t(r),function(n){var t=null!=e?e:n,u=t?r.width:r.height,i=t?r.x:r.y;return[i,i+(u||0)]}}function n(r,e,n){return r=t(r),function(t,u,i){return r.contain(u[0],u[1])&&!c(t,e,n)}}function t(r){return u.create(r)}var u=require("zrender/lib/core/BoundingRect"),i=require("./cursorHelper"),c=i.onIrrelevantElement,o=require("../../util/graphic");exports.makeRectPanelClipPath=r,exports.makeLinearBrushOtherExtent=e,exports.makeRectIsTargetByCursor=n;
},{"../../util/graphic":59,"./cursorHelper":386,"zrender/lib/core/BoundingRect":256}],331:[function(require,module,exports) {
function e(e,r,t){return t&&"axisAreaSelect"===t.type&&r.findComponents({mainType:"parallelAxis",query:t})[0]===e}function r(e){var r=e.axis;return a.map(e.activeIntervals,function(e){return{brushType:"lineX",panelId:"pl",range:[r.dataToCoord(e[0],!0),r.dataToCoord(e[1],!0)]}})}function t(e,r){return r.getComponent("parallel",e.get("parallelIndex"))}var i=require("../../echarts"),a=require("zrender/lib/core/util"),n=require("./AxisBuilder"),o=require("../helper/BrushController"),s=require("../helper/brushHelper"),l=require("../../util/graphic"),u=["axisLine","axisTickLabel","axisName"],h=i.extendComponentView({type:"parallelAxis",init:function(e,r){h.superApply(this,"init",arguments),(this._brushController=new o(r.getZr())).on("brush",a.bind(this._onBrush,this))},render:function(r,i,o,s){if(!e(r,i,s)){this.axisModel=r,this.api=o,this.group.removeAll();var h=this._axisGroup;if(this._axisGroup=new l.Group,this.group.add(this._axisGroup),r.get("show")){var p=t(r,i),d=p.coordinateSystem,c=r.getAreaSelectStyle(),x=c.width,C=r.axis.dim,g=d.getAxisLayout(C),m=a.extend({strokeContainThreshold:x},g),b=new n(r,m);a.each(u,b.add,b),this._axisGroup.add(b.getGroup()),this._refreshBrushController(m,c,r,p,x,o);var f=s&&!1===s.animation?null:r;l.groupTransition(h,this._axisGroup,f)}}},updateVisual:function(e,t,i,a){this._brushController&&this._brushController.updateCovers(r(e))},_refreshBrushController:function(e,t,i,a,n,o){var u=i.axis.getExtent(),h=u[1]-u[0],p=Math.min(30,.1*Math.abs(h)),d=l.BoundingRect.create({x:u[0],y:-n/2,width:h,height:n});d.x-=p,d.width+=2*p,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,position:e.position}).setPanels([{panelId:"pl",clipPath:s.makeRectPanelClipPath(d),isTargetByCursor:s.makeRectIsTargetByCursor(d,o,a),getLinearBrushOtherExtent:s.makeLinearBrushOtherExtent(d,0)}]).enableBrush({brushType:"lineX",brushStyle:t,removeOnClick:!0}).updateCovers(r(i))},_onBrush:function(e,r){var t=this.axisModel,i=t.axis,n=a.map(e,function(e){return[i.coordToData(e.range[0],!0),i.coordToData(e.range[1],!0)]});(!t.option.realtime===r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:t.id,intervals:n})},dispose:function(){this._brushController.dispose()}}),p=h;module.exports=p;
},{"../../echarts":14,"zrender/lib/core/util":113,"./AxisBuilder":323,"../../util/graphic":59,"../helper/BrushController":335,"../helper/brushHelper":436}],149:[function(require,module,exports) {
require("../coord/parallel/parallelCreator"),require("./axis/parallelAxisAction"),require("./axis/ParallelAxisView");
},{"../coord/parallel/parallelCreator":151,"./axis/parallelAxisAction":330,"./axis/ParallelAxisView":331}],150:[function(require,module,exports) {
function l(l){e(l),a(l)}function e(l){if(!l.parallel){var e=!1;r.each(l.series,function(l){l&&"parallel"===l.type&&(e=!0)}),e&&(l.parallel=[{}])}}function a(l){var e=i.normalizeToArray(l.parallelAxis);r.each(e,function(e){if(r.isObject(e)){var a=e.parallelIndex||0,n=i.normalizeToArray(l.parallel)[a];n&&n.parallelAxisDefault&&r.merge(e,n.parallelAxisDefault,!1)}})}var r=require("zrender/lib/core/util"),i=require("../../util/model");module.exports=l;
},{"../../util/model":125,"zrender/lib/core/util":113}],333:[function(require,module,exports) {
function e(e,r){return r.type||(r.data?"category":"value")}var r=require("zrender/lib/core/util"),t=require("../../model/Component"),i=require("../../model/mixin/makeStyleMapper"),l=require("../axisModelCreator"),a=require("../../util/number"),o=require("../axisModelCommonMixin"),n=t.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return i([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(e){var t=this.activeIntervals=r.clone(e);if(t)for(var i=t.length-1;i>=0;i--)a.asc(t[i])},getActiveState:function(e){var r=this.activeIntervals;if(!r.length)return"normal";if(null==e)return"inactive";for(var t=0,i=r.length;t<i;t++)if(r[t][0]<=e&&e<=r[t][1])return"active";return"inactive"}}),u={type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};r.merge(n.prototype,o),l("parallel",n,e,u);var c=n;module.exports=c;
},{"zrender/lib/core/util":113,"../../model/Component":201,"../../util/number":60,"../axisModelCreator":327,"../axisModelCommonMixin":192,"../../model/mixin/makeStyleMapper":296}],152:[function(require,module,exports) {
var n=require("zrender/lib/core/util"),e=require("../../model/Component");require("./AxisModel");var i=e.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){e.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(e){var i=this.option;e&&n.merge(i,e,!0),this._initDimensions()},contains:function(n,e){var i=n.get("parallelIndex");return null!=i&&e.getComponent("parallel",i)===this},setAxisExpand:function(e){n.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(n){e.hasOwnProperty(n)&&(this.option[n]=e[n])},this)},_initDimensions:function(){var e=this.dimensions=[],i=this.parallelAxisIndex=[],t=n.filter(this.dependentModels.parallelAxis,function(n){return(n.get("parallelIndex")||0)===this.componentIndex},this);n.each(t,function(n){e.push("dim"+n.get("dim")),i.push(n.componentIndex)})}});module.exports=i;
},{"zrender/lib/core/util":113,"../../model/Component":201,"./AxisModel":333}],44:[function(require,module,exports) {
function e(e,t){var i=e._model;return i.get("axisExpandable")&&i.get("axisExpandTriggerOn")===t}var t=require("../echarts"),i=require("zrender/lib/core/util"),a=require("../util/throttle"),n=require("../coord/parallel/parallelPreprocessor");require("../coord/parallel/parallelCreator"),require("../coord/parallel/ParallelModel"),require("./parallelAxis");var o=5;t.extendComponentView({type:"parallel",render:function(e,t,n){this._model=e,this._api=n,this._handlers||(this._handlers={},i.each(s,function(e,t){n.getZr().on(t,this._handlers[t]=i.bind(e,this))},this)),a.createOrUpdate(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},dispose:function(e,t){i.each(this._handlers,function(e,i){t.getZr().off(i,e)}),this._handlers=null},_throttledDispatchExpand:function(e){this._dispatchExpand(e)},_dispatchExpand:function(e){e&&this._api.dispatchAction(i.extend({type:"parallelAxisExpand"},e))}});var s={mousedown:function(t){e(this,"click")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var i=this._mouseDownPoint;if(e(this,"click")&&i){var a=[t.offsetX,t.offsetY];if(Math.pow(i[0]-a[0],2)+Math.pow(i[1]-a[1],2)>o)return;var n=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);"none"!==n.behavior&&this._dispatchExpand({axisExpandWindow:n.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!this._mouseDownPoint&&e(this,"mousemove")){var i=this._model,a=i.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),n=a.behavior;"jump"===n&&this._throttledDispatchExpand.debounceNextCall(i.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===n?null:{axisExpandWindow:a.axisExpandWindow,animation:"jump"===n&&null})}}};t.registerPreprocessor(n);
},{"../echarts":14,"zrender/lib/core/util":113,"../util/throttle":62,"./parallelAxis":149,"../coord/parallel/parallelPreprocessor":150,"../coord/parallel/parallelCreator":151,"../coord/parallel/ParallelModel":152}],92:[function(require,module,exports) {
function e(e,a,i){var r=e.get("data"),l=t(a);r&&r.length&&n.each(i,function(e){if(e){var t=n.indexOf(r,e[l]);e[l]=t>=0?t:NaN}})}function t(e){return+e.replace("dim","")}function a(e,a){var i=0;n.each(e,function(e){var a=t(e);a>i&&(i=a)});var r=a[0];r&&r.length-1>i&&(i=r.length-1);for(var l=[],o=0;o<=i;o++)l.push("dim"+o);return l}var i=require("../../data/List"),n=require("zrender/lib/core/util"),r=require("../../model/Series"),l=require("../../data/helper/completeDimensions"),o=r.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.normal.color",getInitialData:function(t,r){var o=r.getComponent("parallel",this.get("parallelIndex")),s=o.parallelAxisIndex,p=t.data,c=o.dimensions,d=a(c,p),u=n.map(d,function(t,a){var i=n.indexOf(c,t),o=i>=0&&r.getComponent("parallelAxis",s[i]);return o&&"category"===o.get("type")?(e(o,t,p),{name:t,type:"ordinal"}):i<0&&l.guessOrdinal(p,a)?{name:t,type:"ordinal"}:t}),h=new i(u,this);return h.initData(p),this.option.progressive&&(this.option.animation=!1),h},getRawIndicesByActiveState:function(e){var t=this.coordinateSystem,a=this.getData(),i=[];return t.eachActiveState(a,function(t,n){e===t&&i.push(a.getRawIndex(n))}),i},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{normal:{show:!1},emphasis:{show:!1}},inactiveOpacity:.05,activeOpacity:1,lineStyle:{normal:{width:1,opacity:.45,type:"solid"}},progressive:!1,smooth:!1,animationEasing:"linear"}});module.exports=o;
},{"../../data/List":63,"../../model/Series":202,"../../data/helper/completeDimensions":194,"zrender/lib/core/util":113}],93:[function(require,module,exports) {
function t(t,e,i){var o=t.model,a=t.getRect(),r=new n.Rect({shape:{x:a.x,y:a.y,width:a.width,height:a.height}}),l="horizontal"===o.get("layout")?"width":"height";return r.setShape(l,0),n.initProps(r,{shape:{width:a.width,height:a.height}},e,i),r}function e(t,e,i,o){for(var n=[],r=0;r<i.length;r++){var l=i[r],h=t.get(l,e);a(h,o.getAxis(l).type)||n.push(o.dataToPoint(h,l))}return n}function i(t,i,o,a,r){var l=e(t,o,a,r),h=new n.Polyline({shape:{points:l},silent:!0,z2:10});i.add(h),t.setItemGraphicEl(o,h)}function o(t,e){var i=t.hostModel.getModel("lineStyle.normal"),o=i.getLineStyle();t.eachItemGraphicEl(function(a,n){if(t.hasItemOption){var l=t.getItemModel(n).getModel("lineStyle.normal",i);o=l.getLineStyle(["color","stroke"])}a.useStyle(r.extend(o,{fill:null,stroke:t.getItemVisual(n,"color"),opacity:t.getItemVisual(n,"opacity")})),a.shape.smooth=e})}function a(t,e){return"category"===e?null==t:null==t||isNaN(t)}var n=require("../../util/graphic"),r=require("zrender/lib/core/util"),l=require("../../view/Chart"),h=.3,u=l.extend({type:"parallel",init:function(){this._dataGroup=new n.Group,this.group.add(this._dataGroup),this._data},render:function(t,e,i,o){this._renderForNormal(t,o)},dispose:function(){},_renderForNormal:function(a,r){var l=this._dataGroup,u=a.getData(),s=this._data,d=a.coordinateSystem,p=d.dimensions,c=a.option.smooth?h:null;if(u.diff(s).add(function(t){i(u,l,t,p,d,null,c)}).update(function(t,i){var o=s.getItemGraphicEl(i),l=e(u,t,p,d);u.setItemGraphicEl(t,o);var h=r&&!1===r.animation?null:a;n.updateProps(o,{shape:{points:l}},h,t)}).remove(function(t){var e=s.getItemGraphicEl(t);l.remove(e)}).execute(),o(u,c),!this._data){var m=t(d,a,function(){setTimeout(function(){l.removeClipPath()})});l.setClipPath(m)}this._data=u},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}}),s=u;module.exports=s;
},{"zrender/lib/core/util":113,"../../util/graphic":59,"../../view/Chart":204}],94:[function(require,module,exports) {
function e(e){e.eachSeriesByType("parallel",function(l){var a=l.getModel("itemStyle.normal"),o=l.getModel("lineStyle.normal"),i=e.get("color"),n=o.get("color")||a.get("color")||i[l.seriesIndex%i.length],c=l.get("inactiveOpacity"),r=l.get("activeOpacity"),g=l.getModel("lineStyle.normal").getLineStyle(),y=l.coordinateSystem,m=l.getData(),s={normal:g.opacity,active:r,inactive:c};y.eachActiveState(m,function(e,l){var a=m.getItemModel(l),o=s[e];if("normal"===e){var i=a.get(t,!0);null!=i&&(o=i)}m.setItemVisual(l,"opacity",o)}),m.setVisual("color",n)})}var t=["lineStyle","normal","opacity"];module.exports=e;
},{}],27:[function(require,module,exports) {
var e=require("../echarts");require("../component/parallel"),require("./parallel/ParallelSeries"),require("./parallel/ParallelView");var l=require("./parallel/parallelVisual");e.registerVisual(l);
},{"../echarts":14,"../component/parallel":44,"./parallel/ParallelSeries":92,"./parallel/ParallelView":93,"./parallel/parallelVisual":94}],246:[function(require,module,exports) {
var e=require("../../model/Series"),t=require("../helper/createGraphFromNodeEdge"),a=require("../../util/format"),o=a.encodeHTML,r=e.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(e){var a=e.edges||e.links,o=e.data||e.nodes;if(o&&a){return t(o,a,this,!0).data}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(e,t,a){if("edge"===a){var i=this.getDataParams(e,a),n=i.data,l=n.source+" -- "+n.target;return i.value&&(l+=" : "+i.value),o(l)}return r.superCall(this,"formatTooltip",e,t)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{normal:{show:!0,position:"right",color:"#000",fontSize:12},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:1,borderColor:"#333"}},lineStyle:{normal:{color:"#314656",opacity:.2,curveness:.5},emphasis:{opacity:.6}},animationEasing:"linear",animationDuration:1e3}}),i=r;module.exports=i;
},{"../../model/Series":202,"../../util/format":61,"../helper/createGraphFromNodeEdge":394}],247:[function(require,module,exports) {
function e(e,a,l){var i=new t.Rect({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return t.initProps(i,{shape:{width:e.width+20,height:e.height+20}},a,l),i}var t=require("../../util/graphic"),a=require("../../echarts"),l=t.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(e,t){var a=t.extent/2;e.moveTo(t.x1,t.y1-a),e.bezierCurveTo(t.cpx1,t.cpy1-a,t.cpx2,t.cpy2-a,t.x2,t.y2-a),e.lineTo(t.x2,t.y2+a),e.bezierCurveTo(t.cpx2,t.cpy2+a,t.cpx1,t.cpy1+a,t.x1,t.y1+a),e.closePath()}}),i=a.extendChartView({type:"sankey",_model:null,render:function(a,i,o){var d=a.getGraph(),y=this.group,n=a.layoutInfo,s=a.getData(),r=a.getData("edge");this._model=a,y.removeAll(),y.attr("position",[n.x,n.y]),d.eachEdge(function(e){var i=new l;i.dataIndex=e.dataIndex,i.seriesIndex=a.seriesIndex,i.dataType="edge";var o=e.getModel("lineStyle.normal"),d=o.get("curveness"),n=e.node1.getLayout(),s=e.node2.getLayout(),c=e.getLayout();i.shape.extent=Math.max(1,c.dy);var h=n.x+n.dx,x=n.y+c.sy+c.dy/2,p=s.x,g=s.y+c.ty+c.dy/2,u=h*(1-d)+p*d,m=x,v=h*d+p*(1-d),I=g;switch(i.setShape({x1:h,y1:x,x2:p,y2:g,cpx1:u,cpy1:m,cpx2:v,cpy2:I}),i.setStyle(o.getItemStyle()),i.style.fill){case"source":i.style.fill=e.node1.getVisual("color");break;case"target":i.style.fill=e.node2.getVisual("color")}t.setHoverStyle(i,e.getModel("lineStyle.emphasis").getItemStyle()),y.add(i),r.setItemGraphicEl(e.dataIndex,i)}),d.eachNode(function(e){var l=e.getLayout(),i=e.getModel(),o=i.getModel("label.normal"),d=i.getModel("label.emphasis"),n=new t.Rect({shape:{x:l.x,y:l.y,width:e.getLayout().dx,height:e.getLayout().dy},style:i.getModel("itemStyle.normal").getItemStyle()}),r=e.getModel("itemStyle.emphasis").getItemStyle();t.setLabelStyle(n.style,r,o,d,{labelFetcher:a,labelDataIndex:e.dataIndex,defaultText:e.id,isRectText:!0}),n.setStyle("fill",e.getVisual("color")),t.setHoverStyle(n,r),y.add(n),s.setItemGraphicEl(e.dataIndex,n),n.dataType="node"}),!this._data&&a.get("animation")&&y.setClipPath(e(y.getBoundingRect(),a,function(){y.removeClipPath()})),this._data=a.getData()},dispose:function(){}});module.exports=i;
},{"../../echarts":14,"../../util/graphic":59}],306:[function(require,module,exports) {
function n(){function n(e,u){if(u>=t.length)return e;for(var i=-1,o=e.length,c=t[u++],f={},h={};++i<o;){var s=c(e[i]),a=h[s];a?a.push(e[i]):h[s]=[e[i]]}return r.each(h,function(r,e){f[e]=n(r,u)}),f}function e(n,i){if(i>=t.length)return n;var o=[],c=u[i++];return r.each(n,function(n,r){o.push({key:r,values:e(n,i)})}),c?o.sort(function(n,r){return c(n.key,r.key)}):o}var t=[],u=[];return{key:function(n){return t.push(n),this},sortKeys:function(n){return u[t.length-1]=n,this},entries:function(r){return e(n(r,0),0)}}}var r=require("zrender/lib/core/util");module.exports=n;
},{"zrender/lib/core/util":113}],248:[function(require,module,exports) {
function t(t,o,a){t.eachSeriesByType("sankey",function(t){var a=t.get("nodeWidth"),y=t.get("nodeGap"),r=e(t,o);t.layoutInfo=r;var i=r.width,g=r.height,c=t.getGraph(),f=c.nodes,s=c.edges;u(f);n(f,s,a,y,i,g,0!==q.filter(f,function(t){return 0===t.getLayout().value}).length?0:t.get("layoutIterations"))})}function e(t,e){return N.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function n(t,e,n,u,a,y,i){o(t,n,a),r(t,e,y,u,i),h(t)}function u(t){q.each(t,function(t){var e=v(t.outEdges,m),n=v(t.inEdges,m),u=Math.max(e,n);t.setLayout({value:u},!0)})}function o(t,e,n){for(var u=t,o=null,r=0;u.length;){o=[];for(var i=0,g=u.length;i<g;i++){var c=u[i];c.setLayout({x:r},!0),c.setLayout({dx:e},!0);for(var f=0,s=c.outEdges.length;f<s;f++)o.push(c.outEdges[f].node2)}u=o,++r}a(t,r),y(t,(n-e)/(r-1))}function a(t,e){q.each(t,function(t){t.outEdges.length||t.setLayout({x:e-1},!0)})}function y(t,e){q.each(t,function(t){var n=t.getLayout().x*e;t.setLayout({x:n},!0)})}function r(t,e,n,u,o){var a=V().key(function(t){return t.getLayout().x}).sortKeys(p).entries(t).map(function(t){return t.values});i(t,a,e,n,u),g(a,u,n);for(var y=1;o>0;o--)c(a,y*=.99),g(a,u,n),s(a,y),g(a,u,n)}function i(t,e,n,u,o){var a=[];q.each(e,function(t){var e=t.length,n=0;q.each(t,function(t){n+=t.getLayout().value});var y=(u-(e-1)*o)/n;a.push(y)}),a.sort(function(t,e){return t-e});var y=a[0];q.each(e,function(t){q.each(t,function(t,e){t.setLayout({y:e},!0);var n=t.getLayout().value*y;t.setLayout({dy:n},!0)})}),q.each(n,function(t){var e=+t.getValue()*y;t.setLayout({dy:e},!0)})}function g(t,e,n){q.each(t,function(t){var u,o,a,y=0,r=t.length;for(t.sort(x),a=0;a<r;a++){if(u=t[a],(o=y-u.getLayout().y)>0){var i=u.getLayout().y+o;u.setLayout({y:i},!0)}y=u.getLayout().y+u.getLayout().dy+e}if((o=y-e-n)>0){i=u.getLayout().y-o;for(u.setLayout({y:i},!0),y=u.getLayout().y,a=r-2;a>=0;--a)(o=(u=t[a]).getLayout().y+u.getLayout().dy+e-y)>0&&(i=u.getLayout().y-o,u.setLayout({y:i},!0)),y=u.getLayout().y}})}function c(t,e){q.each(t.slice().reverse(),function(t){q.each(t,function(t){if(t.outEdges.length){var n=v(t.outEdges,f)/v(t.outEdges,m),u=t.getLayout().y+(n-E(t))*e;t.setLayout({y:u},!0)}})})}function f(t){return E(t.node2)*t.getValue()}function s(t,e){q.each(t,function(t){q.each(t,function(t){if(t.inEdges.length){var n=v(t.inEdges,L)/v(t.inEdges,m),u=t.getLayout().y+(n-E(t))*e;t.setLayout({y:u},!0)}})})}function L(t){return E(t.node1)*t.getValue()}function h(t){q.each(t,function(t){t.outEdges.sort(d),t.inEdges.sort(l)}),q.each(t,function(t){var e=0,n=0;q.each(t.outEdges,function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy}),q.each(t.inEdges,function(t){t.setLayout({ty:n},!0),n+=t.getLayout().dy})})}function d(t,e){return t.node2.getLayout().y-e.node2.getLayout().y}function l(t,e){return t.node1.getLayout().y-e.node1.getLayout().y}function v(t,e){for(var n=0,u=t.length,o=-1;++o<u;){var a=+e.call(t,t[o],o);isNaN(a)||(n+=a)}return n}function E(t){return t.getLayout().y+t.getLayout().dy/2}function x(t,e){return t.getLayout().y-e.getLayout().y}function p(t,e){return t<e?-1:t>e?1:t===e?0:NaN}function m(t){return t.getValue()}var N=require("../../util/layout"),V=require("../../util/array/nest"),q=require("zrender/lib/core/util");module.exports=t;
},{"../../util/layout":126,"../../util/array/nest":306,"zrender/lib/core/util":113}],249:[function(require,module,exports) {
function e(e,o){e.eachSeriesByType("sankey",function(e){var o=e.getGraph().nodes;o.sort(function(e,a){return e.getLayout().value-a.getLayout().value});var l=o[0].getLayout().value,u=o[o.length-1].getLayout().value;t.each(o,function(t){var o=new a({type:"color",mappingMethod:"linear",dataExtent:[l,u],visual:e.get("color")}).mapValueToVisual(t.getLayout().value);t.setVisual("color",o);var r=t.getModel().get("itemStyle.normal.color");null!=r&&t.setVisual("color",r)})})}var a=require("../../visual/VisualMapping"),t=require("zrender/lib/core/util");module.exports=e;
},{"zrender/lib/core/util":113,"../../visual/VisualMapping":298}],28:[function(require,module,exports) {
var e=require("../echarts");require("./sankey/SankeySeries"),require("./sankey/SankeyView");var r=require("./sankey/sankeyLayout"),a=require("./sankey/sankeyVisual");e.registerLayout(r),e.registerVisual(a);
},{"../echarts":14,"./sankey/SankeySeries":246,"./sankey/SankeyView":247,"./sankey/sankeyLayout":248,"./sankey/sankeyVisual":249}],423:[function(require,module,exports) {
function t(t,e,i,a){n.Group.call(this),this.bodyIndex,this.whiskerIndex,this.styleUpdater=i,this._createContent(t,e,a),this.updateData(t,e,a),this._seriesModel}function e(t,e,i){return r.map(t,function(t){return t=t.slice(),t[e]=i.initBaseline,t})}function i(t){var e={};return r.each(t,function(t,i){e["ends"+i]=t}),e}function a(t){this.group=new n.Group,this.styleUpdater=t}var r=require("zrender/lib/core/util"),n=require("../../util/graphic"),s=require("zrender/lib/graphic/Path"),o=s.extend({type:"whiskerInBox",shape:{},buildPath:function(t,e){for(var i in e)if(e.hasOwnProperty(i)&&0===i.indexOf("ends")){var a=e[i];t.moveTo(a[0][0],a[0][1]),t.lineTo(a[1][0],a[1][1])}}}),h=t.prototype;h._createContent=function(t,a,s){var h=t.getItemLayout(a),d="horizontal"===h.chartLayout?1:0,u=0;this.add(new n.Polygon({shape:{points:s?e(h.bodyEnds,d,h):h.bodyEnds},style:{strokeNoScale:!0},z2:100})),this.bodyIndex=u++;var p=r.map(h.whiskerEnds,function(t){return s?e(t,d,h):t});this.add(new o({shape:i(p),style:{strokeNoScale:!0},z2:100})),this.whiskerIndex=u++},h.updateData=function(t,e,a){var r=this._seriesModel=t.hostModel,s=t.getItemLayout(e),o=n[a?"initProps":"updateProps"];o(this.childAt(this.bodyIndex),{shape:{points:s.bodyEnds}},r,e),o(this.childAt(this.whiskerIndex),{shape:i(s.whiskerEnds)},r,e),this.styleUpdater.call(null,this,t,e)},r.inherits(t,n.Group);var d=a.prototype;d.updateData=function(e){var i=this.group,a=this._data,r=this.styleUpdater;e.diff(a).add(function(a){if(e.hasValue(a)){var n=new t(e,a,r,!0);e.setItemGraphicEl(a,n),i.add(n)}}).update(function(n,s){var o=a.getItemGraphicEl(s);e.hasValue(n)?(o?o.updateData(e,n):o=new t(e,n,r),i.add(o),e.setItemGraphicEl(n,o)):i.remove(o)}).remove(function(t){var e=a.getItemGraphicEl(t);e&&i.remove(e)}).execute(),this._data=e},d.remove=function(){var t=this.group,e=this._data;this._data=null,e&&e.eachItemGraphicEl(function(e){e&&t.remove(e)})};var u=a;module.exports=u;
},{"zrender/lib/core/util":113,"../../util/graphic":59,"zrender/lib/graphic/Path":263}],303:[function(require,module,exports) {
var e=require("../../data/List"),t=require("../../data/helper/completeDimensions"),i=require("../helper/WhiskerBoxDraw"),a=require("zrender/lib/core/util"),s={_baseAxisDim:null,getInitialData:function(i,s){var r,n,o=s.getComponent("xAxis",this.get("xAxisIndex")),l=s.getComponent("yAxis",this.get("yAxisIndex")),u=o.get("type"),h=l.get("type");"category"===u?(i.layout="horizontal",r=o.getCategories(),n=!0):"category"===h?(i.layout="vertical",r=l.getCategories(),n=!0):i.layout=i.layout||"horizontal";var x=["x","y"],g="horizontal"===i.layout?0:1,d=this._baseAxisDim=x[g],m=x[1-g],D=i.data;n&&a.each(D,function(e,t){e.value&&a.isArray(e.value)?e.value.unshift(t):a.isArray(e)&&e.unshift(t)});var c=this.defaultValueDimensions,p=[{name:d,otherDims:{tooltip:!1},dimsDef:["base"]},{name:m,dimsDef:c.slice()}];p=t(p,D,{encodeDef:this.get("encode"),dimsDef:this.get("dimensions"),dimCount:c.length+1});var y=new e(p,this);return y.initData(D,r?r.slice():null),y},getBaseAxis:function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis}},r={init:function(){var e=this._whiskerBoxDraw=new i(this.getStyleUpdater());this.group.add(e.group)},render:function(e,t,i){this._whiskerBoxDraw.updateData(e.getData())},remove:function(e){this._whiskerBoxDraw.remove()}};exports.seriesModelMixin=s,exports.viewMixin=r;
},{"../../data/List":63,"../../data/helper/completeDimensions":194,"zrender/lib/core/util":113,"../helper/WhiskerBoxDraw":423}],95:[function(require,module,exports) {
var e=require("zrender/lib/core/util"),i=require("../../model/Series"),o=require("../helper/whiskerBoxCommon"),r=o.seriesModelMixin,n=i.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{normal:{color:"#fff",borderWidth:1},emphasis:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});e.mixin(n,r,!0);var a=n;module.exports=a;
},{"../../model/Series":202,"../helper/whiskerBoxCommon":303,"zrender/lib/core/util":113}],96:[function(require,module,exports) {
function e(e,t,r){var o=t.getItemModel(r),l=o.getModel(d),s=t.getItemVisual(r,"color"),y=l.getItemStyle(["borderColor"]),m=e.childAt(e.whiskerIndex);m.style.set(y),m.style.stroke=s,m.dirty();var a=e.childAt(e.bodyIndex);a.style.set(y),a.style.stroke=s,a.dirty();var u=o.getModel(n).getItemStyle();i.setHoverStyle(e,u)}var t=require("zrender/lib/core/util"),r=require("../../view/Chart"),i=require("../../util/graphic"),o=require("../helper/whiskerBoxCommon"),l=o.viewMixin,s=r.extend({type:"boxplot",getStyleUpdater:function(){return e},dispose:t.noop});t.mixin(s,l,!0);var d=["itemStyle","normal"],n=["itemStyle","emphasis"],y=s;module.exports=y;
},{"zrender/lib/core/util":113,"../helper/whiskerBoxCommon":303,"../../util/graphic":59,"../../view/Chart":204}],97:[function(require,module,exports) {
function e(e,t){var r=e.get("color");e.eachRawSeriesByType("boxplot",function(t){var l=r[t.seriesIndex%r.length],a=t.getData();a.setVisual({legendSymbol:"roundRect",color:t.get(o)||l}),e.isSeriesFiltered(t)||a.each(function(e){var t=a.getItemModel(e);a.setItemVisual(e,{color:t.get(o,!0)})})})}var o=["itemStyle","normal","borderColor"];module.exports=e;
},{}],98:[function(require,module,exports) {
function e(e){var a=t(e);r(a,function(e){var t=e.seriesModels;t.length&&(n(e),r(t,function(t,n){i(t,e.boxOffsetList[n],e.boxWidthList[n])}))})}function t(e){var t=[],n=[];return e.eachSeriesByType("boxplot",function(e){var i=e.getBaseAxis(),s=a.indexOf(n,i);s<0&&(s=n.length,n[s]=i,t[s]={axis:i,seriesModels:[]}),t[s].seriesModels.push(e)}),t}function n(e){var t,n,i=e.axis,s=e.seriesModels,u=s.length,c=e.boxWidthList=[],h=e.boxOffsetList=[],l=[];if("category"===i.type)n=i.getBandWidth();else{var f=0;r(s,function(e){f=Math.max(f,e.getData().count())}),t=i.getExtent(),Math.abs(t[1]-t[0])}r(s,function(e){var t=e.get("boxWidth");a.isArray(t)||(t=[t,t]),l.push([o(t[0],n)||0,o(t[1],n)||0])});var d=.8*n-2,v=d/u*.3,x=(d-v*(u-1))/u,g=x/2-d/2;r(s,function(e,t){h.push(g),g+=v+x,c.push(Math.min(Math.max(x,l[t][0]),l[t][1]))})}function i(e,t,n){var i,s=e.coordinateSystem,o=e.getData(),r=n/2,u=e.get("layout"),c="horizontal"===u?0:1,h=1-c,l=["x","y"],f=[];a.each(o.dimensions,function(e){var t=o.getDimensionInfo(e).coordDim;t===l[h]?f.push(e):t===l[c]&&(i=e)}),null==i||f.length<5||o.each([i].concat(f),function(){function e(e){var n=[];n[c]=l,n[h]=e;var i;return isNaN(l)||isNaN(e)?i=[NaN,NaN]:(i=s.dataToPoint(n))[c]+=t,i}function n(e,t){var n=e.slice(),i=e.slice();n[c]+=r,i[c]-=r,t?m.push(n,i):m.push(i,n)}function i(e){var t=[e.slice(),e.slice()];t[0][c]-=r,t[1][c]+=r,p.push(t)}var a=arguments,l=a[0],d=a[f.length+1],v=e(a[3]),x=e(a[1]),g=e(a[5]),p=[[x,e(a[2])],[g,e(a[4])]];i(x),i(g),i(v);var m=[];n(p[0][1],0),n(p[1][1],1),o.setItemLayout(d,{chartLayout:u,initBaseline:v[h],median:v,bodyEnds:m,whiskerEnds:p})})}var a=require("zrender/lib/core/util"),s=require("../../util/number"),o=s.parsePercent,r=a.each;module.exports=e;
},{"zrender/lib/core/util":113,"../../util/number":60}],29:[function(require,module,exports) {
var e=require("../echarts");require("./boxplot/BoxplotSeries"),require("./boxplot/BoxplotView");var o=require("./boxplot/boxplotVisual"),r=require("./boxplot/boxplotLayout");e.registerVisual(o),e.registerLayout(r);
},{"../echarts":14,"./boxplot/BoxplotSeries":95,"./boxplot/BoxplotView":96,"./boxplot/boxplotVisual":97,"./boxplot/boxplotLayout":98}],241:[function(require,module,exports) {
var e=require("zrender/lib/core/util"),i=require("../../model/Series"),r=require("../helper/whiskerBoxCommon"),n=r.seriesModelMixin,o=i.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{normal:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(e,i,r){var n=i.getItemLayout(e);return r.rect(n.brushRect)}});e.mixin(o,n,!0);var t=o;module.exports=t;
},{"../../model/Series":202,"../helper/whiskerBoxCommon":303,"zrender/lib/core/util":113}],242:[function(require,module,exports) {
function e(e,t,r){var l=t.getItemModel(r),i=l.getModel(d),s=t.getItemVisual(r,"color"),u=t.getItemVisual(r,"borderColor")||s,a=i.getItemStyle(["color","color0","borderColor","borderColor0"]),m=e.childAt(e.whiskerIndex);m.useStyle(a),m.style.stroke=u;var y=e.childAt(e.bodyIndex);y.useStyle(a),y.style.fill=s,y.style.stroke=u;var c=l.getModel(n).getItemStyle();o.setHoverStyle(e,c)}var t=require("zrender/lib/core/util"),r=require("../../view/Chart"),o=require("../../util/graphic"),l=require("../helper/whiskerBoxCommon"),i=l.viewMixin,s=r.extend({type:"candlestick",getStyleUpdater:function(){return e},dispose:t.noop});t.mixin(s,i,!0);var d=["itemStyle","normal"],n=["itemStyle","emphasis"],u=s;module.exports=u;
},{"../../view/Chart":204,"../../util/graphic":59,"../helper/whiskerBoxCommon":303,"zrender/lib/core/util":113}],243:[function(require,module,exports) {
function e(e){e&&r.isArray(e.series)&&r.each(e.series,function(e){r.isObject(e)&&"k"===e.type&&(e.type="candlestick")})}var r=require("zrender/lib/core/util");module.exports=e;
},{"zrender/lib/core/util":113}],244:[function(require,module,exports) {
function e(e,a){e.eachRawSeriesByType("candlestick",function(a){var i=a.getData();i.setVisual({legendSymbol:"roundRect"}),e.isSeriesFiltered(a)||i.each(function(e){var a=i.getItemModel(e),n=i.getItemLayout(e).sign;i.setItemVisual(e,{color:a.get(n>0?r:l),borderColor:a.get(n>0?o:t)})})})}var o=["itemStyle","normal","borderColor"],t=["itemStyle","normal","borderColor0"],r=["itemStyle","normal","color"],l=["itemStyle","normal","color0"];module.exports=e;
},{}],245:[function(require,module,exports) {
function t(t){t.eachSeriesByType("candlestick",function(t){var n,a=t.coordinateSystem,r=t.getData(),o=e(t,r),c=t.get("layout"),h="horizontal"===c?0:1,s=1-h,l=["x","y"],d=[];if(i.each(r.dimensions,function(t){var e=r.getDimensionInfo(t).coordDim;e===l[s]?d.push(t):e===l[h]&&(n=t)}),!(null==n||d.length<4)){var g=0;r.each([n].concat(d),function(){function t(t){var e=[];return e[h]=l,e[s]=t,isNaN(l)||isNaN(t)?[NaN,NaN]:a.dataToPoint(e)}function e(t,e){var i=t.slice(),n=t.slice();i[h]=u(i[h]+o/2,1,!1),n[h]=u(n[h]-o/2,1,!0),e?q.push(i,n):q.push(n,i)}function i(t){return t[h]=u(t[h],1),t}var n=arguments,l=n[0],m=n[d.length+1],f=n[1],v=n[2],y=n[3],x=n[4],M=Math.min(f,v),b=Math.max(f,v),p=t(M),N=t(b),B=t(y),W=[[i(t(x)),i(N)],[i(B),i(p)]],q=[];e(N,0),e(p,1);var z;z=f>v?-1:f<v?1:g>0?r.getItemModel(g-1).get()[2]<=v?1:-1:1,r.setItemLayout(m,{chartLayout:c,sign:z,initBaseline:f>v?N[s]:p[s],bodyEnds:q,whiskerEnds:W,brushRect:function(){var e=t(Math.min(f,v,y,x)),i=t(Math.max(f,v,y,x));return e[h]-=o/2,i[h]-=o/2,{x:e[0],y:e[1],width:s?o:i[0]-e[0],height:s?i[1]-e[1]:o}}()}),++g},!0)}})}function e(t,e){var i,n=t.getBaseAxis(),r="category"===n.type?n.getBandWidth():(i=n.getExtent(),Math.abs(i[1]-i[0])/e.count()),u=a(o(t.get("barMaxWidth"),r),r),c=a(o(t.get("barMinWidth"),1),r),h=t.get("barWidth");return null!=h?a(h,r):Math.max(Math.min(r/2,u),c)}var i=require("zrender/lib/core/util"),n=require("../../util/number"),a=n.parsePercent,r=require("../../util/graphic"),u=r.subPixelOptimize,o=i.retrieve2;module.exports=t;
},{"zrender/lib/core/util":113,"../../util/graphic":59,"../../util/number":60}],30:[function(require,module,exports) {
var e=require("../echarts");require("./candlestick/CandlestickSeries"),require("./candlestick/CandlestickView");var r=require("./candlestick/preprocessor"),i=require("./candlestick/candlestickVisual"),s=require("./candlestick/candlestickLayout");e.registerPreprocessor(r),e.registerVisual(i),e.registerLayout(s);
},{"../echarts":14,"./candlestick/CandlestickSeries":241,"./candlestick/CandlestickView":242,"./candlestick/preprocessor":243,"./candlestick/candlestickVisual":244,"./candlestick/candlestickLayout":245}],99:[function(require,module,exports) {
var e=require("../helper/createListFromArray"),r=require("../../model/Series"),t=r.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(r,t){return e(r.data,this,t)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});module.exports=t;
},{"../../model/Series":202,"../helper/createListFromArray":119}],304:[function(require,module,exports) {
function t(t){return o.isArray(t)||(t=[+t,+t]),t}function e(t,e){t.eachChild(function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:"stroke"===e.brushType?e.color:null,fill:"fill"===e.brushType?e.color:null}})})}function i(t,e){s.call(this);var i=new h(t,e),o=new s;this.add(i),this.add(o),o.beforeUpdate=function(){this.attr(i.getScale())},this.updateData(t,e)}var o=require("zrender/lib/core/util"),f=require("../../util/symbol"),r=f.createSymbol,l=require("../../util/graphic"),s=l.Group,a=require("../../util/number"),n=a.parsePercent,h=require("./Symbol"),c=3,u=i.prototype;u.stopEffectAnimation=function(){this.childAt(1).removeAll()},u.startEffectAnimation=function(t){for(var i=t.symbolType,o=t.color,f=this.childAt(1),l=0;l<c;l++){var s=r(i,-1,-1,2,2,o);s.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var a=-l/c*t.period+t.effectOffset;s.animate("",!0).when(t.period,{scale:[t.rippleScale/2,t.rippleScale/2]}).delay(a).start(),s.animateStyle(!0).when(t.period,{opacity:0}).delay(a).start(),f.add(s)}e(f,t)},u.updateEffectAnimation=function(t){for(var i=this._effectCfg,o=this.childAt(1),f=["symbolType","period","rippleScale"],r=0;r<f.length;r++){var l=f[r];if(i[l]!==t[l])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}e(o,t)},u.highlight=function(){this.trigger("emphasis")},u.downplay=function(){this.trigger("normal")},u.updateData=function(e,i){var o=e.hostModel;this.childAt(0).updateData(e,i);var f=this.childAt(1),r=e.getItemModel(i),l=e.getItemVisual(i,"symbol"),s=t(e.getItemVisual(i,"symbolSize")),a=e.getItemVisual(i,"color");f.attr("scale",s),f.traverse(function(t){t.attr({fill:a})});var h=r.getShallow("symbolOffset");if(h){var c=f.position;c[0]=n(h[0],s[0]),c[1]=n(h[1],s[1])}f.rotation=(r.getShallow("symbolRotate")||0)*Math.PI/180||0;var u={};if(u.showEffectOn=o.get("showEffectOn"),u.rippleScale=r.get("rippleEffect.scale"),u.brushType=r.get("rippleEffect.brushType"),u.period=1e3*r.get("rippleEffect.period"),u.effectOffset=i/e.count(),u.z=r.getShallow("z")||0,u.zlevel=r.getShallow("zlevel")||0,u.symbolType=l,u.color=a,this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===u.showEffectOn)this._effectCfg?this.updateEffectAnimation(u):this.startEffectAnimation(u),this._effectCfg=u;else{this._effectCfg=null,this.stopEffectAnimation();var p=this.childAt(0),m=function(){p.highlight(),"render"!==u.showEffectOn&&this.startEffectAnimation(u)},d=function(){p.downplay(),"render"!==u.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",m,this).on("mouseout",d,this).on("emphasis",m,this).on("normal",d,this)}this._effectCfg=u},u.fadeOut=function(t){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),t&&t()},o.inherits(i,s);var p=i;module.exports=p;
},{"zrender/lib/core/util":113,"../../util/symbol":193,"../../util/graphic":59,"./Symbol":383,"../../util/number":60}],100:[function(require,module,exports) {
var e=require("../../echarts"),t=require("../helper/SymbolDraw"),r=require("../helper/EffectSymbol"),a=e.extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new t(r)},render:function(e,t,r){var a=e.getData(),o=this._symbolDraw;o.updateData(a),this.group.add(o.group)},updateLayout:function(){this._symbolDraw.updateLayout()},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(t)},dispose:function(){}});module.exports=a;
},{"../../echarts":14,"../helper/SymbolDraw":260,"../helper/EffectSymbol":304}],31:[function(require,module,exports) {
var e=require("../echarts"),r=require("zrender/lib/core/util");require("./effectScatter/EffectScatterSeries"),require("./effectScatter/EffectScatterView");var t=require("../visual/symbol"),c=require("../layout/points");e.registerVisual(r.curry(t,"effectScatter","circle",null)),e.registerLayout(r.curry(c,"effectScatter"));
},{"../echarts":14,"../visual/symbol":72,"../layout/points":73,"./effectScatter/EffectScatterSeries":99,"./effectScatter/EffectScatterView":100,"zrender/lib/core/util":113}],234:[function(require,module,exports) {
function e(e){var n=e.data;n&&n[0]&&n[0][0]&&n[0][0].coord&&(e.data=i.map(n,function(e){var n={coords:[e[0].coord,e[1].coord]};return e[0].name&&(n.fromName=e[0].name),e[1].name&&(n.toName=e[1].name),i.mergeAll([n,e[0],e[1]])}))}var n=require("../../config"),o=n.__DEV__,r=require("../../model/Series"),t=require("../../data/List"),i=require("zrender/lib/core/util"),a=require("../../util/format"),l=a.encodeHTML,s=require("../../CoordinateSystem"),u=r.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.normal.color",init:function(n){e(n),u.superApply(this,"init",arguments)},mergeOption:function(n){e(n),u.superApply(this,"mergeOption",arguments)},getInitialData:function(e,n){var o=new t(["value"],this);return o.hasItemOption=!1,o.initData(e.data,[],function(e,n,r,t){if(e instanceof Array)return NaN;o.hasItemOption=!0;var i=e.value;return null!=i?i instanceof Array?i[t]:i:void 0}),o},formatTooltip:function(e){var n=this.getData().getItemModel(e),o=n.get("name");if(o)return o;var r=n.get("fromName"),t=n.get("toName"),i=[];return null!=r&&i.push(r),null!=t&&i.push(t),l(i.join(" > "))},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,label:{normal:{show:!1,position:"end"}},lineStyle:{normal:{opacity:.5}}}}),m=u;module.exports=m;
},{"../../config":116,"../../CoordinateSystem":197,"../../model/Series":202,"../../data/List":63,"../../util/format":61,"zrender/lib/core/util":113}],235:[function(require,module,exports) {
function e(e){e.eachSeriesByType("lines",function(e){var t=e.coordinateSystem,o=e.getData();o.each(function(n){var a=o.getItemModel(n),i=a.option instanceof Array?a.option:a.get("coords"),r=[];if(e.get("polyline"))for(var s=0;s<i.length;s++)r.push(t.dataToPoint(i[s]));else{r[0]=t.dataToPoint(i[0]),r[1]=t.dataToPoint(i[1]);var c=a.get("lineStyle.normal.curveness");+c&&(r[2]=[(r[0][0]+r[1][0])/2-(r[0][1]-r[1][1])*c,(r[0][1]+r[1][1])/2-(r[1][0]-r[0][0])*c])}o.setItemLayout(n,r)})})}var t=require("../../config"),o=t.__DEV__;module.exports=e;
},{"../../config":116}],395:[function(require,module,exports) {
function t(t,i,o){e.Group.call(this),this.add(this.createLine(t,i,o)),this._updateEffectSymbol(t,i)}var e=require("../../util/graphic"),i=require("./Line"),o=require("zrender/lib/core/util"),r=require("../../util/symbol"),n=r.createSymbol,a=require("zrender/lib/core/vector"),u=require("zrender/lib/core/curve"),c=t.prototype;c.createLine=function(t,e,o){return new i(t,e,o)},c._updateEffectSymbol=function(t,e){var i=t.getItemModel(e).getModel("effect"),r=i.get("symbolSize"),a=i.get("symbol");o.isArray(r)||(r=[r,r]);var u=i.get("color")||t.getItemVisual(e,"color"),c=this.childAt(1);this._symbolType!==a&&(this.remove(c),(c=n(a,-.5,-.5,1,1,u)).z2=100,c.culling=!0,this.add(c)),c&&(c.setStyle("shadowColor",u),c.setStyle(i.getItemStyle(["color"])),c.attr("scale",r),c.setColor(u),c.attr("scale",r),this._symbolType=a,this._updateEffectAnimation(t,i,e))},c._updateEffectAnimation=function(t,e,i){var r=this.childAt(1);if(r){var n=this,a=t.getItemLayout(i),u=1e3*e.get("period"),c=e.get("loop"),s=e.get("constantSpeed"),l=o.retrieve(e.get("delay"),function(e){return e/t.count()*u/3}),d="function"==typeof l;if(r.ignore=!0,this.updateAnimationPoints(r,a),s>0&&(u=this.getLineLength(r)/s*1e3),u!==this._period||c!==this._loop){r.stopAnimation();var p=l;d&&(p=l(i)),r.__t>0&&(p=-u*r.__t),r.__t=0;var _=r.animate("",c).when(u,{__t:1}).delay(p).during(function(){n.updateSymbolPosition(r)});c||_.done(function(){n.remove(r)}),_.start()}this._period=u,this._loop=c}},c.getLineLength=function(t){return a.dist(t.__p1,t.__cp1)+a.dist(t.__cp1,t.__p2)},c.updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},c.updateData=function(t,e,i){this.childAt(0).updateData(t,e,i),this._updateEffectSymbol(t,e)},c.updateSymbolPosition=function(t){var e=t.__p1,i=t.__p2,o=t.__cp1,r=t.__t,n=t.position,a=u.quadraticAt,c=u.quadraticDerivativeAt;n[0]=a(e[0],o[0],i[0],r),n[1]=a(e[1],o[1],i[1],r);var s=c(e[0],o[0],i[0],r),l=c(e[1],o[1],i[1],r);t.rotation=-Math.atan2(l,s)-Math.PI/2,t.ignore=!1},c.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var i=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,i,e)},o.inherits(t,e.Group);var s=t;module.exports=s;
},{"../../util/graphic":59,"./Line":396,"zrender/lib/core/util":113,"../../util/symbol":193,"zrender/lib/core/vector":112,"zrender/lib/core/curve":415}],397:[function(require,module,exports) {
function e(e,o,i){t.Group.call(this),this._createPolyline(e,o,i)}var t=require("../../util/graphic"),o=require("zrender/lib/core/util"),i=e.prototype;i._createPolyline=function(e,o,i){var l=e.getItemLayout(o),n=new t.Polyline({shape:{points:l}});this.add(n),this._updateCommonStl(e,o,i)},i.updateData=function(e,o,i){var l=e.hostModel,n=this.childAt(0),a={shape:{points:e.getItemLayout(o)}};t.updateProps(n,a,l,o),this._updateCommonStl(e,o,i)},i._updateCommonStl=function(e,i,l){var n=this.childAt(0),a=e.getItemModel(i),r=e.getItemVisual(i,"color"),s=l&&l.lineStyle,u=l&&l.hoverLineStyle;l&&!e.hasItemOption||(s=a.getModel("lineStyle.normal").getLineStyle(),u=a.getModel("lineStyle.emphasis").getLineStyle()),n.useStyle(o.defaults({strokeNoScale:!0,fill:"none",stroke:r},s)),n.hoverStyle=u,t.setHoverStyle(this)},i.updateLayout=function(e,t){this.childAt(0).setShape("points",e.getItemLayout(t))},o.inherits(e,t.Group);var l=e;module.exports=l;
},{"../../util/graphic":59,"zrender/lib/core/util":113}],398:[function(require,module,exports) {
function t(t,e,i){r.call(this,t,e,i),this._lastFrame=0,this._lastFramePercent=0}var e=require("./Polyline"),i=require("zrender/lib/core/util"),r=require("./EffectLine"),n=require("zrender/lib/core/vector"),a=t.prototype;a.createLine=function(t,i,r){return new e(t,i,r)},a.updateAnimationPoints=function(t,e){this._points=e;for(var i=[0],r=0,a=1;a<e.length;a++){var s=e[a-1],o=e[a];r+=n.dist(s,o),i.push(r)}if(0!==r){for(a=0;a<i.length;a++)i[a]/=r;this._offsets=i,this._length=r}},a.getLineLength=function(t){return this._length},a.updateSymbolPosition=function(t){var e=t.__t,i=this._points,r=this._offsets,a=i.length;if(r){var s=this._lastFrame;if(e<this._lastFramePercent){for(o=Math.min(s+1,a-1);o>=0&&!(r[o]<=e);o--);o=Math.min(o,a-2)}else{for(var o=s;o<a&&!(r[o]>e);o++);o=Math.min(o-1,a-2)}n.lerp(t.position,i[o],i[o+1],(e-r[o])/(r[o+1]-r[o]));var h=i[o+1][0]-i[o][0],l=i[o+1][1]-i[o][1];t.rotation=-Math.atan2(l,h)-Math.PI/2,this._lastFrame=o,this._lastFramePercent=e,t.ignore=!1}},i.inherits(t,r);var s=t;module.exports=s;
},{"zrender/lib/core/util":113,"zrender/lib/core/vector":112,"./Polyline":397,"./EffectLine":395}],399:[function(require,module,exports) {
function e(){this.group=new t.Group,this._lineEl=new i}var t=require("../../util/graphic"),n=require("zrender/lib/contain/line"),r=require("zrender/lib/contain/quadratic"),i=t.extendShape({shape:{polyline:!1,segs:[]},buildPath:function(e,t){for(var n=t.segs,r=t.polyline,i=0;i<n.length;i++){var o=n[i];if(r){e.moveTo(o[0][0],o[0][1]);for(var a=1;a<o.length;a++)e.lineTo(o[a][0],o[a][1])}else e.moveTo(o[0][0],o[0][1]),o.length>2?e.quadraticCurveTo(o[2][0],o[2][1],o[1][0],o[1][1]):e.lineTo(o[1][0],o[1][1])}},findDataIndex:function(e,t){for(var i=this.shape,o=i.segs,a=i.polyline,l=Math.max(this.style.lineWidth,1),s=0;s<o.length;s++){var u=o[s];if(a){for(var h=1;h<u.length;h++)if(n.containStroke(u[h-1][0],u[h-1][1],u[h][0],u[h][1],l,e,t))return s}else if(u.length>2){if(r.containStroke(u[0][0],u[0][1],u[2][0],u[2][1],u[1][0],u[1][1],l,e,t))return s}else if(n.containStroke(u[0][0],u[0][1],u[1][0],u[1][1],l,e,t))return s}return-1}}),o=e.prototype;o.updateData=function(e){this.group.removeAll();var t=this._lineEl,n=e.hostModel;t.setShape({segs:e.mapArray(e.getItemLayout),polyline:n.get("polyline")}),t.useStyle(n.getModel("lineStyle.normal").getLineStyle());var r=e.getVisual("color");r&&t.setStyle("stroke",r),t.setStyle("fill"),t.seriesIndex=n.seriesIndex,t.on("mousemove",function(e){t.dataIndex=null;var n=t.findDataIndex(e.offsetX,e.offsetY);n>0&&(t.dataIndex=n)}),this.group.add(t)},o.updateLayout=function(e){var t=e.getData();this._lineEl.setShape({segs:t.mapArray(t.getItemLayout)})},o.remove=function(){this.group.removeAll()};var a=e;module.exports=a;
},{"../../util/graphic":59,"zrender/lib/contain/line":454,"zrender/lib/contain/quadratic":455}],236:[function(require,module,exports) {
var e=require("../../config"),t=e.__DEV__,r=require("../../echarts"),i=require("../helper/LineDraw"),a=require("../helper/EffectLine"),l=require("../helper/Line"),n=require("../helper/Polyline"),s=require("../helper/EffectPolyline"),h=require("../helper/LargeLineDraw"),g=r.extendChartView({type:"lines",init:function(){},render:function(e,t,r){var g=e.getData(),o=this._lineDraw,p=e.get("effect.show"),u=e.get("polyline"),f=e.get("large")&&g.count()>=e.get("largeThreshold");p===this._hasEffet&&u===this._isPolyline&&f===this._isLarge||(o&&o.remove(),o=this._lineDraw=f?new h:new i(u?p?s:n:p?a:l),this._hasEffet=p,this._isPolyline=u,this._isLarge=f);var _=e.get("zlevel"),c=e.get("effect.trailLength"),v=r.getZr(),y="svg"===v.painter.getType();y||v.painter.getLayer(_).clear(!0),null==this._lastZlevel||y||v.configLayer(this._lastZlevel,{motionBlur:!1}),p&&c&&(y||v.configLayer(_,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(c/10+.9,1),0)})),this.group.add(o.group),o.updateData(g),this._lastZlevel=_},updateLayout:function(e,t,r){this._lineDraw.updateLayout(e);var i=r.getZr();"svg"===i.painter.getType()||i.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(e,t){this._lineDraw&&this._lineDraw.remove(t,!0);var r=t.getZr();"svg"===r.painter.getType()||r.painter.getLayer(this._lastZlevel).clear(!0)},dispose:function(){}});module.exports=g;
},{"../../config":116,"../../echarts":14,"../helper/LineDraw":360,"../helper/EffectLine":395,"../helper/Line":396,"../helper/Polyline":397,"../helper/EffectPolyline":398,"../helper/LargeLineDraw":399}],237:[function(require,module,exports) {
function e(e){return e instanceof Array||(e=[e,e]),e}function t(t){t.eachSeriesByType("lines",function(t){var o=t.getData(),l=e(t.get("symbol")),s=e(t.get("symbolSize")),i="lineStyle.normal.opacity".split(".");o.setVisual("fromSymbol",l&&l[0]),o.setVisual("toSymbol",l&&l[1]),o.setVisual("fromSymbolSize",s&&s[0]),o.setVisual("toSymbolSize",s&&s[1]),o.setVisual("opacity",t.get(i)),o.each(function(t){var l=o.getItemModel(t),s=e(l.getShallow("symbol",!0)),a=e(l.getShallow("symbolSize",!0)),m=l.get(i);s[0]&&o.setItemVisual(t,"fromSymbol",s[0]),s[1]&&o.setItemVisual(t,"toSymbol",s[1]),a[0]&&o.setItemVisual(t,"fromSymbolSize",a[0]),a[1]&&o.setItemVisual(t,"toSymbolSize",a[1]),o.setItemVisual(t,"opacity",m)})})}module.exports=t;
},{}],32:[function(require,module,exports) {
var e=require("../echarts");require("./lines/LinesSeries"),require("./lines/LinesView");var i=require("./lines/linesLayout"),r=require("./lines/linesVisual");e.registerLayout(i),e.registerVisual(r);
},{"../echarts":14,"./lines/LinesSeries":234,"./lines/linesLayout":235,"./lines/LinesView":236,"./lines/linesVisual":237}],101:[function(require,module,exports) {
var e=require("../../model/Series"),t=require("../helper/createListFromArray"),i=e.extend({type:"series.heatmap",getInitialData:function(e,i){return t(e.data,this,i)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});module.exports=i;
},{"../../model/Series":202,"../helper/createListFromArray":119}],305:[function(require,module,exports) {
function t(){var t=i.createCanvas();this.canvas=t,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}var i=require("zrender/lib/core/util"),a=256;t.prototype={update:function(t,i,e,r,h,n){var s=this._getBrush(),o=this._getGradient(t,h,"inRange"),g=this._getGradient(t,h,"outOfRange"),l=this.pointSize+this.blurSize,u=this.canvas,d=u.getContext("2d"),v=t.length;u.width=i,u.height=e;for(var c=0;c<v;++c){var p=t[c],f=p[0],b=p[1],m=r(p[2]);d.globalAlpha=m,d.drawImage(s,f-l,b-l)}if(!u.width||!u.height)return u;for(var w=d.getImageData(0,0,u.width,u.height),z=w.data,_=0,C=z.length,S=this.minOpacity,x=this.maxOpacity-S;_<C;){m=z[_+3]/256;var y=4*Math.floor(m*(a-1));if(m>0){var O=n(m)?o:g;m>0&&(m=m*x+S),z[_++]=O[y],z[_++]=O[y+1],z[_++]=O[y+2],z[_++]=O[y+3]*m*256}else _+=4}return d.putImageData(w,0,0),u},_getBrush:function(){var t=this._brushCanvas||(this._brushCanvas=i.createCanvas()),a=this.pointSize+this.blurSize,e=2*a;t.width=e,t.height=e;var r=t.getContext("2d");return r.clearRect(0,0,e,e),r.shadowOffsetX=e,r.shadowBlur=this.blurSize,r.shadowColor="#000",r.beginPath(),r.arc(-a,a,this.pointSize,0,2*Math.PI,!0),r.closePath(),r.fill(),t},_getGradient:function(t,i,a){for(var e=this._gradientPixels,r=e[a]||(e[a]=new Uint8ClampedArray(1024)),h=[0,0,0,0],n=0,s=0;s<256;s++)i[a](s/255,!0,h),r[n++]=h[0],r[n++]=h[1],r[n++]=h[2],r[n++]=h[3];return r}};var e=t;module.exports=e;
},{"zrender/lib/core/util":113}],102:[function(require,module,exports) {
function e(e,t,a){var i=e[1]-e[0],r=(t=g.map(t,function(t){return{interval:[(t.interval[0]-e[0])/i,(t.interval[1]-e[0])/i]}})).length,n=0;return function(e){for(var i=n;i<r;i++){if((o=t[i].interval)[0]<=e&&e<=o[1]){n=i;break}}if(i===r)for(i=n-1;i>=0;i--){var o;if((o=t[i].interval)[0]<=e&&e<=o[1]){n=i;break}}return i>=0&&i<r&&a[i]}}function t(e,t){var a=e[1]-e[0];return t=[(t[0]-e[0])/a,(t[1]-e[0])/a],function(e){return e>=t[0]&&e<=t[1]}}function a(e){var t=e.dimensions;return"lng"===t[0]&&"lat"===t[1]}var i=require("../../config"),r=i.__DEV__,n=require("../../echarts"),o=require("../../util/graphic"),l=require("./HeatmapLayer"),g=require("zrender/lib/core/util"),s=n.extendChartView({type:"heatmap",render:function(e,t,i){var r;t.eachComponent("visualMap",function(t){t.eachTargetSeries(function(a){a===e&&(r=t)})}),this.group.removeAll();var n=e.coordinateSystem;"cartesian2d"===n.type||"calendar"===n.type?this._renderOnCartesianAndCalendar(n,e,i):a(n)&&this._renderOnGeo(n,e,r,i)},dispose:function(){},_renderOnCartesianAndCalendar:function(e,t,a){if("cartesian2d"===e.type)var i=e.getAxis("x"),r=e.getAxis("y"),n=i.getBandWidth(),l=r.getBandWidth();var s=this.group,c=t.getData(),m="itemStyle.normal",u="itemStyle.emphasis",d=t.getModel(m).getItemStyle(["color"]),p=t.getModel(u).getItemStyle(),h=t.getModel("label.normal"),y=t.getModel("label.emphasis"),f=e.type,v="cartesian2d"===f?[t.coordDimToDataDim("x")[0],t.coordDimToDataDim("y")[0],t.coordDimToDataDim("value")[0]]:[t.coordDimToDataDim("time")[0],t.coordDimToDataDim("value")[0]];c.each(function(a){var i;if("cartesian2d"===f){if(isNaN(c.get(v[2],a)))return;var r=e.dataToPoint([c.get(v[0],a),c.get(v[1],a)]);i=new o.Rect({shape:{x:r[0]-n/2,y:r[1]-l/2,width:n,height:l},style:{fill:c.getItemVisual(a,"color"),opacity:c.getItemVisual(a,"opacity")}})}else{if(isNaN(c.get(v[1],a)))return;i=new o.Rect({z2:1,shape:e.dataToRect([c.get(v[0],a)]).contentShape,style:{fill:c.getItemVisual(a,"color"),opacity:c.getItemVisual(a,"opacity")}})}var x=c.getItemModel(a);c.hasItemOption&&(d=x.getModel(m).getItemStyle(["color"]),p=x.getModel(u).getItemStyle(),h=x.getModel("label.normal"),y=x.getModel("label.emphasis"));var D=t.getRawValue(a),M="-";D&&null!=D[2]&&(M=D[2]),o.setLabelStyle(d,p,h,y,{labelFetcher:t,labelDataIndex:a,defaultText:M,isRectText:!0}),i.setStyle(d),o.setHoverStyle(i,c.hasItemOption?p:g.extend({},p)),s.add(i),c.setItemGraphicEl(a,i)})},_renderOnGeo:function(a,i,r,n){var g=r.targetVisuals.inRange,s=r.targetVisuals.outOfRange,c=i.getData(),m=this._hmLayer||this._hmLayer||new l;m.blurSize=i.get("blurSize"),m.pointSize=i.get("pointSize"),m.minOpacity=i.get("minOpacity"),m.maxOpacity=i.get("maxOpacity");var u=a.getViewRect().clone(),d=a.getRoamTransform().transform;u.applyTransform(d);var p=Math.max(u.x,0),h=Math.max(u.y,0),y=Math.min(u.width+u.x,n.getWidth()),f=Math.min(u.height+u.y,n.getHeight()),v=y-p,x=f-h,D=c.mapArray(["lng","lat","value"],function(e,t,i){var r=a.dataToPoint([e,t]);return r[0]-=p,r[1]-=h,r.push(i),r}),M=r.getExtent(),S="visualMap.continuous"===r.type?t(M,r.option.range):e(M,r.getPieceList(),r.option.selected);m.update(D,v,x,g.color.getNormalizer(),{inRange:g.color.getColorMapper(),outOfRange:s.color.getColorMapper()},S);var I=new o.Image({style:{width:v,height:x,x:p,y:h,image:m.canvas},silent:!0});this.group.add(I)}});module.exports=s;
},{"../../config":116,"../../echarts":14,"../../util/graphic":59,"./HeatmapLayer":305,"zrender/lib/core/util":113}],33:[function(require,module,exports) {
require("./heatmap/HeatmapSeries"),require("./heatmap/HeatmapView");
},{"./heatmap/HeatmapSeries":101,"./heatmap/HeatmapView":102}],103:[function(require,module,exports) {
var e=require("./BaseBarSeries"),l=e.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(e){return e.stack=null,l.superApply(this,"getInitialData",arguments)}}),i=l;module.exports=i;
},{"./BaseBarSeries":257}],104:[function(require,module,exports) {
function e(e,i,r,l){var s=e.getItemLayout(i),c=r.get("symbolRepeat"),u=r.get("symbolClip"),p=r.get("symbolPosition")||"start",m=(r.get("symbolRotate")||0)*Math.PI/180||0,d=r.get("symbolPatternSize")||2,h=r.isAnimationEnabled(),y={dataIndex:i,layout:s,itemModel:r,symbolType:e.getItemVisual(i,"symbol")||"circle",color:e.getItemVisual(i,"color"),symbolClip:u,symbolRepeat:c,symbolRepeatDirection:r.get("symbolRepeatDirection"),symbolPatternSize:d,rotation:m,animationModel:h?r:null,hoverAnimation:h&&r.get("hoverAnimation"),z2:r.getShallow("z",!0)||0};t(r,c,s,l,y),a(e,i,s,c,u,y.boundingLength,y.pxSign,d,l,y),o(r,y.symbolScale,m,l,y);var g=y.symbolSize,b=r.get("symbolOffset");return w.isArray(b)&&(b=[z(b[0],g[0]),z(b[1],g[1])]),n(r,g,s,c,u,b,p,y.valueLineWidth,y.boundingLength,y.repeatCutLength,l,y),y}function t(e,t,a,o,n){var r,l=o.valueDim,s=e.get("symbolBoundingData"),c=o.coordSys.getOtherAxis(o.coordSys.getBaseAxis()),u=c.toGlobalCoord(c.dataToCoord(0)),p=1-+(a[l.wh]<=0);if(w.isArray(s)){var m=[i(c,s[0])-u,i(c,s[1])-u];m[1]<m[0]&&m.reverse(),r=m[p]}else r=null!=s?i(c,s)-u:t?o.coordSysExtent[l.index][p]-u:a[l.wh];n.boundingLength=r,t&&(n.repeatCutLength=a[l.wh]),n.pxSign=r>0?1:r<0?-1:0}function i(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function a(e,t,i,a,o,n,r,l,s,c){var u=s.valueDim,p=s.categoryDim,m=Math.abs(i[p.wh]),d=e.getItemVisual(t,"symbolSize");w.isArray(d)?d=d.slice():(null==d&&(d="100%"),d=[d,d]),d[p.index]=z(d[p.index],m),d[u.index]=z(d[u.index],a?m:Math.abs(n)),c.symbolSize=d;(c.symbolScale=[d[0]/l,d[1]/l])[u.index]*=(s.isHorizontal?-1:1)*r}function o(e,t,i,a,o){var n=e.get(E)||0;n&&(T.attr({scale:t.slice(),rotation:i}),T.updateTransform(),n/=T.getLineScale(),n*=t[a.valueDim.index]),o.valueLineWidth=n}function n(e,t,i,a,o,n,r,l,s,c,u,p){var m=u.categoryDim,d=u.valueDim,h=p.pxSign,y=Math.max(t[d.index]+l,0),g=y;if(a){var b=Math.abs(s),f=w.retrieve(e.get("symbolMargin"),"15%")+"",v=!1;f.lastIndexOf("!")===f.length-1&&(v=!0,f=f.slice(0,f.length-1)),f=z(f,t[d.index]);var x=Math.max(y+2*f,0),_=v?0:2*f,M=C(a),P=M?a:S((b+_)/x);x=y+2*(f=(b-P*y)/2/(v?P:P-1)),_=v?0:2*f,M||"fixed"===a||(P=c?S((Math.abs(c)+_)/x):0),g=P*x-_,p.repeatTimes=P,p.symbolMargin=f}var I=h*(g/2),R=p.pathPosition=[];R[m.index]=i[m.wh]/2,R[d.index]="start"===r?I:"end"===r?s-I:s/2,n&&(R[0]+=n[0],R[1]+=n[1]);var D=p.bundlePosition=[];D[m.index]=i[m.xy],D[d.index]=i[d.xy];var A=p.barRectShape=w.extend({},i);A[d.wh]=h*Math.max(Math.abs(i[d.wh]),Math.abs(R[d.index]+I)),A[m.wh]=i[m.wh];var B=p.clipShape={};B[m.xy]=-i[m.xy],B[m.wh]=u.ecSize[m.wh],B[d.xy]=0,B[d.wh]=i[d.wh]}function r(e){var t=e.symbolPatternSize,i=R(e.symbolType,-t/2,-t/2,t,t,e.color);return i.attr({culling:!0}),"image"!==i.type&&i.setStyle({strokeNoScale:!0}),i}function l(e,t,i,a){function o(e){var t=p.slice(),a=i.pxSign,o=e;return("start"===i.symbolRepeatDirection?a>0:a<0)&&(o=d-1-e),t[m.index]=g*(o-d/2+.5)+p[m.index],{position:t,scale:i.symbolScale.slice(),rotation:i.rotation}}function n(){v(e,function(e){e.trigger("emphasis")})}function l(){v(e,function(e){e.trigger("normal")})}var s=e.__pictorialBundle,c=i.symbolSize,u=i.valueLineWidth,p=i.pathPosition,m=t.valueDim,d=i.repeatTimes||0,y=0,g=c[t.valueDim.index]+u+2*i.symbolMargin;for(v(e,function(e){e.__pictorialAnimationIndex=y,e.__pictorialRepeatTimes=d,y<d?x(e,null,o(y),i,a):x(e,null,{scale:[0,0]},i,a,function(){s.remove(e)}),h(e,i),y++});y<d;y++){var b=r(i);b.__pictorialAnimationIndex=y,b.__pictorialRepeatTimes=d,s.add(b);var f=o(y);x(b,{position:f.position,scale:[0,0]},{scale:f.scale,rotation:f.rotation},i,a),b.on("mouseover",n).on("mouseout",l),h(b,i)}}function s(e,t,i,a){function o(){this.trigger("emphasis")}function n(){this.trigger("normal")}var l=e.__pictorialBundle,s=e.__pictorialMainPath;s?x(s,null,{position:i.pathPosition.slice(),scale:i.symbolScale.slice(),rotation:i.rotation},i,a):(s=e.__pictorialMainPath=r(i),l.add(s),x(s,{position:i.pathPosition.slice(),scale:[0,0],rotation:i.rotation},{scale:i.symbolScale.slice()},i,a),s.on("mouseover",o).on("mouseout",n)),h(s,i)}function c(e,t,i){var a=w.extend({},t.barRectShape),o=e.__pictorialBarRect;o?x(o,null,{shape:a},t,i):(o=e.__pictorialBarRect=new P.Rect({z2:2,shape:a,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),e.add(o))}function u(e,t,i,a){if(i.symbolClip){var o=e.__pictorialClipPath,n=w.extend({},i.clipShape),r=t.valueDim,l=i.animationModel,s=i.dataIndex;if(o)P.updateProps(o,{shape:n},l,s);else{n[r.wh]=0,o=new P.Rect({shape:n}),e.__pictorialBundle.setClipPath(o),e.__pictorialClipPath=o;var c={};c[r.wh]=i.clipShape[r.wh],P[a?"updateProps":"initProps"](o,{shape:c},l,s)}}}function p(e,t){var i=e.getItemModel(t);return i.getAnimationDelayParams=m,i.isAnimationEnabled=d,i}function m(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function d(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function h(e,t){e.off("emphasis").off("normal");var i=t.symbolScale.slice();t.hoverAnimation&&e.on("emphasis",function(){this.animateTo({scale:[1.1*i[0],1.1*i[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:i.slice()},400,"elasticOut")})}function y(e,t,i,a){var o=new P.Group,n=new P.Group;return o.add(n),o.__pictorialBundle=n,n.attr("position",i.bundlePosition.slice()),i.symbolRepeat?l(o,t,i):s(o,t,i),c(o,i,a),u(o,t,i,a),o.__pictorialShapeStr=f(e,i),o.__pictorialSymbolMeta=i,o}function g(e,t,i){var a=i.animationModel,o=i.dataIndex,n=e.__pictorialBundle;P.updateProps(n,{position:i.bundlePosition.slice()},a,o),i.symbolRepeat?l(e,t,i,!0):s(e,t,i,!0),c(e,i,!0),u(e,t,i,!0)}function b(e,t,i,a){var o=a.__pictorialBarRect;o&&(o.style.text=null);var n=[];v(a,function(e){n.push(e)}),a.__pictorialMainPath&&n.push(a.__pictorialMainPath),a.__pictorialClipPath&&(i=null),w.each(n,function(e){P.updateProps(e,{scale:[0,0]},i,t,function(){a.parent&&a.parent.remove(a)})}),e.setItemGraphicEl(t,null)}function f(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function v(e,t,i){w.each(e.__pictorialBundle.children(),function(a){a!==e.__pictorialBarRect&&t.call(i,a)})}function x(e,t,i,a,o,n){t&&e.attr(t),a.symbolClip&&!o?i&&e.attr(i):i&&P[o?"updateProps":"initProps"](e,i,a.animationModel,a.dataIndex,n)}function _(e,t,i){var a=i.color,o=i.dataIndex,n=i.itemModel,r=n.getModel("itemStyle.normal").getItemStyle(["color"]),l=n.getModel("itemStyle.emphasis").getItemStyle(),s=n.getShallow("cursor");v(e,function(e){e.setColor(a),e.setStyle(w.defaults({fill:a,opacity:i.opacity},r)),P.setHoverStyle(e,l),s&&(e.cursor=s),e.z2=i.z2});var c={},u=t.valueDim.posDesc[+(i.boundingLength>0)],p=e.__pictorialBarRect;B(p.style,c,n,a,t.seriesModel,o,u),P.setHoverStyle(p,c)}function S(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}var M=require("../../echarts"),w=require("zrender/lib/core/util"),P=require("../../util/graphic"),I=require("../../util/symbol"),R=I.createSymbol,D=require("../../util/number"),z=D.parsePercent,C=D.isNumeric,A=require("./helper"),B=A.setLabel,E=["itemStyle","normal","borderWidth"],L=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],T=new P.Circle,G=M.extendChartView({type:"pictorialBar",render:function(t,i,a){var o=this.group,n=t.getData(),r=this._data,l=t.coordinateSystem,s=!!l.getBaseAxis().isHorizontal(),c=l.grid.getRect(),u={ecSize:{width:a.getWidth(),height:a.getHeight()},seriesModel:t,coordSys:l,coordSysExtent:[[c.x,c.x+c.width],[c.y,c.y+c.height]],isHorizontal:s,valueDim:L[+s],categoryDim:L[1-s]};return n.diff(r).add(function(t){if(n.hasValue(t)){var i=p(n,t),a=e(n,t,i,u),r=y(n,u,a);n.setItemGraphicEl(t,r),o.add(r),_(r,u,a)}}).update(function(t,i){var a=r.getItemGraphicEl(i);if(n.hasValue(t)){var l=p(n,t),s=e(n,t,l,u),c=f(n,s);a&&c!==a.__pictorialShapeStr&&(o.remove(a),n.setItemGraphicEl(t,null),a=null),a?g(a,u,s):a=y(n,u,s,!0),n.setItemGraphicEl(t,a),a.__pictorialSymbolMeta=s,o.add(a),_(a,u,s)}else o.remove(a)}).remove(function(e){var t=r.getItemGraphicEl(e);t&&b(r,e,t.__pictorialSymbolMeta.animationModel,t)}).execute(),this._data=n,this.group},dispose:w.noop,remove:function(e,t){var i=this.group,a=this._data;e.get("animation")?a&&a.eachItemGraphicEl(function(t){b(a,t.dataIndex,e,t)}):i.removeAll()}}),V=G;module.exports=V;
},{"../../echarts":14,"zrender/lib/core/util":113,"../../util/graphic":59,"./helper":259,"../../util/number":60,"../../util/symbol":193}],34:[function(require,module,exports) {
var r=require("../echarts"),e=require("zrender/lib/core/util");require("../coord/cartesian/Grid"),require("./bar/PictorialBarSeries"),require("./bar/PictorialBarView");var i=require("../layout/barGrid"),a=require("../visual/symbol");require("../component/gridSimple"),r.registerLayout(e.curry(i,"pictorialBar")),r.registerVisual(e.curry(a,"pictorialBar","roundRect",null));
},{"../echarts":14,"../coord/cartesian/Grid":69,"../layout/barGrid":67,"../visual/symbol":72,"../component/gridSimple":68,"./bar/PictorialBarSeries":103,"./bar/PictorialBarView":104,"zrender/lib/core/util":113}],321:[function(require,module,exports) {
function t(){}function e(t,e,a,n){i(c(a).lastProp,n)||(c(a).lastProp=n,e?s.updateProps(a,n,t):(a.stopAnimation(),a.attr(n)))}function i(t,e){if(r.isObject(t)&&r.isObject(e)){var a=!0;return r.each(e,function(e,n){a=a&&i(t[n],e)}),!!a}return t===e}function a(t,e){t[e.get("label.show")?"show":"hide"]()}function n(t){return{position:t.position.slice(),rotation:t.rotation||0}}function o(t,e,i){var a=e.get("z"),n=e.get("zlevel");t&&t.traverse(function(t){"group"!==t.type&&(null!=a&&(t.z=a),null!=n&&(t.zlevel=n),t.silent=i)})}var r=require("zrender/lib/core/util"),l=require("../../util/clazz"),s=require("../../util/graphic"),h=require("./modelHelper"),d=require("zrender/lib/core/event"),u=require("../../util/throttle"),p=require("../../util/model"),c=p.makeGetter(),_=r.clone,f=r.bind;t.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(t,i,a,n){var l=i.get("value"),h=i.get("status");if(this._axisModel=t,this._axisPointerModel=i,this._api=a,n||this._lastValue!==l||this._lastStatus!==h){this._lastValue=l,this._lastStatus=h;var d=this._group,u=this._handle;if(!h||"hide"===h)return d&&d.hide(),void(u&&u.hide());d&&d.show(),u&&u.show();var p={};this.makeElOption(p,l,t,i,a);var c=p.graphicKey;c!==this._lastGraphicKey&&this.clear(a),this._lastGraphicKey=c;var _=this._moveAnimation=this.determineAnimation(t,i);if(d){var f=r.curry(e,i,_);this.updatePointerEl(d,p,f,i),this.updateLabelEl(d,p,f,i)}else d=this._group=new s.Group,this.createPointerEl(d,p,t,i),this.createLabelEl(d,p,t,i),a.getZr().add(d);o(d,i,!0),this._renderHandle(l)}},remove:function(t){this.clear(t)},dispose:function(t){this.clear(t)},determineAnimation:function(t,e){var i=e.get("animation"),a=t.axis,n="category"===a.type,o=e.get("snap");if(!o&&!n)return!1;if("auto"===i||null==i){var r=this.animationThreshold;if(n&&a.getBandWidth()>r)return!0;if(o){var l=h.getAxisInfo(t).seriesDataCount,s=a.getExtent();return Math.abs(s[0]-s[1])/l>r}return!1}return!0===i},makeElOption:function(t,e,i,a,n){},createPointerEl:function(t,e,i,a){var n=e.pointer;if(n){var o=c(t).pointerEl=new s[n.type](_(e.pointer));t.add(o)}},createLabelEl:function(t,e,i,n){if(e.label){var o=c(t).labelEl=new s.Rect(_(e.label));t.add(o),a(o,n)}},updatePointerEl:function(t,e,i){var a=c(t).pointerEl;a&&(a.setStyle(e.pointer.style),i(a,{shape:e.pointer.shape}))},updateLabelEl:function(t,e,i,n){var o=c(t).labelEl;o&&(o.setStyle(e.label.style),i(o,{shape:e.label.shape,position:e.label.position}),a(o,n))},_renderHandle:function(t){if(!this._dragging&&this.updateHandleTransform){var e=this._axisPointerModel,i=this._api.getZr(),a=this._handle,n=e.getModel("handle"),l=e.get("status");if(!n.get("show")||!l||"hide"===l)return a&&i.remove(a),void(this._handle=null);var h;this._handle||(h=!0,a=this._handle=s.createIcon(n.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){d.stop(t.event)},onmousedown:f(this._onHandleDragMove,this,0,0),drift:f(this._onHandleDragMove,this),ondragend:f(this._onHandleDragEnd,this)}),i.add(a)),o(a,e,!1);a.setStyle(n.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var p=n.get("size");r.isArray(p)||(p=[p,p]),a.attr("scale",[p[0]/2,p[1]/2]),u.createOrUpdate(this,"_doDispatchAxisPointer",n.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,h)}},_moveHandleToValue:function(t,i){e(this._axisPointerModel,!i&&this._moveAnimation,this._handle,n(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(t,e){var i=this._handle;if(i){this._dragging=!0;var a=this.updateHandleTransform(n(i),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=a,i.stopAnimation(),i.attr(n(a)),c(i).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},_onHandleDragEnd:function(t){this._dragging=!1;if(this._handle){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),i=this._group,a=this._handle;e&&i&&(this._lastGraphicKey=null,i&&e.remove(i),a&&e.remove(a),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(t,e,i){return i=i||0,{x:t[i],y:t[1-i],width:e[i],height:e[1-i]}}},t.prototype.constructor=t,l.enableClassExtend(t);var g=t;module.exports=g;
},{"zrender/lib/core/util":113,"../../util/graphic":59,"./modelHelper":134,"../../util/model":125,"../../util/clazz":282,"../../util/throttle":62,"zrender/lib/core/event":344}],322:[function(require,module,exports) {
function e(e){var t,r=e.get("type"),i=e.getModel(r+"Style");return"line"===r?(t=i.getLineStyle()).fill=null:"shadow"===r&&((t=i.getAreaStyle()).stroke=null),t}function t(e,t,a,o,n){var l=i(a.get("value"),t.axis,t.ecModel,a.get("seriesDataIndices"),{precision:a.get("label.precision"),formatter:a.get("label.formatter")}),s=a.getModel("label"),g=c.normalizeCssArray(s.get("padding")||0),d=s.getFont(),x=u.getBoundingRect(l,d),h=n.position,p=x.width+g[1]+g[3],f=x.height+g[0]+g[2],b=n.align;"right"===b&&(h[0]-=p),"center"===b&&(h[0]-=p/2);var m=n.verticalAlign;"bottom"===m&&(h[1]-=f),"middle"===m&&(h[1]-=f/2),r(h,p,f,o);var v=s.get("backgroundColor");v&&"auto"!==v||(v=t.get("axisLine.lineStyle.color")),e.label={shape:{x:0,y:0,width:p,height:f,r:s.get("borderRadius")},position:h.slice(),style:{text:l,textFont:d,textFill:s.getTextColor(),textPosition:"inside",fill:v,stroke:s.get("borderColor")||"transparent",lineWidth:s.get("borderWidth")||0,shadowBlur:s.get("shadowBlur"),shadowColor:s.get("shadowColor"),shadowOffsetX:s.get("shadowOffsetX"),shadowOffsetY:s.get("shadowOffsetY")},z2:10}}function r(e,t,r,i){var a=i.getWidth(),o=i.getHeight();e[0]=Math.min(e[0]+t,a)-t,e[1]=Math.min(e[1]+r,o)-r,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}function i(e,t,r,i,a){var o=t.scale.getLabel(e,{precision:a.precision}),n=a.formatter;if(n){var l={value:h.getAxisRawValue(t,e),seriesData:[]};g.each(i,function(e){var t=r.getSeriesByIndex(e.seriesIndex),i=e.dataIndexInside,a=t&&t.getDataParams(i);a&&l.seriesData.push(a)}),g.isString(n)?o=n.replace("{value}",o):g.isFunction(n)&&(o=n(l))}return o}function a(e,t,r){var i=x.create();return x.rotate(i,i,r.rotation),x.translate(i,i,r.position),d.applyTransform([e.dataToCoord(t),(r.labelOffset||0)+(r.labelDirection||1)*(r.labelMargin||0)],i)}function o(e,r,i,o,n,l){var s=p.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=n.get("label.margin"),t(r,o,n,l,{position:a(o.axis,e,i),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function n(e,t,r){return r=r||0,{x1:e[r],y1:e[1-r],x2:t[r],y2:t[1-r]}}function l(e,t,r){return r=r||0,{x:e[r],y:e[1-r],width:t[r],height:t[1-r]}}function s(e,t,r,i,a,o){return{cx:e,cy:t,r0:r,r:i,startAngle:a,endAngle:o,clockwise:!0}}var g=require("zrender/lib/core/util"),d=require("../../util/graphic"),u=require("zrender/lib/contain/text"),c=require("../../util/format"),x=require("zrender/lib/core/matrix"),h=require("../../coord/axisHelper"),p=require("../axis/AxisBuilder");exports.buildElStyle=e,exports.buildLabelElOption=t,exports.getValueLabel=i,exports.getTransformedPosition=a,exports.buildCartesianSingleLabelElOption=o,exports.makeLineShape=n,exports.makeRectShape=l,exports.makeSectorShape=s;
},{"zrender/lib/core/util":113,"../../util/graphic":59,"../../util/format":61,"zrender/lib/core/matrix":111,"../axis/AxisBuilder":323,"../../coord/axisHelper":191,"zrender/lib/contain/text":287}],127:[function(require,module,exports) {
function e(e,i){var t={};return t[i.dim+"AxisIndex"]=i.index,e.getCartesian(t)}function i(e){return"x"===e.dim?0:1}var t=require("../../util/graphic"),r=require("./BaseAxisPointer"),a=require("./viewHelper"),n=require("../axis/cartesianAxisHelper"),o=require("../axis/AxisView"),l=r.extend({makeElOption:function(i,t,r,o,l){var d=r.axis,u=d.grid,x=o.get("type"),p=e(u,d).getOtherAxis(d).getGlobalExtent(),g=d.toGlobalCoord(d.dataToCoord(t,!0));if(x&&"none"!==x){var m=a.buildElStyle(o),c=s[x](d,g,p,m);c.style=m,i.graphicKey=c.type,i.pointer=c}var h=n.layout(u.model,r);a.buildCartesianSingleLabelElOption(t,i,h,r,o,l)},getHandleTransform:function(e,i,t){var r=n.layout(i.axis.grid.model,i,{labelInside:!1});return r.labelMargin=t.get("handle.margin"),{position:a.getTransformedPosition(i.axis,e,r),rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(i,t,r,a){var n=r.axis,o=n.grid,l=n.getGlobalExtent(!0),s=e(o,n).getOtherAxis(n).getGlobalExtent(),d="x"===n.dim?0:1,u=i.position;u[d]+=t[d],u[d]=Math.min(l[1],u[d]),u[d]=Math.max(l[0],u[d]);var x=(s[1]+s[0])/2,p=[x,x];p[d]=u[d];return{position:u,rotation:i.rotation,cursorPoint:p,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][d]}}}),s={line:function(e,r,n,o){var l=a.makeLineShape([r,n[0]],[r,n[1]],i(e));return t.subPixelOptimizeLine({shape:l,style:o}),{type:"Line",shape:l}},shadow:function(e,t,r,n){var o=e.getBandWidth(),l=r[1]-r[0];return{type:"Rect",shape:a.makeRectShape([t-o/2,r[0]],[o,l],i(e))}}};o.registerAxisPointerClass("CartesianAxisPointer",l);var d=l;module.exports=d;
},{"../../util/graphic":59,"./BaseAxisPointer":321,"./viewHelper":322,"../axis/AxisView":324,"../axis/cartesianAxisHelper":328}],339:[function(require,module,exports) {
function e(e,r){var o,n=[],a=e.seriesIndex;if(null==a||!(o=r.getSeriesByIndex(a)))return{point:[]};var l=o.getData(),u=i.queryDataIndex(l,e);if(null==u||t.isArray(u))return{point:[]};var s=l.getItemGraphicEl(u),d=o.coordinateSystem;if(o.getTooltipPosition)n=o.getTooltipPosition(u)||[];else if(d&&d.dataToPoint)n=d.dataToPoint(l.getValues(t.map(d.dimensions,function(e){return o.coordDimToDataDim(e)[0]}),u,!0))||[];else if(s){var m=s.getBoundingRect().clone();m.applyTransform(s.transform),n=[m.x+m.width/2,m.y+m.height/2]}return{point:n,el:s}}var t=require("zrender/lib/core/util"),i=require("../../util/model");module.exports=e;
},{"zrender/lib/core/util":113,"../../util/model":125}],135:[function(require,module,exports) {
function e(e,i,u){var p=e.currTrigger,m=[e.x,e.y],v=e,y=e.dispatchAction||x.bind(u.dispatchAction,u),g=i.getComponent("axisPointer").coordSysAxesInfo;if(g){c(m)&&(m=I({seriesIndex:v.seriesIndex,dataIndex:v.dataIndex},i).point);var D=c(m),A=v.axesInfo,T=g.axesInfo,w="leave"===p||c(m),S={},B={},P={list:[],map:{}},b={showPointer:h(n,B),showTooltip:h(t,P)};f(g.coordSysMap,function(e,i){var n=D||e.containPoint(m);f(g.coordSysAxesInfo[i],function(e,i){var t=e.axis,s=d(A,e);if(!w&&n&&(!A||s)){var o=s&&s.value;null!=o||D||(o=t.pointToData(m)),null!=o&&a(e,o,b,!1,S)}})});var M={};return f(T,function(e,a){var i=e.linkGroup;i&&!B[a]&&f(i.axesInfo,function(a,n){var t=B[n];if(a!==e&&t){var s=t.value;i.mapper&&(s=e.axis.scale.parse(i.mapper(s,l(a),l(e)))),M[e.key]=s}})}),f(M,function(e,i){a(T[i],e,b,!0,S)}),s(B,T,S),o(P,m,e,y),r(T,y,u),S}}function a(e,a,n,t,s){var o=e.axis;if(!o.scale.isBlank()&&o.containData(a))if(e.involveSeries){var r=i(a,e),d=r.payloadBatch,l=r.snapToValue;d[0]&&null==s.seriesIndex&&x.extend(s,d[0]),!t&&e.snap&&o.containData(l)&&null!=l&&(a=l),n.showPointer(e,a,d,s),n.showTooltip(e,r,l)}else n.showPointer(e,a)}function i(e,a){var i=a.axis,n=i.dim,t=e,s=[],o=Number.MAX_VALUE,r=-1;return f(a.seriesModels,function(a,d){var l,c,x=a.coordDimToDataDim(n);if(a.getAxisTooltipData){var u=a.getAxisTooltipData(x,e,i);c=u.dataIndices,l=u.nestestValue}else{if(!(c=a.getData().indicesOfNearest(x[0],e,!1,"category"===i.type?.5:null)).length)return;l=a.getData().get(x[0],c[0])}if(null!=l&&isFinite(l)){var p=e-l,I=Math.abs(p);I<=o&&((I<o||p>=0&&r<0)&&(o=I,r=p,t=l,s.length=0),f(c,function(e){s.push({seriesIndex:a.seriesIndex,dataIndexInside:e,dataIndex:a.getData().getRawIndex(e)})}))}}),{payloadBatch:s,snapToValue:t}}function n(e,a,i,n){e[a.key]={value:i,payloadBatch:n}}function t(e,a,i,n){var t=i.payloadBatch,s=a.axis,o=s.model,r=a.axisPointerModel;if(a.triggerTooltip&&t.length){var d=a.coordSys.model,l=p.makeKey(d),c=e.map[l];c||(c=e.map[l]={coordSysId:d.id,coordSysIndex:d.componentIndex,coordSysType:d.type,coordSysMainType:d.mainType,dataByAxis:[]},e.list.push(c)),c.dataByAxis.push({axisDim:s.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:n,valueLabelOpt:{precision:r.get("label.precision"),formatter:r.get("label.formatter")},seriesDataIndices:t.slice()})}}function s(e,a,i){var n=i.axesInfo=[];f(a,function(a,i){var t=a.axisPointerModel.option,s=e[i];s?(!a.useHandle&&(t.status="show"),t.value=s.value,t.seriesDataIndices=(s.payloadBatch||[]).slice()):!a.useHandle&&(t.status="hide"),"show"===t.status&&n.push({axisDim:a.axis.dim,axisIndex:a.axis.model.componentIndex,value:t.value})})}function o(e,a,i,n){if(!c(a)&&e.list.length){var t=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:a[0],y:a[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:t.dataIndexInside,dataIndex:t.dataIndex,seriesIndex:t.seriesIndex,dataByCoordSys:e.list})}else n({type:"hideTip"})}function r(e,a,i){var n=i.getZr(),t="axisPointerLastHighlights",s=m(n)[t]||{},o=m(n)[t]={};f(e,function(e,a){var i=e.axisPointerModel.option;"show"===i.status&&f(i.seriesDataIndices,function(e){var a=e.seriesIndex+" | "+e.dataIndex;o[a]=e})});var r=[],d=[];x.each(s,function(e,a){!o[a]&&d.push(e)}),x.each(o,function(e,a){!s[a]&&r.push(e)}),d.length&&i.dispatchAction({type:"downplay",escapeConnect:!0,batch:d}),r.length&&i.dispatchAction({type:"highlight",escapeConnect:!0,batch:r})}function d(e,a){for(var i=0;i<(e||[]).length;i++){var n=e[i];if(a.axis.dim===n.axisDim&&a.axis.model.componentIndex===n.axisIndex)return n}}function l(e){var a=e.axis.model,i={},n=i.axisDim=e.axis.dim;return i.axisIndex=i[n+"AxisIndex"]=a.componentIndex,i.axisName=i[n+"AxisName"]=a.name,i.axisId=i[n+"AxisId"]=a.id,i}function c(e){return!e||null==e[0]||isNaN(e[0])||null==e[1]||isNaN(e[1])}var x=require("zrender/lib/core/util"),u=require("../../util/model"),p=require("./modelHelper"),I=require("./findPointFromSeries"),f=x.each,h=x.curry,m=u.makeGetter();module.exports=e;
},{"../../util/model":125,"./modelHelper":134,"./findPointFromSeries":339,"zrender/lib/core/util":113}],136:[function(require,module,exports) {
var o=require("../../echarts"),l=o.extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),a=l;module.exports=a;
},{"../../echarts":14}],318:[function(require,module,exports) {
function e(e,r,n){if(!u.node){var o=r.getZr();l(o).records||(l(o).records={}),i(o,r);(l(o).records[e]||(l(o).records[e]={})).handler=n}}function i(e,i){function c(n,o){e.on(n,function(n){var c=t(i);a(l(e).records,function(e){e&&o(e,n,c.dispatchAction)}),r(c.pendings,i)})}l(e).initialized||(l(e).initialized=!0,c("click",d.curry(o,"click")),c("mousemove",d.curry(o,"mousemove")),c("globalout",n))}function r(e,i){var r,n=e.showTip.length,o=e.hideTip.length;n?r=e.showTip[n-1]:o&&(r=e.hideTip[o-1]),r&&(r.dispatchAction=null,i.dispatchAction(r))}function n(e,i,r){e.handler("leave",null,r)}function o(e,i,r,n){i.handler(e,r,n)}function t(e){var i={showTip:[],hideTip:[]},r=function(n){var o=i[n.type];o?o.push(n):(n.dispatchAction=r,e.dispatchAction(n))};return{dispatchAction:r,pendings:i}}function c(e,i){if(!u.node){var r=i.getZr();(l(r).records||{})[e]&&(l(r).records[e]=null)}}var d=require("zrender/lib/core/util"),u=require("zrender/lib/core/env"),s=require("../../util/model"),l=s.makeGetter(),a=d.each;exports.register=e,exports.unregister=c;
},{"zrender/lib/core/util":113,"../../util/model":125,"zrender/lib/core/env":115}],137:[function(require,module,exports) {
var e=require("../../echarts"),r=require("./globalListener"),t=e.extendComponentView({type:"axisPointer",render:function(e,t,i){var o=t.getComponent("tooltip"),n=e.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";r.register("axisPointer",i,function(e,r,t){"none"!==n&&("leave"===e||n.indexOf(e)>=0)&&t({type:"updateAxisPointer",currTrigger:e,x:r&&r.offsetX,y:r&&r.offsetY})})},remove:function(e,i){r.unregister(i.getZr(),"axisPointer"),t.superApply(this._model,"remove",arguments)},dispose:function(e,i){r.unregister("axisPointer",i),t.superApply(this._model,"dispose",arguments)}}),i=t;module.exports=i;
},{"../../echarts":14,"./globalListener":318}],41:[function(require,module,exports) {
var e=require("../echarts"),i=require("zrender/lib/core/util"),r=require("./axisPointer/modelHelper"),t=require("./axisPointer/axisTrigger");require("./axisPointer/AxisPointerModel"),require("./axisPointer/AxisPointerView"),require("./axisPointer/CartesianAxisPointer"),e.registerPreprocessor(function(e){if(e){(!e.axisPointer||0===e.axisPointer.length)&&(e.axisPointer={});var r=e.axisPointer.link;r&&!i.isArray(r)&&(e.axisPointer.link=[r])}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(e,i){e.getComponent("axisPointer").coordSysAxesInfo=r.collect(e,i)}),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},t);
},{"../echarts":14,"zrender/lib/core/util":113,"./axisPointer/CartesianAxisPointer":127,"./axisPointer/modelHelper":134,"./axisPointer/axisTrigger":135,"./axisPointer/AxisPointerModel":136,"./axisPointer/AxisPointerView":137}],440:[function(require,module,exports) {
var t=require("zrender/lib/core/util"),o=require("../Axis"),i=function(t,i,r,l,n){o.call(this,t,i,r),this.type=l||"value",this.position=n||"bottom",this.orient=null,this._labelInterval=null};i.prototype={constructor:i,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},pointToData:function(t,o){return this.coordinateSystem.pointToData(t,o)[0]},toGlobalCoord:null,toLocalCoord:null},t.inherits(i,o);var r=i;module.exports=r;
},{"zrender/lib/core/util":113,"../Axis":65}],326:[function(require,module,exports) {
function t(t,i,e){this.dimension="single",this.dimensions=["single"],this._axis=null,this._rect,this._init(t,i,e),this.model=t}var i=require("./SingleAxis"),e=require("../axisHelper"),o=require("../../util/layout"),n=o.getLayoutRect;t.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:t,_init:function(t,o,n){var r=this.dimension,s=new i(r,e.createScaleByModel(t),[0,0],t.get("type"),t.get("position")),a="category"===s.type;s.onBand=a&&t.get("boundaryGap"),s.inverse=t.get("inverse"),s.orient=t.get("orient"),t.axis=s,s.model=t,s.coordinateSystem=this,this._axis=s},update:function(t,i){t.eachSeries(function(t){if(t.coordinateSystem===this){var i=t.getData(),o=this.dimension;this._axis.scale.unionExtentFromData(i,t.coordDimToDataDim(o)),e.niceScaleExtent(this._axis.scale,this._axis.model)}},this)},resize:function(t,i){this._rect=n({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:i.getWidth(),height:i.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var t=this._rect,i=this._axis,e=i.isHorizontal(),o=e?[0,t.width]:[0,t.height],n=i.reverse?1:0;i.setExtent(o[n],o[1-n]),this._updateAxisTransform(i,e?t.x:t.y)},_updateAxisTransform:function(t,i){var e=t.getExtent(),o=e[0]+e[1],n=t.isHorizontal();t.toGlobalCoord=n?function(t){return t+i}:function(t){return o-t+i},t.toLocalCoord=n?function(t){return t-i}:function(t){return o-t+i}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(t){var i=this.getRect(),e=this.getAxis();return"horizontal"===e.orient?e.contain(e.toLocalCoord(t[0]))&&t[1]>=i.y&&t[1]<=i.y+i.height:e.contain(e.toLocalCoord(t[1]))&&t[0]>=i.y&&t[0]<=i.y+i.height},pointToData:function(t){var i=this.getAxis();return[i.coordToData(i.toLocalCoord(t["horizontal"===i.orient?0:1]))]},dataToPoint:function(t){var i=this.getAxis(),e=this.getRect(),o=[],n="horizontal"===i.orient?0:1;return t instanceof Array&&(t=t[0]),o[n]=i.toGlobalCoord(i.dataToCoord(+t)),o[1-n]=0===n?e.y+e.height/2:e.x+e.width/2,o}};var r=t;module.exports=r;
},{"../axisHelper":191,"../../util/layout":126,"./SingleAxis":440}],145:[function(require,module,exports) {
function e(e,n){var s=[];return e.eachComponent("singleAxis",function(t,r){var o=new i(t,e,n);o.name="single_"+r,o.resize(t,n),t.coordinateSystem=o,s.push(o)}),e.eachSeries(function(i){if("singleAxis"===i.get("coordinateSystem")){var n=e.queryComponents({mainType:"singleAxis",index:i.get("singleAxisIndex"),id:i.get("singleAxisId")})[0];i.coordinateSystem=n&&n.coordinateSystem}}),s}var i=require("./Single"),n=require("../../CoordinateSystem");n.register("single",{create:e,dimensions:i.prototype.dimensions});
},{"../../CoordinateSystem":197,"./Single":326}],329:[function(require,module,exports) {
function t(t,e){e=e||{};var o=t.coordinateSystem,r=t.axis,a={},l=r.position,n=r.orient,c=o.getRect(),b=[c.x,c.x+c.width,c.y,c.y+c.height],s={horizontal:{top:b[2],bottom:b[3]},vertical:{left:b[0],right:b[1]}};a.position=["vertical"===n?s.vertical[l]:b[0],"horizontal"===n?s.horizontal[l]:b[3]];a.rotation=Math.PI/2*{horizontal:0,vertical:1}[n];a.labelDirection=a.tickDirection=a.nameDirection={top:-1,bottom:1,right:1,left:-1}[l],t.get("axisTick.inside")&&(a.tickDirection=-a.tickDirection),i.retrieve(e.labelInside,t.get("axisLabel.inside"))&&(a.labelDirection=-a.labelDirection);var h=e.rotate;return null==h&&(h=t.get("axisLabel.rotate")),a.labelRotation="top"===l?-h:h,a.labelInterval=r.getLabelInterval(),a.z2=1,a}var i=require("zrender/lib/core/util");exports.layout=t;
},{"zrender/lib/core/util":113}],146:[function(require,module,exports) {
var e=require("zrender/lib/core/util"),i=require("./AxisBuilder"),t=require("../../util/graphic"),l=require("./singleAxisHelper"),r=require("./AxisView"),s=i.getInterval,a=i.ifIgnoreOnTick,n=["axisLine","axisTickLabel","axisName"],o="splitLine",g=r.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(t,r,s,a){var h=this.group;h.removeAll();var d=l.layout(t),x=new i(t,d);e.each(n,x.add,x),h.add(x.getGroup()),t.get(o+".show")&&this["_"+o](t,d.labelInterval),g.superCall(this,"render",t,r,s,a)},_splitLine:function(e,i){var l=e.axis;if(!l.scale.isBlank()){var r=e.getModel("splitLine"),n=r.getModel("lineStyle"),o=n.get("width"),g=n.get("color"),h=s(r,i);g=g instanceof Array?g:[g];for(var d=e.coordinateSystem.getRect(),x=l.isHorizontal(),u=[],p=0,c=l.getTicksCoords(),L=[],v=[],y=e.get("axisLabel.showMinLabel"),b=e.get("axisLabel.showMaxLabel"),f=0;f<c.length;++f)if(!a(l,f,h,c.length,y,b)){var w=l.toGlobalCoord(c[f]);x?(L[0]=w,L[1]=d.y,v[0]=w,v[1]=d.y+d.height):(L[0]=d.x,L[1]=w,v[0]=d.x+d.width,v[1]=w);var A=p++%g.length;u[A]=u[A]||[],u[A].push(new t.Line(t.subPixelOptimizeLine({shape:{x1:L[0],y1:L[1],x2:v[0],y2:v[1]},style:{lineWidth:o},silent:!0})))}for(f=0;f<u.length;++f)this.group.add(t.mergePath(u[f],{style:{stroke:g[f%g.length],lineDash:n.getLineDash(o),lineWidth:o},silent:!0}))}}}),h=g;module.exports=h;
},{"../../util/graphic":59,"./AxisBuilder":323,"./singleAxisHelper":329,"./AxisView":324,"zrender/lib/core/util":113}],147:[function(require,module,exports) {
function e(e,t){return t.type||(t.data?"category":"value")}var t=require("zrender/lib/core/util"),o=require("../../model/Component"),i=require("../axisModelCreator"),l=require("../axisModelCommonMixin"),r=o.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}}),n={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}};t.merge(r.prototype,l),i("single",r,e,n);var a=r;module.exports=a;
},{"zrender/lib/core/util":113,"../../model/Component":201,"../axisModelCreator":327,"../axisModelCommonMixin":192}],148:[function(require,module,exports) {
function e(e){return e.isHorizontal()?0:1}function i(e,i){var t=e.getRect();return[t[s[i]],t[s[i]]+t[l[i]]]}var t=require("../../util/graphic"),n=require("./BaseAxisPointer"),r=require("./viewHelper"),a=require("../axis/singleAxisHelper"),o=require("../axis/AxisView"),s=["x","y"],l=["width","height"],u=n.extend({makeElOption:function(t,n,o,s,l){var u=o.axis,d=u.coordinateSystem,c=i(d,1-e(u)),g=d.dataToPoint(n)[0],h=s.get("type");if(h&&"none"!==h){var x=r.buildElStyle(s),m=p[h](u,g,c,x);m.style=x,t.graphicKey=m.type,t.pointer=m}var v=a.layout(o);r.buildCartesianSingleLabelElOption(n,t,v,o,s,l)},getHandleTransform:function(e,i,t){var n=a.layout(i,{labelInside:!1});return n.labelMargin=t.get("handle.margin"),{position:r.getTransformedPosition(i.axis,e,n),rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,n,r,a){var o=r.axis,s=o.coordinateSystem,l=e(o),u=i(s,l),p=t.position;p[l]+=n[l],p[l]=Math.min(u[1],p[l]),p[l]=Math.max(u[0],p[l]);var d=i(s,1-l),c=(d[1]+d[0])/2,g=[c,c];return g[l]=p[l],{position:p,rotation:t.rotation,cursorPoint:g,tooltipOption:{verticalAlign:"middle"}}}}),p={line:function(i,n,a,o){var s=r.makeLineShape([n,a[0]],[n,a[1]],e(i));return t.subPixelOptimizeLine({shape:s,style:o}),{type:"Line",shape:s}},shadow:function(i,t,n,a){var o=i.getBandWidth(),s=n[1]-n[0];return{type:"Rect",shape:r.makeRectShape([t-o/2,n[0]],[o,s],e(i))}}};o.registerAxisPointerClass("SingleAxisPointer",u);var d=u;module.exports=d;
},{"../../util/graphic":59,"./BaseAxisPointer":321,"./viewHelper":322,"../axis/AxisView":324,"../axis/singleAxisHelper":329}],45:[function(require,module,exports) {
var e=require("../echarts");require("../coord/single/singleCreator"),require("./axis/SingleAxisView"),require("../coord/single/AxisModel"),require("./axisPointer"),require("./axisPointer/SingleAxisPointer"),e.extendComponentView({type:"single"});
},{"../echarts":14,"./axisPointer":41,"../coord/single/singleCreator":145,"./axis/SingleAxisView":146,"../coord/single/AxisModel":147,"./axisPointer/SingleAxisPointer":148}],106:[function(require,module,exports) {
var e=require("../../data/helper/completeDimensions"),t=require("../../model/Series"),i=require("../../data/List"),n=require("zrender/lib/core/util"),a=require("../../util/format"),r=a.encodeHTML,s=require("../../util/array/nest"),o=2,u=t.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(e){u.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},fixData:function(e){for(var t=e.length,i=s().key(function(e){return e[2]}).entries(e),a=n.map(i,function(e){return{name:e.key,dataList:e.values}}),r=a.length,o=-1,u=-1,l=0;l<r;++l){var g=a[l].dataList.length;g>o&&(o=g,u=l)}for(var d=0;d<r;++d)if(d!==u)for(var m=a[d].name,f=0;f<o;++f){for(var c=a[u].dataList[f][0],h=a[d].dataList.length,p=-1,v=0;v<h;++v){if(a[d].dataList[v][0]===c){p=v;break}}-1===p&&(e[t]=[],e[t][0]=c,e[t][1]=0,e[t][2]=m,t++)}return e},getInitialData:function(t,a){var r=[],s=a.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0].get("type");r=[{name:"time",type:"category"===s?"ordinal":"time"===s?"time":"float"},{name:"value",type:"float"},{name:"name",type:"ordinal"}];for(var u=n.filter(t.data,function(e){return void 0!==e[2]}),l=this.fixData(u||[]),g=[],d=this.nameMap=n.createHashMap(),m=0,f=0;f<l.length;++f)g.push(l[f][o]),d.get(l[f][o])||(d.set(l[f][o],m),m++);r=e(r,l);var c=new i(r,this);return c.initData(l,g),c},coordDimToDataDim:function(e){return["time"]},getLayerSeries:function(){function e(e,i){return t.get("time",e)-t.get("time",i)}for(var t=this.getData(),i=t.count(),a=[],r=0;r<i;++r)a[r]=r;for(var o=s().key(function(e){return t.get("name",e)}).entries(a),u=n.map(o,function(e){return{name:e.key,indices:e.values}}),l=0;l<u.length;++l)u[l].indices.sort(e);return u},getAxisTooltipData:function(e,t,i){n.isArray(e)||(e=e?[e]:[]);for(var a,r=this.getData(),s=this.getLayerSeries(),o=[],u=s.length,l=0;l<u;++l){for(var g=Number.MAX_VALUE,d=-1,m=s[l].indices.length,f=0;f<m;++f){var c=r.get(e[0],s[l].indices[f]),h=Math.abs(c-t);h<=g&&(a=c,g=h,d=s[l].indices[f])}o.push(d)}return{dataIndices:o,nestestValue:a}},formatTooltip:function(e){var t=this.getData(),i=t.get("name",e),n=t.get("value",e);return(isNaN(n)||null==n)&&(n="-"),r(i+" : "+n)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{normal:{margin:4,textAlign:"right",show:!0,position:"left",color:"#000",fontSize:11},emphasis:{show:!0}}}}),l=u;module.exports=l;
},{"../../model/Series":202,"../../data/List":63,"../../util/format":61,"../../data/helper/completeDimensions":194,"../../util/array/nest":306,"zrender/lib/core/util":113}],107:[function(require,module,exports) {
var process = require("process");
function e(e,t,i){var r=new o.Rect({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return o.initProps(r,{shape:{width:e.width+20,height:e.height+20}},t,i),r}var t=require("process"),i=require("../../echarts"),r=require("../line/poly"),a=r.Polygon,o=require("../../util/graphic"),s=require("zrender/lib/core/util"),n=s.bind,l=s.extend,d=require("../../data/DataDiffer"),h=i.extendChartView({type:"themeRiver",init:function(){this._layers=[]},render:function(t,i,r){function s(e){return e.name}function h(i,r,s){var n=this._layers;if("remove"!==i){for(var d,h=[],p=[],m=g[r].indices,c=0;c<m.length;c++){var x=u.getItemLayout(m[c]),f=x.x,S=x.y0,w=x.y;h.push([f,S]),p.push([f,S+w]),d=u.getItemVisual(m[c],"color")}var P,I,q=u.getItemLayout(m[0]),b=u.getItemModel(m[c-1]),L=b.getModel("label.normal"),_=L.get("margin");if("add"===i){var C=v[r]=new o.Group;P=new a({shape:{points:h,stackedOnPoints:p,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),I=new o.Text({style:{x:q.x-_,y:q.y0+q.y/2}}),C.add(P),C.add(I),y.add(C),P.setClipPath(e(P.getBoundingRect(),t,function(){P.removeClipPath()}))}else{C=n[s];P=C.childAt(0),I=C.childAt(1),y.add(C),v[r]=C,o.updateProps(P,{shape:{points:h,stackedOnPoints:p}},t),o.updateProps(I,{style:{x:q.x-_,y:q.y0+q.y/2}},t)}var M=b.getModel("itemStyle.emphasis"),k=b.getModel("itemStyle.normal");o.setTextStyle(I.style,L,{text:L.get("show")?t.getFormattedLabel(m[c-1],"normal")||u.getName(m[c-1]):null,textVerticalAlign:"middle"}),P.setStyle(l({fill:d},k.getItemStyle(["color"]))),o.setHoverStyle(P,M.getItemStyle())}else y.remove(n[r])}var u=t.getData(),y=this.group,g=t.getLayerSeries(),p=u.getLayout("layoutInfo"),m=p.rect,c=p.boundaryGap;y.attr("position",[0,m.y+c[0]]);var v={};new d(this._layersSeries||[],g,s,s).add(n(h,this,"add")).update(n(h,this,"update")).remove(n(h,this,"remove")).execute(),this._layersSeries=g,this._layers=v},dispose:function(){}});module.exports=h;
},{"zrender/lib/core/util":113,"process":195,"../../echarts":14,"../../util/graphic":59,"../../data/DataDiffer":117,"../line/poly":313}],108:[function(require,module,exports) {
function e(e,r){e.eachSeriesByType("themeRiver",function(e){var r=e.getData(),n=e.coordinateSystem,i={},o=n.getRect();i.rect=o;var u=e.get("boundaryGap"),c=n.getAxis();if(i.boundaryGap=u,"horizontal"===c.orient){u[0]=a.parsePercent(u[0],o.height),u[1]=a.parsePercent(u[1],o.height);t(r,e,o.height-u[0]-u[1])}else{u[0]=a.parsePercent(u[0],o.width),u[1]=a.parsePercent(u[1],o.width);t(r,e,o.width-u[0]-u[1])}r.setLayout("layoutInfo",i)})}function t(e,t,a){if(e.count())for(var i,o=t.coordinateSystem,u=t.getLayerSeries(),c=n.map(u,function(t){return n.map(t.indices,function(t){var r=o.dataToPoint(e.get("time",t));return r[1]=e.get("value",t),r})}),s=r(c),y=s.y0,h=a/s.max,d=u.length,f=u[0].indices.length,g=0;g<f;++g){i=y[g]*h,e.setItemLayout(u[0].indices[g],{layerIndex:0,x:c[0][g][0],y0:i,y:c[0][g][1]*h});for(var l=1;l<d;++l)i+=c[l-1][g][1]*h,e.setItemLayout(u[l].indices[g],{layerIndex:l,x:c[l][g][0],y0:i,y:c[l][g][1]*h})}}function r(e){for(var t=e.length,r=e[0].length,n=[],a=[],i=0,o={},u=0;u<r;++u){for(var c=0,s=0;c<t;++c)s+=e[c][u][1];s>i&&(i=s),n.push(s)}for(var y=0;y<r;++y)a[y]=(i-n[y])/2;i=0;for(var h=0;h<r;++h){var d=n[h]+a[h];d>i&&(i=d)}return o.y0=a,o.max=i,o}var n=require("zrender/lib/core/util"),a=require("../../util/number");module.exports=e;
},{"zrender/lib/core/util":113,"../../util/number":60}],109:[function(require,module,exports) {
function e(e){e.eachSeriesByType("themeRiver",function(e){var t=e.getData(),r=e.getRawData(),n=e.get("color"),o=a();t.each(function(e){o.set(t.getRawIndex(e),e)}),r.each(function(a){var c=r.getName(a),i=n[(e.nameMap.get(c)-1)%n.length];r.setItemVisual(a,"color",i);var l=o.get(a);null!=l&&t.setItemVisual(l,"color",i)})})}var t=require("zrender/lib/core/util"),a=t.createHashMap;module.exports=e;
},{"zrender/lib/core/util":113}],35:[function(require,module,exports) {
var e=require("../echarts"),r=require("zrender/lib/core/util");require("../component/singleAxis"),require("./themeRiver/ThemeRiverSeries"),require("./themeRiver/ThemeRiverView");var i=require("./themeRiver/themeRiverLayout"),t=require("./themeRiver/themeRiverVisual"),u=require("../processor/dataFilter");e.registerLayout(i),e.registerVisual(t),e.registerProcessor(r.curry(u,"themeRiver"));
},{"../echarts":14,"../component/singleAxis":45,"../processor/dataFilter":105,"./themeRiver/ThemeRiverSeries":106,"./themeRiver/ThemeRiverView":107,"./themeRiver/themeRiverLayout":108,"./themeRiver/themeRiverVisual":109,"zrender/lib/core/util":113}],120:[function(require,module,exports) {
function t(t,r){return r=r||[0,0],e.map(["x","y"],function(e,i){var o=this.getAxis(e),a=r[i],d=t[i]/2;return"category"===o.type?o.getBandWidth():Math.abs(o.dataToCoord(a-d)-o.dataToCoord(a+d))},this)}function r(r){var i=r.grid.getRect();return{coordSys:{type:"cartesian2d",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:e.bind(r.dataToPoint,r),size:e.bind(t,r)}}}var e=require("zrender/lib/core/util");module.exports=r;
},{"zrender/lib/core/util":113}],121:[function(require,module,exports) {
function t(t,i){return i=i||[0,0],o.map([0,1],function(o){var e=i[o],n=t[o]/2,r=[],a=[];return r[o]=e-n,a[o]=e+n,r[1-o]=a[1-o]=i[1-o],Math.abs(this.dataToPoint(r)[o]-this.dataToPoint(a)[o])},this)}function i(i){var e=i.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:o.bind(i.dataToPoint,i),size:o.bind(t,i)}}}var o=require("zrender/lib/core/util");module.exports=i;
},{"zrender/lib/core/util":113}],122:[function(require,module,exports) {
function t(t,e){var r=this.getAxis(),i=e instanceof Array?e[0]:e,o=(t instanceof Array?t[0]:t)/2;return"category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(i-o)-r.dataToCoord(i+o))}function e(e){var i=e.getRect();return{coordSys:{type:"singleAxis",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:r.bind(e.dataToPoint,e),size:r.bind(t,e)}}}var r=require("zrender/lib/core/util");module.exports=e;
},{"zrender/lib/core/util":113}],123:[function(require,module,exports) {
function t(t,e){return r.map(["Radius","Angle"],function(r,a){var n=this["get"+r+"Axis"](),i=e[a],o=t[a]/2,d="dataTo"+r,u="category"===n.type?n.getBandWidth():Math.abs(n[d](i-o)-n[d](i+o));return"Angle"===r&&(u=u*Math.PI/180),u},this)}function e(e){var a=e.getRadiusAxis(),n=e.getAngleAxis(),i=a.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:i[1],r0:i[0]},api:{coord:r.bind(function(t){var r=a.dataToRadius(t[0]),i=n.dataToAngle(t[1]),o=e.coordToPoint([r,i]);return o.push(r,i*Math.PI/180),o}),size:r.bind(t,e)}}}var r=require("zrender/lib/core/util");module.exports=e;
},{"zrender/lib/core/util":113}],124:[function(require,module,exports) {
function e(e){var r=e.getRect(),i=e.getRangeInfo();return{coordSys:{type:"calendar",x:r.x,y:r.y,width:r.width,height:r.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:i.start,end:i.end,weeks:i.weeks,dayCount:i.allDay}},api:{coord:t.bind(e.dataToPoint,e)}}}var t=require("zrender/lib/core/util");module.exports=e;
},{"zrender/lib/core/util":113}],36:[function(require,module,exports) {
function e(e){var t,r=e.type;if("path"===r){var a=e.shape;(t=m.makePath(a.pathData,null,{x:a.x||0,y:a.y||0,width:a.width||0,height:a.height||0},"center")).__customPathData=e.pathData}else if("image"===r)(t=new m.Image({})).__customImagePath=e.style.image;else if("text"===r)(t=new m.Text({})).__customText=e.style.text;else{t=new(0,m[r.charAt(0).toUpperCase()+r.slice(1)])}return t.__customGraphicType=r,t.name=e.name,t}function t(e,t,a,i,n,l){var o={},s=a.style||{};if(a.shape&&(o.shape=h.clone(a.shape)),a.position&&(o.position=a.position.slice()),a.scale&&(o.scale=a.scale.slice()),a.origin&&(o.origin=a.origin.slice()),a.rotation&&(o.rotation=a.rotation),"image"===e.type&&a.style){var u=o.style={};h.each(["x","y","width","height"],function(t){r(t,u,s,e.style,l)})}if("text"===e.type&&a.style){u=o.style={};h.each(["x","y"],function(t){r(t,u,s,e.style,l)}),!s.hasOwnProperty("textFill")&&s.fill&&(s.textFill=s.fill),!s.hasOwnProperty("textStroke")&&s.stroke&&(s.textStroke=s.stroke)}if("group"!==e.type&&(e.useStyle(s),l)){e.style.opacity=0;var d=s.opacity;null==d&&(d=1),m.initProps(e,{style:{opacity:d}},i,t)}l?e.attr(o):m.updateProps(e,o,i,t),e.attr({z2:a.z2||0,silent:a.silent}),!1!==a.styleEmphasis&&m.setHoverStyle(e,a.styleEmphasis)}function r(e,t,r,a,i){null==r[e]||i||(t[e]=r[e],r[e]=a[e])}function a(e,t,r,a){function n(e){null==e&&(e=u),_&&(d=t.getItemModel(e),c=d.getModel(P),p=d.getModel(L),g=y(t),f=t.getItemVisual(e,"color"),_=!1)}var l=e.get("renderItem"),o=e.coordinateSystem,s={};o&&(s=o.prepareCustoms?o.prepareCustoms():A[o.type](o));var u,d,c,p,g,f,x=h.defaults({getWidth:a.getWidth,getHeight:a.getHeight,getZr:a.getZr,getDevicePixelRatio:a.getDevicePixelRatio,value:function(e,r){return null==r&&(r=u),t.get(t.getDimension(e||0),r)},style:function(r,a){null==a&&(a=u),n(a);var i=d.getModel(q).getItemStyle();null!=f&&(i.fill=f);var l=t.getItemVisual(a,"opacity");return null!=l&&(i.opacity=l),null!=g&&(m.setTextStyle(i,c,null,{autoColor:f,isRectText:!0}),i.text=c.getShallow("show")?h.retrieve2(e.getFormattedLabel(a,"normal"),t.get(g,a)):null),r&&h.extend(i,r),i},styleEmphasis:function(r,a){null==a&&(a=u),n(a);var i=d.getModel(b).getItemStyle();return null!=g&&(m.setTextStyle(i,p,null,{isRectText:!0},!0),i.text=p.getShallow("show")?h.retrieve3(e.getFormattedLabel(a,"emphasis"),e.getFormattedLabel(a,"normal"),t.get(g,a)):null),r&&h.extend(i,r),i},visual:function(e,r){return null==r&&(r=u),t.getItemVisual(r,e)},barLayout:function(e){if(o.getBaseAxis){var t=o.getBaseAxis();return v.getLayoutOnAxis(h.defaults({axis:t},e),a)}},currentSeriesIndices:function(){return r.getCurrentSeriesIndices()},font:function(e){return m.getFont(e,r)}},s.api||{}),I={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:s.coordSys,dataInsideLength:t.count(),encode:i(e.getData())},_=!0;return function(e){return u=e,_=!0,l&&l(h.defaults({dataIndexInside:e,dataIndex:t.getRawIndex(e)},I),x)||{}}}function i(e){var t={};return h.each(e.dimensions,function(r,a){var i=e.getDimensionInfo(r);if(!i.isExtraCoord){var n=i.coordDim;(t[n]=t[n]||[])[i.coordDimIndex]=a}}),t}function n(e,t,r,a,i,n){(e=l(e,t,r,a,i,n))&&n.setItemGraphicEl(t,e)}function l(r,a,i,n,s,u){var d=i.type;if(!r||d===r.__customGraphicType||"path"===d&&i.pathData===r.__customPathData||"image"===d&&i.style.image===r.__customImagePath||"text"===d&&i.style.text===r.__customText||(s.remove(r),r=null),null!=d){var c=!r;if(!r&&(r=e(i)),t(r,a,i,n,u,c),"group"===d){var p=r.children()||[],g=i.children||[];if(i.diffChildrenByName)o({oldChildren:p,newChildren:g,dataIndex:a,animatableModel:n,group:r,data:u});else{for(var h=0;h<g.length;h++)l(r.childAt(h),a,g[h],n,r,u);for(;h<p.length;h++)p[h]&&r.remove(p[h])}}return s.add(r),r}}function o(e){new I(e.oldChildren,e.newChildren,s,s,e).add(u).update(u).remove(d).execute()}function s(e,t){var r=e&&e.name;return null!=r?r:T+t}function u(e,t){var r=this.context,a=null!=e?r.newChildren[e]:null;l(null!=t?r.oldChildren[t]:null,r.dataIndex,a,r.animatableModel,r.group,r.data)}function d(e){var t=this.context,r=t.oldChildren[e];r&&t.group.remove(r)}var c=require("../config"),p=c.__DEV__,g=require("../echarts"),h=require("zrender/lib/core/util"),m=require("../util/graphic"),f=require("./helper/labelHelper"),y=f.findLabelValueDim,x=require("./helper/createListFromArray"),v=require("../layout/barGrid"),I=require("../data/DataDiffer"),_=require("../coord/cartesian/prepareCustom"),C=require("../coord/geo/prepareCustom"),S=require("../coord/single/prepareCustom"),w=require("../coord/polar/prepareCustom"),D=require("../coord/calendar/prepareCustom"),q=["itemStyle","normal"],b=["itemStyle","emphasis"],P=["label","normal"],L=["label","emphasis"],T="e\0\0",A={cartesian2d:_,geo:C,singleAxis:S,polar:w,calendar:D};g.extendSeriesModel({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0},getInitialData:function(e,t){return x(e.data,this,t)}}),g.extendChartView({type:"custom",_data:null,render:function(e,t,r){var i=this._data,l=e.getData(),o=this.group,s=a(e,l,t,r);l.diff(i).add(function(t){l.hasValue(t)&&n(null,t,s(t),e,o,l)}).update(function(t,r){var a=i.getItemGraphicEl(r);l.hasValue(t)?n(a,t,s(t),e,o,l):a&&o.remove(a)}).remove(function(e){var t=i.getItemGraphicEl(e);t&&o.remove(t)}).execute(),this._data=l},dispose:h.noop});
},{"../echarts":14,"zrender/lib/core/util":113,"../layout/barGrid":67,"../config":116,"../util/graphic":59,"../data/DataDiffer":117,"./helper/labelHelper":118,"./helper/createListFromArray":119,"../coord/cartesian/prepareCustom":120,"../coord/geo/prepareCustom":121,"../coord/single/prepareCustom":122,"../coord/polar/prepareCustom":123,"../coord/calendar/prepareCustom":124}],37:[function(require,module,exports) {
function e(e,t,i,n){var r=i.type,a=new(0,u[r.charAt(0).toUpperCase()+r.slice(1)])(i);t.add(a),n.set(e,a),a.__ecGraphicId=e}function t(e,i){var n=e&&e.parent;n&&("group"===e.type&&e.traverse(function(e){t(e,i)}),i.removeKey(e.__ecGraphicId),n.remove(e))}function i(e){return e=c.extend({},e),c.each(["id","parentId","$action","hv","bounding"].concat(d.LOCATION_PARAMS),function(t){delete e[t]}),e}function n(e,t){var i;return c.each(t,function(t){null!=e[t]&&"auto"!==e[t]&&(i=!0)}),i}function r(e,t){var i=e.exist;if(t.id=e.keyInfo.id,!t.type&&i&&(t.type=i.type),null==t.parentId){var n=t.parentOption;n?t.parentId=n.id:i&&(t.parentId=i.parentId)}t.parentOption=null}function a(e,t,i){var n=c.extend({},i),r=e[t],a=i.$action||"merge";"merge"===a?r?(c.merge(r,n,!0),d.mergeLayoutParam(r,n,{ignoreSize:!0}),d.copyLayoutParams(i,r)):e[t]=n:"replace"===a?e[t]=n:"remove"===a&&r&&(e[t]=null)}function o(e,t){e&&(e.hv=t.hv=[n(t,["left","right"]),n(t,["top","bottom"])],"group"===e.type&&(null==e.width&&(e.width=t.width=0),null==e.height&&(e.height=t.height=0)))}var l=require("../config"),p=l.__DEV__,h=require("../echarts"),c=require("zrender/lib/core/util"),s=require("../util/model"),u=require("../util/graphic"),d=require("../util/layout");h.registerPreprocessor(function(e){var t=e.graphic;c.isArray(t)?t[0]&&t[0].elements?e.graphic=[e.graphic[0]]:e.graphic=[{elements:t}]:t&&!t.elements&&(e.graphic=[{elements:[t]}])});var g=h.extendComponentModel({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(e){var t=this.option.elements;this.option.elements=null,g.superApply(this,"mergeOption",arguments),this.option.elements=t},optionUpdated:function(e,t){var i=this.option,n=(t?i:e).elements,l=i.elements=t?[]:i.elements,p=[];this._flatten(n,p);var h=s.mappingToExists(l,p);s.makeIdAndName(h);var u=this._elOptionsToUpdate=[];c.each(h,function(e,t){var i=e.option;i&&(u.push(i),r(e,i),a(l,t,i),o(l[t],i))},this);for(var d=l.length-1;d>=0;d--)null==l[d]?l.splice(d,1):delete l[d].$action},_flatten:function(e,t,i){c.each(e,function(e){if(e){i&&(e.parentOption=i),t.push(e);var n=e.children;"group"===e.type&&n&&this._flatten(n,t,e),delete e.children}},this)},useElOptionsToUpdate:function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e}});h.extendComponentView({type:"graphic",init:function(e,t){this._elMap=c.createHashMap(),this._lastGraphicModel},render:function(e,t,i){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e,i),this._relocate(e,i)},_updateElements:function(n,r){var a=n.useElOptionsToUpdate();if(a){var o=this._elMap,l=this.group;c.each(a,function(n){var r=n.$action,a=n.id,p=o.get(a),h=n.parentId,c=null!=h?o.get(h):l;if("text"===n.type){var s=n.style;n.hv&&n.hv[1]&&(s.textVerticalAlign=s.textBaseline=null),!s.hasOwnProperty("textFill")&&s.fill&&(s.textFill=s.fill),!s.hasOwnProperty("textStroke")&&s.stroke&&(s.textStroke=s.stroke)}var u=i(n);r&&"merge"!==r?"replace"===r?(t(p,o),e(a,c,u,o)):"remove"===r&&t(p,o):p?p.attr(u):e(a,c,u,o);var d=o.get(a);d&&(d.__ecGraphicWidth=n.width,d.__ecGraphicHeight=n.height)})}},_relocate:function(e,t){for(var i=e.option.elements,n=this.group,r=this._elMap,a=i.length-1;a>=0;a--){var o=i[a],l=r.get(o.id);if(l){var p=l.parent,h=p===n?{width:t.getWidth(),height:t.getHeight()}:{width:p.__ecGraphicWidth||0,height:p.__ecGraphicHeight||0};d.positionElement(l,o,h,null,{hv:o.hv,boundingMode:o.bounding})}}},_clear:function(){var e=this._elMap;e.each(function(i){t(i,e)}),this._elMap=c.createHashMap()},dispose:function(){this._clear()}});
},{"../config":116,"../echarts":14,"../util/model":125,"../util/graphic":59,"../util/layout":126,"zrender/lib/core/util":113}],38:[function(require,module,exports) {
require("./gridSimple"),require("./axisPointer/CartesianAxisPointer"),require("./axisPointer");
},{"./gridSimple":68,"./axisPointer":41,"./axisPointer/CartesianAxisPointer":127}],314:[function(require,module,exports) {
var e=require("../../echarts"),t=require("zrender/lib/core/util"),i=require("../../model/Model"),n=e.extendComponentModel({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(e,t,i){this.mergeDefaultAndTheme(e,i),e.selected=e.selected||{}},mergeOption:function(e){n.superCall(this,"mergeOption",e)},optionUpdated:function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var t=!1,i=0;i<e.length;i++){var n=e[i].get("name");if(this.isSelected(n)){this.select(n),t=!0;break}}!t&&this.select(e[0].get("name"))}},_updateData:function(e){var n=t.map(this.get("data")||[],function(e){return"string"!=typeof e&&"number"!=typeof e||(e={name:e}),new i(e,this,this.ecModel)},this);this._data=n;var o=t.map(e.getSeries(),function(e){return e.name});e.eachSeries(function(e){if(e.legendDataProvider){var t=e.legendDataProvider();o=o.concat(t.mapArray(t.getName))}}),this._availableNames=o},getData:function(){return this._data},select:function(e){var i=this.option.selected;if("single"===this.get("selectedMode")){var n=this._data;t.each(n,function(e){i[e.get("name")]=!1})}i[e]=!0},unSelect:function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},toggleSelected:function(e){var t=this.option.selected;t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},isSelected:function(e){var i=this.option.selected;return!(i.hasOwnProperty(e)&&!i[e])&&t.indexOf(this._availableNames,e)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}}),o=n;module.exports=o;
},{"../../echarts":14,"zrender/lib/core/util":113,"../../model/Model":64}],315:[function(require,module,exports) {
function e(e,n,c){var l,r={},g="toggleSelected"===e;return c.eachComponent("legend",function(c){g&&null!=l?c[l?"select":"unSelect"](n.name):(c[e](n.name),l=c.isSelected(n.name));var a=c.getData();t.each(a,function(e){var n=e.get("name");if("\n"!==n&&""!==n){var t=c.isSelected(n);r.hasOwnProperty(n)?r[n]=r[n]&&t:r[n]=t}})}),{name:n.name,selected:r}}var n=require("../../echarts"),t=require("zrender/lib/core/util");n.registerAction("legendToggleSelect","legendselectchanged",t.curry(e,"toggleSelected")),n.registerAction("legendSelect","legendselected",t.curry(e,"select")),n.registerAction("legendUnSelect","legendunselected",t.curry(e,"unSelect"));
},{"../../echarts":14,"zrender/lib/core/util":113}],369:[function(require,module,exports) {
function t(t,e,i){var g=e.getBoxLayoutParams(),h=e.get("padding"),u={width:i.getWidth(),height:i.getHeight()},n=r(g,u,h);o(e.get("orient"),t,e.get("itemGap"),n.width,n.height),a(t,g,u,h)}function e(t,e){var i=g.normalizeCssArray(e.get("padding")),r=e.getItemStyle(["color","opacity"]);r.fill=e.get("backgroundColor");return t=new h.Rect({shape:{x:t.x-i[3],y:t.y-i[0],width:t.width+i[1]+i[3],height:t.height+i[0]+i[2],r:e.get("borderRadius")},style:r,silent:!0,z2:-1})}var i=require("../../util/layout"),r=i.getLayoutRect,o=i.box,a=i.positionElement,g=require("../../util/format"),h=require("../../util/graphic");exports.layout=t,exports.makeBackground=e;
},{"../../util/graphic":59,"../../util/layout":126,"../../util/format":61}],316:[function(require,module,exports) {
function e(e,t){t.dispatchAction({type:"legendToggleSelect",name:e})}function t(e,t,n){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||e.get("legendHoverLink")&&n.dispatchAction({type:"highlight",seriesName:e.name,name:t})}function n(e,t,n){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||e.get("legendHoverLink")&&n.dispatchAction({type:"downplay",seriesName:e.name,name:t})}var i=require("../../config"),r=i.__DEV__,o=require("../../echarts"),a=require("zrender/lib/core/util"),l=require("../../util/symbol"),g=l.createSymbol,u=require("../../util/graphic"),s=require("../helper/listComponent"),d=s.makeBackground,c=require("../../util/layout"),h=a.curry,p=a.each,m=u.Group,f=o.extendComponentView({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new m),this._backgroundEl},getContentGroup:function(){return this._contentGroup},render:function(e,t,n){if(this.resetInner(),e.get("show",!0)){var i=e.get("align");i&&"auto"!==i||(i="right"===e.get("left")&&"vertical"===e.get("orient")?"right":"left"),this.renderInner(i,e,t,n);var r=e.getBoxLayoutParams(),o={width:n.getWidth(),height:n.getHeight()},l=e.get("padding"),g=c.getLayoutRect(r,o,l),u=this.layoutInner(e,i,g),s=c.getLayoutRect(a.defaults({width:u.width,height:u.height},r),o,l);this.group.attr("position",[s.x-u.x,s.y-u.y]),this.group.add(this._backgroundEl=d(u,e))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(i,r,o,l){var g=this.getContentGroup(),u=a.createHashMap(),s=r.get("selectedMode");p(r.getData(),function(a,d){var c=a.get("name");if(this.newlineDisabled||""!==c&&"\n"!==c){var p=o.getSeriesByName(c)[0];if(!u.get(c))if(p){var f=p.getData(),v=f.getVisual("color");"function"==typeof v&&(v=v(p.getDataParams(0)));var y=f.getVisual("legendSymbol")||"roundRect",x=f.getVisual("symbol");this._createItem(c,d,a,r,y,x,i,v,s).on("click",h(e,c,l)).on("mouseover",h(t,p,null,l)).on("mouseout",h(n,p,null,l)),u.set(c,!0)}else o.eachRawSeries(function(o){if(!u.get(c)&&o.legendDataProvider){var g=o.legendDataProvider(),p=g.indexOfName(c);if(p<0)return;var m=g.getItemVisual(p,"color");this._createItem(c,d,a,r,"roundRect",null,i,m,s).on("click",h(e,c,l)).on("mouseover",h(t,o,c,l)).on("mouseout",h(n,o,c,l)),u.set(c,!0)}},this)}else g.add(new m({newline:!0}))},this)},_createItem:function(e,t,n,i,r,o,l,s,d){var c=i.get("itemWidth"),h=i.get("itemHeight"),p=i.get("inactiveColor"),f=i.isSelected(e),v=new m,y=n.getModel("textStyle"),x=n.get("icon"),w=n.getModel("tooltip"),_=w.parentModel;if(r=x||r,v.add(g(r,0,0,c,h,f?s:p,!0)),!x&&o&&(o!==r||"none"==o)){var b=.8*h;"none"===o&&(o="circle"),v.add(g(o,(c-b)/2,(h-b)/2,b,b,f?s:p))}var I="left"===l?c+5:-5,D=l,k=i.get("formatter"),C=e;"string"==typeof k&&k?C=k.replace("{name}",null!=e?e:""):"function"==typeof k&&(C=k(e)),v.add(new u.Text({style:u.setTextStyle({},y,{text:C,x:I,y:h/2,textFill:f?y.getTextColor():p,textAlign:D,textVerticalAlign:"middle"})}));var G=new u.Rect({shape:v.getBoundingRect(),invisible:!0,tooltip:w.get("show")?a.extend({content:e,formatter:_.get("formatter",!0)||function(){return e},formatterParams:{componentType:"legend",legendIndex:i.componentIndex,name:e,$vars:["name"]}},w.option):null});return v.add(G),v.eachChild(function(e){e.silent=!0}),G.silent=!d,this.getContentGroup().add(v),u.setHoverStyle(v),v.__legendDataIndex=t,v},layoutInner:function(e,t,n){var i=this.getContentGroup();c.box(e.get("orient"),i,e.get("itemGap"),n.width,n.height);var r=i.getBoundingRect();return i.attr("position",[-r.x,-r.y]),this.group.getBoundingRect()}});module.exports=f;
},{"../../echarts":14,"zrender/lib/core/util":113,"../../util/graphic":59,"../../util/layout":126,"../../config":116,"../../util/symbol":193,"../helper/listComponent":369}],317:[function(require,module,exports) {
function e(e){var n=e.findComponents({mainType:"legend"});n&&n.length&&e.filterSeries(function(e){for(var r=0;r<n.length;r++)if(!n[r].isSelected(e.name))return!1;return!0})}module.exports=e;
},{}],128:[function(require,module,exports) {
var e=require("../echarts");require("./legend/LegendModel"),require("./legend/legendAction"),require("./legend/LegendView");var r=require("./legend/legendFilter"),n=require("../model/Component");e.registerProcessor(r),n.registerSubTypeDefaulter("legend",function(){return"plain"});
},{"../echarts":14,"../model/Component":201,"./legend/LegendModel":314,"./legend/legendAction":315,"./legend/LegendView":316,"./legend/legendFilter":317}],129:[function(require,module,exports) {
function e(e,t,n){var a=[1,1];a[e.getOrient().index]=0,o(t,n,{type:"box",ignoreSize:a})}var t=require("./LegendModel"),n=require("../../util/layout"),o=n.mergeLayoutParam,a=n.getLayoutParams,i=t.extend({type:"legend.scroll",setScrollDataIndex:function(e){this.option.scrollDataIndex=e},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(t,n,o,r){var l=a(t);i.superCall(this,"init",t,n,o,r),e(this,t,l)},mergeOption:function(t,n){i.superCall(this,"mergeOption",t,n),e(this,this.option,t)},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}}}),r=i;module.exports=r;
},{"../../util/layout":126,"./LegendModel":314}],130:[function(require,module,exports) {
var e=require("zrender/lib/core/util"),t=require("../../util/graphic"),n=require("../../util/layout"),i=require("./LegendView"),r=t.Group,o=["width","height"],a=["x","y"],l=i.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){l.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new r),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new r),this._showController},resetInner:function(){l.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(n,i,r,o){function a(n,r){var a=n+"DataIndex",l=t.createIcon(i.get("pageIcons",!0)[i.getOrient().name][r],{onclick:e.bind(g._pageGo,g,a,i,o)},{x:-c[0]/2,y:-c[1]/2,width:c[0],height:c[1]});l.name=n,u.add(l)}var g=this;l.superCall(this,"renderInner",n,i,r,o);var u=this._controllerGroup,c=i.get("pageIconSize",!0);e.isArray(c)||(c=[c,c]),a("pagePrev",0);var p=i.getModel("pageTextStyle");u.add(new t.Text({name:"pageText",style:{textFill:p.getTextColor(),font:p.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),a("pageNext",1)},layoutInner:function(i,r,l){var g=this.getContentGroup(),u=this._containerGroup,c=this._controllerGroup,p=i.getOrient().index,s=o[p],d=o[1-p],h=a[1-p];n.box(i.get("orient"),g,i.get("itemGap"),p?l.width:null,p?null:l.height),n.box("horizontal",c,i.get("pageButtonItemGap",!0));var x=g.getBoundingRect(),_=c.getBoundingRect(),v=this._showController=x[s]>l[s],I=[-x.x,-x.y];I[p]=g.position[p];var f=[0,0],G=[-_.x,-_.y],C=e.retrieve2(i.get("pageButtonGap",!0),i.get("itemGap",!0));if(v){"end"===i.get("pageButtonPosition",!0)?G[p]+=l[s]-_[s]:f[p]+=_[s]+C}G[1-p]+=x[d]/2-_[d]/2,g.attr("position",I),u.attr("position",f),c.attr("position",G);var m=this.group.getBoundingRect();if((m={x:0,y:0})[s]=v?l[s]:x[s],m[d]=Math.max(x[d],_[d]),m[h]=Math.min(0,_[h]+G[1-p]),u.__rectSize=l[s],v){var y={x:0,y:0};y[s]=Math.max(l[s]-_[s]-C,0),y[d]=m[d],u.setClipPath(new t.Rect({shape:y})),u.__rectSize=y[s]}else c.eachChild(function(e){e.attr({invisible:!0,silent:!0})});var w=this._getPageInfo(i);return null!=w.pageIndex&&t.updateProps(g,{position:w.contentPosition},!!v&&i),this._updatePageInfoView(i,w),m},_pageGo:function(e,t,n){var i=this._getPageInfo(t)[e];null!=i&&n.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:t.id})},_updatePageInfoView:function(t,n){var i=this._controllerGroup;e.each(["pagePrev","pageNext"],function(e){var r=null!=n[e+"DataIndex"],o=i.childOfName(e);o&&(o.setStyle("fill",r?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),o.cursor=r?"pointer":"default")});var r=i.childOfName("pageText"),o=t.get("pageFormatter"),a=n.pageIndex,l=null!=a?a+1:0,g=n.pageCount;r&&o&&r.setStyle("text",e.isString(o)?o.replace("{current}",l).replace("{total}",g):o({current:l,total:g}))},_getPageInfo:function(e){function t(e){var t=e.getBoundingRect().clone();return t[x]+=e.position[s],t}var n,i,r,l,g=e.get("scrollDataIndex",!0),u=this.getContentGroup(),c=u.getBoundingRect(),p=this._containerGroup.__rectSize,s=e.getOrient().index,d=o[s],h=o[1-s],x=a[s],_=u.position.slice();this._showController?u.eachChild(function(e){e.__legendDataIndex===g&&(l=e)}):l=u.childAt(0);var v=p?Math.ceil(c[d]/p):0;if(l){var I=l.getBoundingRect(),f=l.position[s]+I[x];_[s]=-f-c[x],n=Math.floor(v*(f+I[x]+p/2)/c[d]),n=c[d]&&v?Math.max(0,Math.min(v-1,n)):-1;var G={x:0,y:0};G[d]=p,G[h]=c[h],G[x]=-_[s]-c[x];var C,m=u.children();if(u.eachChild(function(e,n){var i=t(e);i.intersect(G)&&(null==C&&(C=n),r=e.__legendDataIndex),n===m.length-1&&i[x]+i[d]<=G[x]+G[d]&&(r=null)}),null!=C){var y=t(m[C]);if(G[x]=y[x]+y[d]-G[d],C<=0&&y[x]>=G[x])i=null;else{for(;C>0&&t(m[C-1]).intersect(G);)C--;i=m[C].__legendDataIndex}}}return{contentPosition:_,pageIndex:n,pageCount:v,pagePrevDataIndex:i,pageNextDataIndex:r}}}),g=l;module.exports=g;
},{"../../util/graphic":59,"../../util/layout":126,"./LegendView":316,"zrender/lib/core/util":113}],131:[function(require,module,exports) {
var e=require("../../echarts");e.registerAction("legendScroll","legendscroll",function(e,l){var n=e.scrollDataIndex;null!=n&&l.eachComponent({mainType:"legend",subType:"scroll",query:e},function(e){e.setScrollDataIndex(n)})});
},{"../../echarts":14}],39:[function(require,module,exports) {
require("./legend"),require("./legend/ScrollableLegendModel"),require("./legend/ScrollableLegendView"),require("./legend/scrollableLegendAction");
},{"./legend":128,"./legend/ScrollableLegendModel":129,"./legend/ScrollableLegendView":130,"./legend/scrollableLegendAction":131}],132:[function(require,module,exports) {
var e=require("../../echarts"),t=e.extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});module.exports=t;
},{"../../echarts":14}],338:[function(require,module,exports) {
function e(e){var t="cubic-bezier(0.23, 1, 0.32, 1)",i="left "+e+"s "+t+",top "+e+"s "+t;return n.map(c,function(e){return e+"transition:"+i}).join(";")}function t(e){var t=[],i=e.get("fontSize"),o=e.getTextColor();return o&&t.push("color:"+o),t.push("font:"+e.getFont()),i&&t.push("line-height:"+Math.round(3*i/2)+"px"),u(["decoration","align"],function(i){var o=e.get(i);o&&t.push("text-"+i+":"+o)}),t.join(";")}function i(i){var o=[],n=i.get("transitionDuration"),s=i.get("backgroundColor"),c=i.getModel("textStyle"),d=i.get("padding");return n&&o.push(e(n)),s&&(h.canvasSupported?o.push("background-Color:"+s):(o.push("background-Color:#"+r.toHex(s)),o.push("filter:alpha(opacity=70)"))),u(["width","color","radius"],function(e){var t="border-"+e,n=a(t),r=i.get(n);null!=r&&o.push(t+":"+r+("color"===e?"":"px"))}),o.push(t(c)),null!=d&&o.push("padding:"+l.normalizeCssArray(d).join("px ")+"px"),o.join(";")+";"}function o(e,t){var i=document.createElement("div"),o=this._zr=t.getZr();this.el=i,this._x=t.getWidth()/2,this._y=t.getHeight()/2,e.appendChild(i),this._container=e,this._show=!1,this._hideTimeout;var n=this;i.onmouseenter=function(){n._enterable&&(clearTimeout(n._hideTimeout),n._show=!0),n._inContent=!0},i.onmousemove=function(t){if(t=t||window.event,!n._enterable){var i=o.handler;s.normalizeEvent(e,t,!0),i.dispatch("mousemove",t)}},i.onmouseleave=function(){n._enterable&&n._show&&n.hideLater(n._hideDelay),n._inContent=!1}}var n=require("zrender/lib/core/util"),r=require("zrender/lib/tool/color"),s=require("zrender/lib/core/event"),h=require("zrender/lib/core/env"),l=require("../../util/format"),u=n.each,a=l.toCamelCase,c=["","-webkit-","-moz-","-o-"],d="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";o.prototype={constructor:o,_enterable:!0,update:function(){var e=this._container,t=e.currentStyle||document.defaultView.getComputedStyle(e),i=e.style;"absolute"!==i.position&&"absolute"!==t.position&&(i.position="relative")},show:function(e){clearTimeout(this._hideTimeout);var t=this.el;t.style.cssText=d+i(e)+";left:"+this._x+"px;top:"+this._y+"px;"+(e.get("extraCssText")||""),t.style.display=t.innerHTML?"block":"none",this._show=!0},setContent:function(e){this.el.innerHTML=null==e?"":e},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el;return[e.clientWidth,e.clientHeight]},moveTo:function(e,t){var i,o=this._zr;o&&o.painter&&(i=o.painter.getViewportRootOffset())&&(e+=i.offsetLeft,t+=i.offsetTop);var n=this.el.style;n.left=e+"px",n.top=t+"px",this._x=e,this._y=t},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(n.bind(this.hide,this),e)):this.hide())},isShow:function(){return this._show}};var p=o;module.exports=p;
},{"zrender/lib/core/util":113,"zrender/lib/core/env":115,"../../util/format":61,"zrender/lib/tool/color":114,"zrender/lib/core/event":344}],133:[function(require,module,exports) {
function t(t){for(var e=t.pop();t.length;){var i=t.pop();i&&(i instanceof y&&(i=i.get("tooltip",!0)),"string"==typeof i&&(i={formatter:i}),e=new y(i,e,e.ecModel))}return e}function e(t,e){return t.dispatchAction||l.bind(e.dispatchAction,e)}function i(t,e,i,o,s,a,r){var l=n(i),h=l.width,d=l.height;return null!=a&&(t+h+a>o?t-=h+a:t+=a),null!=r&&(e+d+r>s?e-=d+r:e+=r),[t,e]}function o(t,e,i,o,s){var a=n(i),r=a.width,l=a.height;return t=Math.min(t+r,o)-r,e=Math.min(e+l,s)-l,t=Math.max(t,0),e=Math.max(e,0),[t,e]}function n(t){var e=t.clientWidth,i=t.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var o=document.defaultView.getComputedStyle(t);o&&(e+=parseInt(o.paddingLeft,10)+parseInt(o.paddingRight,10)+parseInt(o.borderLeftWidth,10)+parseInt(o.borderRightWidth,10),i+=parseInt(o.paddingTop,10)+parseInt(o.paddingBottom,10)+parseInt(o.borderTopWidth,10)+parseInt(o.borderBottomWidth,10))}return{width:e,height:i}}function s(t,e,i){var o=i[0],n=i[1],s=0,a=0,r=e.width,l=e.height;switch(t){case"inside":s=e.x+r/2-o/2,a=e.y+l/2-n/2;break;case"top":s=e.x+r/2-o/2,a=e.y-n-5;break;case"bottom":s=e.x+r/2-o/2,a=e.y+l+5;break;case"left":s=e.x-o-5,a=e.y+l/2-n/2;break;case"right":s=e.x+r+5,a=e.y+l/2-n/2}return[s,a]}function a(t){return"center"===t||"middle"===t}var r=require("../../echarts"),l=require("zrender/lib/core/util"),h=require("zrender/lib/core/env"),d=require("./TooltipContent"),p=require("../../util/format"),u=require("../../util/number"),f=require("../../util/graphic"),c=require("../axisPointer/findPointFromSeries"),g=require("../../util/layout"),y=require("../../model/Model"),_=require("../axisPointer/globalListener"),x=require("../../coord/axisHelper"),m=require("../axisPointer/viewHelper"),v=l.bind,w=l.each,I=u.parsePercent,T=new f.Rect({shape:{x:-1,y:-1,width:2,height:2}}),S=r.extendComponentView({type:"tooltip",init:function(t,e){if(!h.node){var i=new d(e.getDom(),e);this._tooltipContent=i}},render:function(t,e,i){if(!h.node){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=i,this._lastDataByCoordSys=null,this._alwaysShowContent=t.get("alwaysShowContent");var o=this._tooltipContent;o.update(),o.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var t=this._tooltipModel.get("triggerOn");_.register("itemTooltip",this._api,v(function(e,i,o){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(i,o):"leave"===e&&this._hide(o))},this))},_keepShow:function(){var t=this._tooltipModel,e=this._ecModel,i=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){o.manuallyShowTip(t,e,i,{x:o._lastX,y:o._lastY})})}},manuallyShowTip:function(t,i,o,n){if(n.from!==this.uid&&!h.node){var s=e(n,o);this._ticket="";var a=n.dataByCoordSys;if(n.tooltip&&null!=n.x&&null!=n.y){var r=T;r.position=[n.x,n.y],r.update(),r.tooltip=n.tooltip,this._tryShow({offsetX:n.x,offsetY:n.y,target:r},s)}else if(a)this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,event:{},dataByCoordSys:n.dataByCoordSys,tooltipOption:n.tooltipOption},s);else if(null!=n.seriesIndex){if(this._manuallyAxisShowTip(t,i,o,n))return;var l=c(n,i),d=l.point[0],p=l.point[1];null!=d&&null!=p&&this._tryShow({offsetX:d,offsetY:p,position:n.position,target:l.el,event:{}},s)}else null!=n.x&&null!=n.y&&(o.dispatchAction({type:"updateAxisPointer",x:n.x,y:n.y}),this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,target:o.getZr().findHover(n.x,n.y).target,event:{}},s))}},manuallyHideTip:function(t,i,o,n){var s=this._tooltipContent;this._alwaysShowContent||s.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,n.from!==this.uid&&this._hide(e(n,o))},_manuallyAxisShowTip:function(e,i,o,n){var s=n.seriesIndex,a=n.dataIndex,r=i.getComponent("axisPointer").coordSysAxesInfo;if(null!=s&&null!=a&&null!=r){var l=i.getSeriesByIndex(s);if(l){if("axis"===(e=t([l.getData().getItemModel(a),l,(l.coordinateSystem||{}).model,e])).get("trigger"))return o.dispatchAction({type:"updateAxisPointer",seriesIndex:s,dataIndex:a,position:n.position}),!0}}},_tryShow:function(t,e){var i=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var o=t.dataByCoordSys;o&&o.length?this._showAxisTooltip(o,t):i&&null!=i.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(t,i,e)):i&&i.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(t,i,e)):(this._lastDataByCoordSys=null,this._hide(e))}},_showOrMove:function(t,e){var i=t.get("showDelay");e=l.bind(e,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(e,i):e()},_showAxisTooltip:function(e,i){var o=this._ecModel,n=this._tooltipModel,s=[i.offsetX,i.offsetY],a=[],r=[],h=t([i.tooltipOption,n]);w(e,function(t){w(t.dataByAxis,function(t){var e=o.getComponent(t.axisDim+"Axis",t.axisIndex),i=t.value,n=[];if(e&&null!=i){var s=m.getValueLabel(i,e.axis,o,t.seriesDataIndices,t.valueLabelOpt);l.each(t.seriesDataIndices,function(a){var l=o.getSeriesByIndex(a.seriesIndex),h=a.dataIndexInside,d=l&&l.getDataParams(h);d.axisDim=t.axisDim,d.axisIndex=t.axisIndex,d.axisType=t.axisType,d.axisId=t.axisId,d.axisValue=x.getAxisRawValue(e.axis,i),d.axisValueLabel=s,d&&(r.push(d),n.push(l.formatTooltip(h,!0)))});var h=s;a.push((h?p.encodeHTML(h)+"<br />":"")+n.join("<br />"))}})},this),a.reverse(),a=a.join("<br /><br />");var d=i.position;this._showOrMove(h,function(){this._updateContentNotChangedOnAxis(e)?this._updatePosition(h,d,s[0],s[1],this._tooltipContent,r):this._showTooltipContent(h,a,r,Math.random(),s[0],s[1],d)})},_showSeriesItemTooltip:function(e,i,o){var n=this._ecModel,s=i.seriesIndex,a=n.getSeriesByIndex(s),r=i.dataModel||a,l=i.dataIndex,h=i.dataType,d=r.getData(),p=t([d.getItemModel(l),r,a&&(a.coordinateSystem||{}).model,this._tooltipModel]),u=p.get("trigger");if(null==u||"item"===u){var f=r.getDataParams(l,h),c=r.formatTooltip(l,!1,h),g="item_"+r.name+"_"+l;this._showOrMove(p,function(){this._showTooltipContent(p,c,f,g,e.offsetX,e.offsetY,e.position,e.target)}),o({type:"showTip",dataIndexInside:l,dataIndex:d.getRawIndex(l),seriesIndex:s,from:this.uid})}},_showComponentItemTooltip:function(t,e,i){var o=e.tooltip;if("string"==typeof o){o={content:o,formatter:o}}var n=new y(o,this._tooltipModel,this._ecModel),s=n.get("content"),a=Math.random();this._showOrMove(n,function(){this._showTooltipContent(n,s,n.get("formatterParams")||{},a,t.offsetX,t.offsetY,t.position,e)}),i({type:"showTip",from:this.uid})},_showTooltipContent:function(t,e,i,o,n,s,a,r){if(this._ticket="",t.get("showContent")&&t.get("show")){var l=this._tooltipContent,h=t.get("formatter");a=a||t.get("position");var d=e;if(h&&"string"==typeof h)d=p.formatTpl(h,i,!0);else if("function"==typeof h){var u=v(function(e,o){e===this._ticket&&(l.setContent(o),this._updatePosition(t,a,n,s,l,i,r))},this);this._ticket=o,d=h(i,o,u)}l.setContent(d),l.show(t),this._updatePosition(t,a,n,s,l,i,r)}},_updatePosition:function(t,e,n,r,h,d,p){var u=this._api.getWidth(),f=this._api.getHeight();e=e||t.get("position");var c=h.getSize(),y=t.get("align"),_=t.get("verticalAlign"),x=p&&p.getBoundingRect().clone();if(p&&x.applyTransform(p.transform),"function"==typeof e&&(e=e([n,r],d,h.el,x,{viewSize:[u,f],contentSize:c.slice()})),l.isArray(e))n=I(e[0],u),r=I(e[1],f);else if(l.isObject(e)){e.width=c[0],e.height=c[1];var m=g.getLayoutRect(e,{width:u,height:f});n=m.x,r=m.y,y=null,_=null}else if("string"==typeof e&&p){n=(v=s(e,x,c))[0],r=v[1]}else{n=(v=i(n,r,h.el,u,f,y?null:20,_?null:20))[0],r=v[1]}if(y&&(n-=a(y)?c[0]/2:"right"===y?c[0]:0),_&&(r-=a(_)?c[1]/2:"bottom"===_?c[1]:0),t.get("confine")){var v;n=(v=o(n,r,h.el,u,f))[0],r=v[1]}h.moveTo(n,r)},_updateContentNotChangedOnAxis:function(t){var e=this._lastDataByCoordSys,i=!!e&&e.length===t.length;return i&&w(e,function(e,o){var n=e.dataByAxis||{},s=(t[o]||{}).dataByAxis||[];(i&=n.length===s.length)&&w(n,function(t,e){var o=s[e]||{},n=t.seriesDataIndices||[],a=o.seriesDataIndices||[];(i&=t.value===o.value&&t.axisType===o.axisType&&t.axisId===o.axisId&&n.length===a.length)&&w(n,function(t,e){var o=a[e];i&=t.seriesIndex===o.seriesIndex&&t.dataIndex===o.dataIndex})})}),this._lastDataByCoordSys=t,!!i},_hide:function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},dispose:function(t,e){h.node||(this._tooltipContent.hide(),_.unregister("itemTooltip",e))}});module.exports=S;
},{"../../echarts":14,"../../util/format":61,"../../util/number":60,"../../util/graphic":59,"../../util/layout":126,"../../model/Model":64,"../../coord/axisHelper":191,"./TooltipContent":338,"../axisPointer/findPointFromSeries":339,"../axisPointer/globalListener":318,"../axisPointer/viewHelper":322,"zrender/lib/core/util":113,"zrender/lib/core/env":115}],40:[function(require,module,exports) {
var i=require("../echarts");require("./axisPointer"),require("./tooltip/TooltipModel"),require("./tooltip/TooltipView"),i.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),i.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){});
},{"../echarts":14,"./axisPointer":41,"./tooltip/TooltipModel":132,"./tooltip/TooltipView":133}],138:[function(require,module,exports) {
function t(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function e(t){return t.dim}function a(a,r,d){var h=d.getWidth(),c=d.getHeight(),g={},s={},u=i(n.filter(r.getSeriesByType(a),function(t){return!r.isSeriesFiltered(t)&&t.coordinateSystem&&"polar"===t.coordinateSystem.type}));r.eachSeriesByType(a,function(a){if("polar"===a.coordinateSystem.type){var i=a.getData(),n=a.coordinateSystem,r=n.getAngleAxis(),d=n.getBaseAxis(),m=t(a),l=u[e(d)][m],p=l.offset,f=l.width,y=n.getOtherAxis(d),x=a.get("center")||["50%","50%"],M=o(x[0],h),W=o(x[1],c),v=a.get("barMinHeight")||0,w=a.get("barMinAngle")||0,b=y.getExtent()[0],D=y.model.get("max"),A=y.model.get("min"),S=[a.coordDimToDataDim("radius")[0],a.coordDimToDataDim("angle")[0]],T=i.mapArray(S,function(t,e){return n.dataToPoint([t,e])},!0);g[m]=g[m]||[],s[m]=s[m]||[],i.each(a.coordDimToDataDim(y.dim)[0],function(t,e){if(!isNaN(t)){g[m][e]||(g[m][e]={p:b,n:b},s[m][e]={p:b,n:b});var a,o,d,h,c=t>=0?"p":"n",u=n.pointToCoord(T[e]),l=s[m][e][c];if("radius"===y.dim)a=l,o=u[0],h=(d=(-u[1]+p)*Math.PI/180)+f*Math.PI/180,Math.abs(o)<v&&(o=a+(o<0?-1:1)*v),s[m][e][c]=o;else{o=(a=u[0]+p)+f,null!=D&&(t=Math.min(t,D)),null!=A&&(t=Math.max(t,A));var x=r.dataToAngle(t);Math.abs(x-l)<w&&(x=l-(t<0?-1:1)*w),d=-l*Math.PI/180,h=-x*Math.PI/180;var S=r.getExtent(),I=x;I===S[0]&&t>0?I=S[1]:I===S[1]&&t<0&&(I=S[0]),s[m][e][c]=I}i.setItemLayout(e,{cx:M,cy:W,r0:a,r:o,startAngle:d,endAngle:h})}},!0)}},this)}function i(a,i){var r={};n.each(a,function(a,i){var n=a.getData(),d=a.coordinateSystem.getBaseAxis(),h=d.getExtent(),c="category"===d.type?d.getBandWidth():Math.abs(h[1]-h[0])/n.count(),g=r[e(d)]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},s=g.stacks;r[e(d)]=g;var u=t(a);s[u]||g.autoWidthCount++,s[u]=s[u]||{width:0,maxWidth:0};var m=o(a.get("barWidth"),c),l=o(a.get("barMaxWidth"),c),p=a.get("barGap"),f=a.get("barCategoryGap");m&&!s[u].width&&(m=Math.min(g.remainedWidth,m),s[u].width=m,g.remainedWidth-=m),l&&(s[u].maxWidth=l),null!=p&&(g.gap=p),null!=f&&(g.categoryGap=f)});var d={};return n.each(r,function(t,e){d[e]={};var a=t.stacks,i=t.bandWidth,r=o(t.categoryGap,i),h=o(t.gap,1),c=t.remainedWidth,g=t.autoWidthCount,s=(c-r)/(g+(g-1)*h);s=Math.max(s,0),n.each(a,function(t,e){var a=t.maxWidth;a&&a<s&&(a=Math.min(a,c),t.width&&(a=Math.min(a,t.width)),c-=a,t.width=a,g--)}),s=(c-r)/(g+(g-1)*h),s=Math.max(s,0);var u,m=0;n.each(a,function(t,e){t.width||(t.width=s),u=t,m+=t.width*(1+h)}),u&&(m-=u.width*h);var l=-m/2;n.each(a,function(t,a){d[e][a]=d[e][a]||{offset:l,width:t.width},l+=t.width*(1+h)})}),d}var n=require("zrender/lib/core/util"),r=require("../util/number"),o=r.parsePercent,d=a;module.exports=d;
},{"zrender/lib/core/util":113,"../util/number":60}],438:[function(require,module,exports) {
function t(t,o){r.call(this,"radius",t,o),this.type="category"}var o=require("zrender/lib/core/util"),r=require("../Axis");t.prototype={constructor:t,pointToData:function(t,o){return this.polar.pointToData(t,o)["radius"===this.dim?0:1]},dataToRadius:r.prototype.dataToCoord,radiusToData:r.prototype.coordToData},o.inherits(t,r);var a=t;module.exports=a;
},{"zrender/lib/core/util":113,"../Axis":65}],439:[function(require,module,exports) {
function t(t,o){o=o||[0,360],r.call(this,"angle",t,o),this.type="category"}var o=require("zrender/lib/core/util"),r=require("../Axis");t.prototype={constructor:t,pointToData:function(t,o){return this.polar.pointToData(t,o)["radius"===this.dim?0:1]},dataToAngle:r.prototype.dataToCoord,angleToData:r.prototype.coordToData},o.inherits(t,r);var a=t;module.exports=a;
},{"zrender/lib/core/util":113,"../Axis":65}],340:[function(require,module,exports) {
var t=require("./RadiusAxis"),i=require("./AngleAxis"),s=function(s){this.name=s||"",this.cx=0,this.cy=0,this._radiusAxis=new t,this._angleAxis=new i,this._radiusAxis.polar=this._angleAxis.polar=this};s.prototype={type:"polar",axisPointerEnabled:!0,constructor:s,dimensions:["radius","angle"],model:null,containPoint:function(t){var i=this.pointToCoord(t);return this._radiusAxis.contain(i[0])&&this._angleAxis.contain(i[1])},containData:function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},getAxis:function(t){return this["_"+t+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(t){var i=[],s=this._angleAxis,n=this._radiusAxis;return s.scale.type===t&&i.push(s),n.scale.type===t&&i.push(n),i},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(t){var i=this._angleAxis;return t===i?this._radiusAxis:i},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(t){var i=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[i],otherAxes:[this.getOtherAxis(i)]}},dataToPoint:function(t,i){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],i),this._angleAxis.dataToAngle(t[1],i)])},pointToData:function(t,i){var s=this.pointToCoord(t);return[this._radiusAxis.radiusToData(s[0],i),this._angleAxis.angleToData(s[1],i)]},pointToCoord:function(t){var i=t[0]-this.cx,s=t[1]-this.cy,n=this.getAngleAxis(),a=n.getExtent(),e=Math.min(a[0],a[1]),r=Math.max(a[0],a[1]);n.inverse?e=r-360:r=e+360;var o=Math.sqrt(i*i+s*s);i/=o,s/=o;for(var u=Math.atan2(-s,i)/Math.PI*180,h=u<e?1:-1;u<e||u>r;)u+=360*h;return[o,u]},coordToPoint:function(t){var i=t[0],s=t[1]/180*Math.PI;return[Math.cos(s)*i+this.cx,-Math.sin(s)*i+this.cy]}};var n=s;module.exports=n;
},{"./RadiusAxis":438,"./AngleAxis":439}],443:[function(require,module,exports) {
function e(e,r){return r.type||(r.data?"category":"value")}var r=require("zrender/lib/core/util"),o=require("../../model/Component"),i=require("../axisModelCreator"),t=require("../axisModelCommonMixin"),a=o.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});r.merge(a.prototype,t);var n={angle:{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{splitNumber:5}};i("angle",a,e,n.angle),i("radius",a,e,n.radius);
},{"zrender/lib/core/util":113,"../../model/Component":201,"../axisModelCreator":327,"../axisModelCommonMixin":192}],341:[function(require,module,exports) {
var e=require("../../echarts");require("./AxisModel");var o=e.extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(e){var o;return this.ecModel.eachComponent(e,function(e){e.getCoordSysModel()===this&&(o=e)},this),o},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});module.exports=o;
},{"../../echarts":14,"./AxisModel":443}],141:[function(require,module,exports) {
function e(e,t,n){var r=t.get("center"),i=n.getWidth(),a=n.getHeight();e.cx=c(r[0],i),e.cy=c(r[1],a);var o=e.getRadiusAxis(),s=Math.min(i,a)/2,l=c(t.get("radius"),s);o.inverse?o.setExtent(l,0):o.setExtent(0,l)}function t(e,t){var n=this,r=n.getAngleAxis(),i=n.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),e.eachSeries(function(e){if(e.coordinateSystem===n){var t=e.getData();i.scale.unionExtentFromData(t,"radius"),r.scale.unionExtentFromData(t,"angle")}}),u(r.scale,r.model),u(i.scale,i.model),"category"===r.type&&!r.onBand){var a=r.getExtent(),o=360/r.scale.count();r.inverse?a[1]+=o:a[1]-=o,r.setExtent(a[0],a[1])}}function n(e,t){if(e.type=t.get("type"),e.scale=d(t),e.onBand=t.get("boundaryGap")&&"category"===e.type,e.inverse=t.get("inverse"),"angleAxis"===t.mainType){e.inverse^=t.get("clockwise");var n=t.get("startAngle");e.setExtent(n,n+(e.inverse?-360:360))}t.axis=e,e.model=t}var r=require("../../config"),i=r.__DEV__,a=require("zrender/lib/core/util"),o=require("./Polar"),s=require("../../util/number"),c=s.parsePercent,l=require("../../coord/axisHelper"),d=l.createScaleByModel,u=l.niceScaleExtent,g=require("../../CoordinateSystem");require("./PolarModel");var x={dimensions:o.prototype.dimensions,create:function(r,i){var a=[];return r.eachComponent("polar",function(r,s){var c=new o(s);c.update=t;var l=c.getRadiusAxis(),d=c.getAngleAxis(),u=r.findAxisModel("radiusAxis"),g=r.findAxisModel("angleAxis");n(l,u),n(d,g),e(c,r,i),a.push(c),r.coordinateSystem=c,c.model=r}),r.eachSeries(function(e){if("polar"===e.get("coordinateSystem")){var t=r.queryComponents({mainType:"polar",index:e.get("polarIndex"),id:e.get("polarId")})[0];e.coordinateSystem=t.coordinateSystem}}),a}};g.register("polar",x);
},{"zrender/lib/core/util":113,"../../config":116,"../../CoordinateSystem":197,"../../util/number":60,"../../coord/axisHelper":191,"./Polar":340,"./PolarModel":341}],319:[function(require,module,exports) {
function e(e,t,i){t[1]>t[0]&&(t=t.slice().reverse());var l=e.coordToPoint([t[0],i]),r=e.coordToPoint([t[1],i]);return{x1:l[0],y1:l[1],x2:r[0],y2:r[1]}}function t(e){return e.getRadiusAxis().inverse?0:1}var i=require("zrender/lib/core/util"),l=require("../../util/graphic"),r=require("../../model/Model"),n=require("./AxisView"),a=["axisLine","axisLabel","axisTick","splitLine","splitArea"],s=n.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(e,t){if(this.group.removeAll(),e.get("show")){var l=e.axis,r=l.polar,n=r.getRadiusAxis().getExtent(),s=l.getTicksCoords();"category"!==l.type&&s.pop(),i.each(a,function(t){!e.get(t+".show")||l.scale.isBlank()&&"axisLine"!==t||this["_"+t](e,r,s,n)},this)}},_axisLine:function(e,i,r,n){var a=e.getModel("axisLine.lineStyle"),s=new l.Circle({shape:{cx:i.cx,cy:i.cy,r:n[t(i)]},style:a.getLineStyle(),z2:1,silent:!0});s.style.fill=null,this.group.add(s)},_axisTick:function(r,n,a,s){var o=r.getModel("axisTick"),g=(o.get("inside")?-1:1)*o.get("length"),c=s[t(n)],d=i.map(a,function(t){return new l.Line({shape:e(n,[c,c+g],t)})});this.group.add(l.mergePath(d,{style:i.defaults(o.getModel("lineStyle").getLineStyle(),{stroke:r.get("axisLine.lineStyle.color")})}))},_axisLabel:function(e,i,n,a){for(var s=e.axis,o=e.get("data"),g=e.getModel("axisLabel"),c=e.getFormattedLabels(),d=g.get("margin"),x=s.getLabelsCoords(),h=0;h<n.length;h++){var u=a[t(i)],y=i.coordToPoint([u+d,x[h]]),p=i.cx,f=i.cy,L=Math.abs(y[0]-p)/u<.3?"center":y[0]>p?"left":"right",v=Math.abs(y[1]-f)/u<.3?"middle":y[1]>f?"top":"bottom";o&&o[h]&&o[h].textStyle&&(g=new r(o[h].textStyle,g,g.ecModel));var A=new l.Text({silent:!0});this.group.add(A),l.setTextStyle(A.style,g,{x:y[0],y:y[1],textFill:g.getTextColor()||e.get("axisLine.lineStyle.color"),text:c[h],textAlign:L,textVerticalAlign:v})}},_splitLine:function(t,r,n,a){var s=t.getModel("splitLine").getModel("lineStyle"),o=s.get("color"),g=0;o=o instanceof Array?o:[o];for(var c=[],d=0;d<n.length;d++){var x=g++%o.length;c[x]=c[x]||[],c[x].push(new l.Line({shape:e(r,a,n[d])}))}for(d=0;d<c.length;d++)this.group.add(l.mergePath(c[d],{style:i.defaults({stroke:o[d%o.length]},s.getLineStyle()),silent:!0,z:t.get("z")}))},_splitArea:function(e,t,r,n){var a=e.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),o=0;s=s instanceof Array?s:[s];for(var g=[],c=Math.PI/180,d=-r[0]*c,x=Math.min(n[0],n[1]),h=Math.max(n[0],n[1]),u=e.get("clockwise"),y=1;y<r.length;y++){var p=o++%s.length;g[p]=g[p]||[],g[p].push(new l.Sector({shape:{cx:t.cx,cy:t.cy,r0:x,r:h,startAngle:d,endAngle:-r[y]*c,clockwise:u},silent:!0})),d=-r[y]*c}for(y=0;y<g.length;y++)this.group.add(l.mergePath(g[y],{style:i.defaults({fill:s[y%s.length]},a.getAreaStyle()),silent:!0}))}});module.exports=s;
},{"zrender/lib/core/util":113,"../../util/graphic":59,"./AxisView":324,"../../model/Model":64}],139:[function(require,module,exports) {
require("../coord/polar/polarCreator"),require("./axis/AngleAxisView");
},{"../coord/polar/polarCreator":141,"./axis/AngleAxisView":319}],320:[function(require,module,exports) {
function e(e,t,i){return{position:[e.cx,e.cy],rotation:i/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}var t=require("zrender/lib/core/util"),i=require("../../util/graphic"),r=require("./AxisBuilder"),l=require("./AxisView"),a=["axisLine","axisTickLabel","axisName"],n=["splitLine","splitArea"],s=l.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(i,l){if(this.group.removeAll(),i.get("show")){var s=i.axis,o=s.polar,g=o.getAngleAxis(),c=s.getTicksCoords(),h=g.getExtent()[0],u=s.getExtent(),d=e(o,i,h),p=new r(i,d);t.each(a,p.add,p),this.group.add(p.getGroup()),t.each(n,function(e){i.get(e+".show")&&!s.scale.isBlank()&&this["_"+e](i,o,h,u,c)},this)}},_splitLine:function(e,r,l,a,n){var s=e.getModel("splitLine").getModel("lineStyle"),o=s.get("color"),g=0;o=o instanceof Array?o:[o];for(var c=[],h=0;h<n.length;h++){var u=g++%o.length;c[u]=c[u]||[],c[u].push(new i.Circle({shape:{cx:r.cx,cy:r.cy,r:n[h]},silent:!0}))}for(h=0;h<c.length;h++)this.group.add(i.mergePath(c[h],{style:t.defaults({stroke:o[h%o.length],fill:null},s.getLineStyle()),silent:!0}))},_splitArea:function(e,r,l,a,n){var s=e.getModel("splitArea").getModel("areaStyle"),o=s.get("color"),g=0;o=o instanceof Array?o:[o];for(var c=[],h=n[0],u=1;u<n.length;u++){var d=g++%o.length;c[d]=c[d]||[],c[d].push(new i.Sector({shape:{cx:r.cx,cy:r.cy,r0:h,r:n[u],startAngle:0,endAngle:2*Math.PI},silent:!0})),h=n[u]}for(u=0;u<c.length;u++)this.group.add(i.mergePath(c[u],{style:t.defaults({fill:o[u%o.length]},s.getAreaStyle()),silent:!0}))}});module.exports=s;
},{"zrender/lib/core/util":113,"../../util/graphic":59,"./AxisBuilder":323,"./AxisView":324}],140:[function(require,module,exports) {
require("../coord/polar/polarCreator"),require("./axis/RadiusAxisView");
},{"../coord/polar/polarCreator":141,"./axis/RadiusAxisView":320}],142:[function(require,module,exports) {
function e(e,t,r,i,l){var s=t.axis,c=s.dataToCoord(e),x=i.getAngleAxis().getExtent()[0];x=x/180*Math.PI;var d,p,g,h=i.getRadiusAxis().getExtent();if("radius"===s.dim){var u=o.create();o.rotate(u,u,x),o.translate(u,u,[i.cx,i.cy]),d=a.applyTransform([c,-l],u);var m=t.getModel("axisLabel").get("rotate")||0,y=n.innerTextLayout(x,m*Math.PI/180,-1);p=y.textAlign,g=y.textVerticalAlign}else{var v=h[1];d=i.coordToPoint([v+l,c]);var A=i.cx,P=i.cy;p=Math.abs(d[0]-A)/v<.3?"center":d[0]>A?"left":"right",g=Math.abs(d[1]-P)/v<.3?"middle":d[1]>P?"top":"bottom"}return{position:d,align:p,verticalAlign:g}}var t=require("../../util/format"),r=require("./BaseAxisPointer"),a=require("../../util/graphic"),i=require("./viewHelper"),o=require("zrender/lib/core/matrix"),n=require("../axis/AxisBuilder"),l=require("../axis/AxisView"),s=r.extend({makeElOption:function(r,a,o,n,l){var s=o.axis;"angle"===s.dim&&(this.animationThreshold=Math.PI/18);var x,d=s.polar,p=d.getOtherAxis(s).getExtent();x=s["dataTo"+t.capitalFirst(s.dim)](a);var g=n.get("type");if(g&&"none"!==g){var h=i.buildElStyle(n),u=c[g](s,d,x,p,h);u.style=h,r.graphicKey=u.type,r.pointer=u}var m=e(a,o,n,d,n.get("label.margin"));i.buildLabelElOption(r,o,n,l,m)}}),c={line:function(e,t,r,a,o){return"angle"===e.dim?{type:"Line",shape:i.makeLineShape(t.coordToPoint([a[0],r]),t.coordToPoint([a[1],r]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:r}}},shadow:function(e,t,r,a,o){var n=e.getBandWidth(),l=Math.PI/180;return"angle"===e.dim?{type:"Sector",shape:i.makeSectorShape(t.cx,t.cy,a[0],a[1],(-r-n/2)*l,(n/2-r)*l)}:{type:"Sector",shape:i.makeSectorShape(t.cx,t.cy,r-n/2,r+n/2,0,2*Math.PI)}}};l.registerAxisPointerClass("PolarAxisPointer",s);var x=s;module.exports=x;
},{"../../util/format":61,"../../util/graphic":59,"./BaseAxisPointer":321,"./viewHelper":322,"../axis/AxisBuilder":323,"../axis/AxisView":324,"zrender/lib/core/matrix":111}],42:[function(require,module,exports) {
var r=require("../echarts"),e=require("zrender/lib/core/util"),i=require("../layout/barPolar");require("../coord/polar/polarCreator"),require("./angleAxis"),require("./radiusAxis"),require("./axisPointer"),require("./axisPointer/PolarAxisPointer"),r.registerLayout(e.curry(i,"bar")),r.extendComponentView({type:"polar"});
},{"../echarts":14,"zrender/lib/core/util":113,"./axisPointer":41,"../layout/barPolar":138,"./angleAxis":139,"./radiusAxis":140,"../coord/polar/polarCreator":141,"./axisPointer/PolarAxisPointer":142}],143:[function(require,module,exports) {
var e=require("zrender/lib/core/util"),o=require("../../util/model"),t=require("../../model/Component"),n=require("../../model/Model"),i=require("../../component/helper/selectableMixin"),r=require("./geoCreator"),l=t.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(e){t.prototype.init.apply(this,arguments),o.defaultEmphasis(e.label,["show"])},optionUpdated:function(){var o=this.option,t=this;o.regions=r.getFilledRegions(o.regions,o.map,o.nameMap),this._optionModelMap=e.reduce(o.regions||[],function(e,o){return o.name&&e.set(o.name,new n(o,t)),e},e.createHashMap()),this.updateSelectedMap(o.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:.75,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,color:"#000"},emphasis:{show:!0,color:"rgb(100,0,0)"}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(e){return this._optionModelMap.get(e)||new n(null,this,this.ecModel)},getFormattedLabel:function(e,o){var t=this.getRegionModel(e).get("label."+o+".formatter"),n={name:e};return"function"==typeof t?(n.status=o,t(n)):"string"==typeof t?t.replace("{a}",null!=e?e:""):void 0},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e}});e.mixin(l,i);var a=l;module.exports=a;
},{"zrender/lib/core/util":113,"../../util/model":125,"../../model/Component":201,"../../model/Model":64,"../../component/helper/selectableMixin":297,"./geoCreator":85}],144:[function(require,module,exports) {
var e=require("../helper/MapDraw"),r=require("../../echarts"),t=r.extendComponentView({type:"geo",init:function(r,t){var i=new e(t,!0);this._mapDraw=i,this.group.add(i.group)},render:function(e,r,t,i){if(!i||"geoToggleSelect"!==i.type||i.from!==this.uid){var o=this._mapDraw;e.get("show")?o.draw(e,r,t,this,i):this._mapDraw.group.removeAll(),this.group.silent=e.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});module.exports=t;
},{"../../echarts":14,"../helper/MapDraw":301}],43:[function(require,module,exports) {
function e(e,r){r.update="updateView",o.registerAction(r,function(o,r){var n={};return r.eachComponent({mainType:"geo",query:o},function(r){r[e](o.name);var c=r.coordinateSystem;t.each(c.regions,function(e){n[e.name]=r.isSelected(e.name)||!1})}),{selected:n,name:o.name}})}var o=require("../echarts"),t=require("zrender/lib/core/util");require("../coord/geo/GeoModel"),require("../coord/geo/geoCreator"),require("./geo/GeoView"),require("../action/geoRoam"),e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"});
},{"../echarts":14,"zrender/lib/core/util":113,"../action/geoRoam":81,"../coord/geo/GeoModel":143,"../coord/geo/geoCreator":85,"./geo/GeoView":144}],153:[function(require,module,exports) {
function r(r,a){var n=r&&r.brush;if(o.isArray(n)||(n=n?[n]:[]),n.length){var u=[];o.each(n,function(r){var e=r.hasOwnProperty("toolbox")?r.toolbox:[];e instanceof Array&&(u=u.concat(e))});var c=r&&r.toolbox;o.isArray(c)&&(c=c[0]),c||(c={feature:{}},r.toolbox=[c]);var l=c.feature||(c.feature={}),h=l.brush||(l.brush={}),p=h.type||(h.type=[]);p.push.apply(p,u),e(p),a&&!p.length&&p.push.apply(p,t)}}function e(r){var e={};o.each(r,function(r){e[r]=1}),r.length=0,o.each(e,function(e,o){r.push(o)})}var o=require("zrender/lib/core/util"),t=["rect","polygon","keep","clear"];module.exports=r;
},{"zrender/lib/core/util":113}],334:[function(require,module,exports) {
function e(e){if(e)for(var a in e)if(e.hasOwnProperty(a))return!0}function a(e,a,n){var r={};return o(a,function(a){var u=r[a]=function(){var e=function(){};return e.prototype.__hidden=e.prototype,new e}();o(e[a],function(e,r){if(i.isValidType(r)){var o={type:r,visual:e};n&&n(o,a),u[r]=new i(o),"opacity"===r&&((o=t.clone(o)).type="colorAlpha",u.__hidden.__alphaForOpacity=new i(o))}})}),r}function n(a,n,r){var i;t.each(r,function(a){n.hasOwnProperty(a)&&e(n[a])&&(i=!0)}),i&&t.each(r,function(r){n.hasOwnProperty(r)&&e(n[r])?a[r]=t.clone(n[r]):delete a[r]})}function r(e,a,n,r,o,u){function p(e){return n.getItemVisual(s,e)}function c(e,a){n.setItemVisual(s,e,a)}function l(e,t){s=null==u?e:t;var i=n.getRawDataItem(s);if(!i||!1!==i.visualMap)for(var l=r.call(o,e),v=a[l],h=f[l],y=0,V=h.length;y<V;y++){var d=h[y];v[d]&&v[d].applyVisual(e,p,c)}}var f={};t.each(e,function(e){var n=i.prepareVisualTypes(a[e]);f[e]=n});var s;null==u?n.each(l,!0):n.each([u],l,!0)}var t=require("zrender/lib/core/util"),i=require("./VisualMapping"),o=t.each;exports.createVisualMappings=a,exports.replaceVisualOption=n,exports.applyVisual=r;
},{"zrender/lib/core/util":113,"./VisualMapping":298}],354:[function(require,module,exports) {
function n(n){var t=["x","y"],e=["width","height"];return{point:function(t,e,i){if(t){var o=i.range;return r(t[n],o)}},rect:function(i,o,u){if(i){var c=u.range,a=[i[t[n]],i[t[n]]+i[e[n]]];return a[1]<a[0]&&a.reverse(),r(a[0],c)||r(a[1],c)||r(c[0],a)||r(c[1],a)}}}}function r(n,r){return r[0]<=n&&n<=r[1]}function t(n,r,t,i,o){for(var u=0,c=o[o.length-1];u<o.length;u++){var a=o[u];if(e(n,r,t,i,a[0],a[1],c[0],c[1]))return!0;c=a}}function e(n,r,t,e,u,c,a,f){var g=o(t-n,u-a,e-r,c-f);if(i(g))return!1;var v=o(u-n,u-a,c-r,c-f)/g;if(v<0||v>1)return!1;var d=o(t-n,u-n,e-r,c-r)/g;return!(d<0||d>1)}function i(n){return n<=1e-6&&n>=-1e-6}function o(n,r,t,e){return n*e-r*t}var u=require("zrender/lib/contain/polygon"),c=require("zrender/lib/core/BoundingRect"),a={lineX:n(0),lineY:n(1),rect:{point:function(n,r,t){return n&&t.boundingRect.contain(n[0],n[1])},rect:function(n,r,t){return n&&t.boundingRect.intersect(n)}},polygon:{point:function(n,r,t){return n&&t.boundingRect.contain(n[0],n[1])&&u.contain(t.range,n[0],n[1])},rect:function(n,r,e){var i=e.range;if(!n||i.length<=1)return!1;var o=n.x,a=n.y,f=n.width,g=n.height,v=i[0];return!!(u.contain(i,o,a)||u.contain(i,o+f,a)||u.contain(i,o,a+g)||u.contain(i,o+f,a+g)||c.create(n).contain(v[0],v[1])||t(o,a,o+f,a,i)||t(o,a,o,a+g,i)||t(o+f,a,o+f,a+g,i)||t(o,a+g,o+f,a+g,i))||void 0}}},f=a;module.exports=f;
},{"zrender/lib/core/BoundingRect":256,"zrender/lib/contain/polygon":426}],355:[function(require,module,exports) {
function e(e,n,t){var o=this._targetInfoList=[],i={},a=r(n,e);g(v,function(e,n){(!t||!t.include||p(t.include,n)>=0)&&e(a,o,i)})}function n(e){return e[0]>e[1]&&e.reverse(),e}function r(e,n){return l.parseFinder(e,n,{includeMainTypes:y})}function t(e,r,t,o){var i=t.getAxis(["x","y"][e]),a=n(d.map([0,1],function(e){return r?i.coordToData(i.toLocalCoord(o[e])):i.toGlobalCoord(i.dataToCoord(o[e]))})),s=[];return s[e]=a,s[1-e]=[NaN,NaN],{values:a,xyMinMax:s}}function o(e,n,r,t){return[n[0]-t[e]*r[0],n[1]-t[e]*r[1]]}function i(e,n){var r=a(e),t=a(n),o=[r[0]/t[0],r[1]/t[1]];return isNaN(o[0])&&(o[0]=1),isNaN(o[1])&&(o[1]=1),o}function a(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}var s=require("../../config"),u=s.__DEV__,d=require("zrender/lib/core/util"),c=require("../../util/graphic"),l=require("../../util/model"),f=require("./brushHelper"),g=d.each,p=d.indexOf,x=d.curry,h=["dataToPoint","pointToData"],y=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],M=e.prototype;M.setOutputRanges=function(e,n){this.matchOutputRanges(e,n,function(e,n,r){if((e.coordRanges||(e.coordRanges=[])).push(n),!e.coordRange){e.coordRange=n;var t=I[e.brushType](0,r,n);e.__rangeOffset={offset:R[e.brushType](t.values,e.range,[1,1]),xyMinMax:t.xyMinMax}}})},M.matchOutputRanges=function(e,n,r){g(e,function(e){var t=this.findTargetInfo(e,n);t&&!0!==t&&d.each(t.coordSyses,function(t){var o=I[e.brushType](1,t,e.range);r(e,o.values,t,n)})},this)},M.setInputRanges=function(e,n){g(e,function(e){var r=this.findTargetInfo(e,n);if(e.range=e.range||[],r&&!0!==r){e.panelId=r.panelId;var t=I[e.brushType](0,r.coordSys,e.coordRange),o=e.__rangeOffset;e.range=o?R[e.brushType](t.values,o.offset,i(t.xyMinMax,o.xyMinMax)):t.values}},this)},M.makePanelOpts=function(e,n){return d.map(this._targetInfoList,function(r){var t=r.getPanelRect();return{panelId:r.panelId,defaultBrushType:n&&n(r),clipPath:f.makeRectPanelClipPath(t),isTargetByCursor:f.makeRectIsTargetByCursor(t,e,r.coordSysModel),getLinearBrushOtherExtent:f.makeLinearBrushOtherExtent(t)}})},M.controlSeries=function(e,n,r){var t=this.findTargetInfo(e,r);return!0===t||t&&p(t.coordSyses,n.coordinateSystem)>=0},M.findTargetInfo=function(e,n){for(var t=this._targetInfoList,o=r(n,e),i=0;i<t.length;i++){var a=t[i],s=e.panelId;if(s){if(a.panelId===s)return a}else for(i=0;i<m.length;i++)if(m[i](o,a))return a}return!0};var v={grid:function(e,n){var r=e.xAxisModels,t=e.yAxisModels,o=e.gridModels,i=d.createHashMap(),a={},s={};(r||t||o)&&(g(r,function(e){var n=e.axis.grid.model;i.set(n.id,n),a[n.id]=!0}),g(t,function(e){var n=e.axis.grid.model;i.set(n.id,n),s[n.id]=!0}),g(o,function(e){i.set(e.id,e),a[e.id]=!0,s[e.id]=!0}),i.each(function(e){var o=e.coordinateSystem,i=[];g(o.getCartesians(),function(e,n){(p(r,e.getAxis("x").model)>=0||p(t,e.getAxis("y").model)>=0)&&i.push(e)}),n.push({panelId:"grid--"+e.id,gridModel:e,coordSysModel:e,coordSys:i[0],coordSyses:i,getPanelRect:T.grid,xAxisDeclared:a[e.id],yAxisDeclared:s[e.id]})}))},geo:function(e,n){g(e.geoModels,function(e){var r=e.coordinateSystem;n.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:r,coordSyses:[r],getPanelRect:T.geo})})}},m=[function(e,n){var r=e.xAxisModel,t=e.yAxisModel,o=e.gridModel;return!o&&r&&(o=r.axis.grid.model),!o&&t&&(o=t.axis.grid.model),o&&o===n.gridModel},function(e,n){var r=e.geoModel;return r&&r===n.geoModel}],T={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var e=this.coordSys,n=e.getBoundingRect().clone();return n.applyTransform(c.getTransform(e)),n}},I={lineX:x(t,0),lineY:x(t,1),rect:function(e,r,t){var o=r[h[e]]([t[0][0],t[1][0]]),i=r[h[e]]([t[0][1],t[1][1]]),a=[n([o[0],i[0]]),n([o[1],i[1]])];return{values:a,xyMinMax:a}},polygon:function(e,n,r){var t=[[1/0,-1/0],[1/0,-1/0]];return{values:d.map(r,function(r){var o=n[h[e]](r);return t[0][0]=Math.min(t[0][0],o[0]),t[1][0]=Math.min(t[1][0],o[1]),t[0][1]=Math.max(t[0][1],o[0]),t[1][1]=Math.max(t[1][1],o[1]),o}),xyMinMax:t}}},R={lineX:x(o,0),lineY:x(o,1),rect:function(e,n,r){return[[e[0][0]-r[0]*n[0][0],e[0][1]-r[0]*n[0][1]],[e[1][0]-r[1]*n[1][0],e[1][1]-r[1]*n[1][1]]]},polygon:function(e,n,r){return d.map(e,function(e,t){return[e[0]-r[0]*n[t][0],e[1]-r[1]*n[t][1]]})}},S=e;module.exports=S;
},{"../../config":116,"zrender/lib/core/util":113,"../../util/graphic":59,"../../util/model":125,"./brushHelper":436}],154:[function(require,module,exports) {
function e(e,n,t,u,a){if(a){var i=e.getZr();if(!i[g]){i[v]||(i[v]=r);l.createOrUpdate(i,v,t,n)(e,u)}}}function r(e,r){if(!e.isDisposed()){var n=e.getZr();n[g]=!0,e.dispatchAction({type:"brushSelect",batch:r}),n[g]=!1}}function n(e,r,n,t){for(var u=0,a=r.length;u<a;u++){var i=r[u];if(e[i.brushType](t,n,i.selectors,i))return!0}}function t(e){var r=e.brushSelector;if(s.isString(r)){var n=[];return s.each(f,function(e,t){n[t]=function(n,t,u,a){var i=t.getItemLayout(n);return e[r](i,u,a)}}),n}if(s.isFunction(r)){var t={};return s.each(f,function(e,n){t[n]=r}),t}return r}function u(e,r){var n=e.option.seriesIndex;return null!=n&&"all"!==n&&(s.isArray(n)?s.indexOf(n,r)<0:r!==n)}function a(e){var r=e.selectors={};return s.each(f[e.brushType],function(n,t){r[t]=function(t){return n(t,r,e)}}),e}function i(e){return new c(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}var o=require("../../echarts"),s=require("zrender/lib/core/util"),c=require("zrender/lib/core/BoundingRect"),h=require("../../visual/visualSolution"),f=require("./selector"),l=require("../../util/throttle"),p=require("../helper/BrushTargetManager"),d=["inBrush","outOfBrush"],v="__ecBrushSelect",g="__ecInBrushSelectEvent",b=o.PRIORITY.VISUAL.BRUSH;o.registerLayout(b,function(e,r,n){e.eachComponent({mainType:"brush"},function(r){n&&"takeGlobalCursor"===n.type&&r.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1});(r.brushTargetManager=new p(r.option,e)).setInputRanges(r.areas,e)})}),o.registerVisual(b,function(r,i,o){var c,f,l=[];r.eachComponent({mainType:"brush"},function(e,i){function o(e){return"all"===b||I[e]}function p(e){return!!e.length}var v={brushId:e.id,brushIndex:i,brushName:e.name,areas:s.clone(e.areas),selected:[]};l.push(v);var g=e.option,b=g.brushLink,I=[],B=[],S=[],T=0;i||(c=g.throttleType,f=g.throttleDelay);var m=s.map(e.areas,function(e){return a(s.defaults({boundingRect:y[e.brushType](e)},e))}),x=h.createVisualMappings(e.option,d,function(e){e.mappingMethod="fixed"});s.isArray(b)&&s.each(b,function(e){I[e]=1}),r.eachSeries(function(a,i){var c=S[i]=[];"parallel"===a.subType?function(e,r){var n=e.coordinateSystem;T|=n.hasAxisBrushed(),o(r)&&n.eachActiveState(e.getData(),function(e,r){"active"===e&&(B[r]=1)})}(a,i):function(a,i,c){var h=t(a);if(h&&!u(e,i)&&(s.each(m,function(n){h[n.brushType]&&e.brushTargetManager.controlSeries(n,a,r)&&c.push(n),T|=p(c)}),o(i)&&p(c))){var f=a.getData();f.each(function(e){n(h,c,f,e)&&(B[e]=1)})}}(a,i,c)}),r.eachSeries(function(e,r){var u={seriesId:e.id,seriesIndex:r,seriesName:e.name,dataIndex:[]};v.selected.push(u);var a=t(e),i=S[r],s=e.getData(),c=o(r)?function(e){return B[e]?(u.dataIndex.push(s.getRawIndex(e)),"inBrush"):"outOfBrush"}:function(e){return n(a,i,s,e)?(u.dataIndex.push(s.getRawIndex(e)),"inBrush"):"outOfBrush"};(o(r)?T:p(i))&&h.applyVisual(d,x,s,c)})}),e(i,c,f,l,o)});var y={lineX:s.noop,lineY:s.noop,rect:function(e){return i(e.range)},polygon:function(e){for(var r,n=e.range,t=0,u=n.length;t<u;t++){r=r||[[1/0,-1/0],[1/0,-1/0]];var a=n[t];a[0]<r[0][0]&&(r[0][0]=a[0]),a[0]>r[0][1]&&(r[0][1]=a[0]),a[1]<r[1][0]&&(r[1][0]=a[1]),a[1]>r[1][1]&&(r[1][1]=a[1])}return r&&i(r)}};
},{"../../echarts":14,"zrender/lib/core/util":113,"../../visual/visualSolution":334,"../../util/throttle":62,"./selector":354,"../helper/BrushTargetManager":355,"zrender/lib/core/BoundingRect":256}],155:[function(require,module,exports) {
function e(e,r){return s.merge({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new n(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},r,!0)}var r=require("../../config"),o=r.__DEV__,t=require("../../echarts"),s=require("zrender/lib/core/util"),i=require("../../visual/visualSolution"),n=require("../../model/Model"),u=["#ddd"],l=t.extendComponentModel({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(e,r){var o=this.option;!r&&i.replaceVisualOption(o,e,["inBrush","outOfBrush"]),o.inBrush=o.inBrush||{},o.outOfBrush=o.outOfBrush||{color:u}},setAreas:function(r){r&&(this.areas=s.map(r,function(r){return e(this.option,r)},this))},setBrushOption:function(r){this.brushOption=e(this.option,r),this.brushType=this.brushOption.brushType}}),h=l;module.exports=h;
},{"zrender/lib/core/util":113,"../../config":116,"../../echarts":14,"../../visual/visualSolution":334,"../../model/Model":64}],156:[function(require,module,exports) {
function e(e,r,t,s){(!s||s.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(t)).enableBrush(e.brushOption).updateCovers(e.areas.slice())}var r=require("../../echarts"),t=require("zrender/lib/core/util"),s=require("../helper/BrushController"),i=r.extendComponentView({type:"brush",init:function(e,r){this.ecModel=e,this.api=r,this.model,(this._brushController=new s(r.getZr())).on("brush",t.bind(this._onBrush,this)).mount()},render:function(r){return this.model=r,e.apply(this,arguments)},updateView:e,updateLayout:e,updateVisual:e,dispose:function(){this._brushController.dispose()},_onBrush:function(e,r){var s=this.model.id;this.model.brushTargetManager.setOutputRanges(e,this.ecModel),(!r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:s,areas:t.clone(e),$from:s})}});module.exports=i;
},{"../../echarts":14,"zrender/lib/core/util":113,"../helper/BrushController":335}],157:[function(require,module,exports) {
var e=require("../../echarts");e.registerAction({type:"brush",event:"brush",update:"updateView"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(t){t.setAreas(e.areas)})}),e.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){});
},{"../../echarts":14}],358:[function(require,module,exports) {
var e={toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}}};module.exports=e;
},{}],359:[function(require,module,exports) {
function r(r,t){e[r]=t}function t(r){return e[r]}var e={};exports.register=r,exports.get=t;
},{}],158:[function(require,module,exports) {
function e(e,M,t){this.model=e,this.ecModel=M,this.api=t,this._brushType,this._brushMode}var M=require("zrender/lib/core/util"),t=require("../featureManager"),h=require("../../../lang"),l=h.toolbox.brush;e.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:M.clone(l.title)};var r=e.prototype;r.render=r.updateView=r.updateLayout=function(e,t,h){var l,r,i;t.eachComponent({mainType:"brush"},function(e){l=e.brushType,r=e.brushOption.brushMode||"single",i|=e.areas.length}),this._brushType=l,this._brushMode=r,M.each(e.get("type",!0),function(M){e.setIconStatus(M,("keep"===M?"multiple"===r:"clear"===M?i:M===l)?"emphasis":"normal")})},r.getIcons=function(){var e=this.model,t=e.get("icon",!0),h={};return M.each(e.get("type",!0),function(e){t[e]&&(h[e]=t[e])}),h},r.onclick=function(e,M,t){var h=this._brushType,l=this._brushMode;"clear"===t?(M.dispatchAction({type:"axisAreaSelect",intervals:[]}),M.dispatchAction({type:"brush",command:"clear",areas:[]})):M.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===t?h:h!==t&&t,brushMode:"keep"===t?"multiple"===l?"single":"multiple":l}})},t.register("brush",e);var i=e;module.exports=i;
},{"../../../lang":358,"../featureManager":359,"zrender/lib/core/util":113}],46:[function(require,module,exports) {
var r=require("../echarts"),e=require("./brush/preprocessor");require("./brush/visualEncoding"),require("./brush/BrushModel"),require("./brush/BrushView"),require("./brush/brushAction"),require("./toolbox/feature/Brush"),r.registerPreprocessor(e);
},{"../echarts":14,"./brush/preprocessor":153,"./brush/visualEncoding":154,"./brush/BrushModel":155,"./brush/BrushView":156,"./brush/brushAction":157,"./toolbox/feature/Brush":158}],159:[function(require,module,exports) {
function t(t,e,i){this._model=t}function e(t,e,i,n){var r=i.calendarModel,a=i.seriesModel,s=r?r.coordinateSystem:a?a.coordinateSystem:null;return s===this?s[t](n):null}var i=require("zrender/lib/core/util"),n=require("../../util/layout"),r=require("../../util/number"),a=require("../../CoordinateSystem"),s=864e5;t.prototype={constructor:t,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"}]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(t){var e=(t=r.parseDate(t)).getFullYear(),i=t.getMonth()+1;i=i<10?"0"+i:i;var n=t.getDate();n=n<10?"0"+n:n;var a=t.getDay();return a=Math.abs((a+7-this.getFirstDayOfWeek())%7),{y:e,m:i,d:n,day:a,time:t.getTime(),formatedDate:e+"-"+i+"-"+n,date:t}},getNextNDay:function(t,e){return 0===(e=e||0)?this.getDateInfo(t):((t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t))},update:function(t,e){function r(t,e){return null!=t[e]&&"auto"!==t[e]}this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle.normal").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var a=this._rangeInfo.weeks||1,s=["width","height"],o=this._model.get("cellSize").slice(),h=this._model.getBoxLayoutParams(),g="horizontal"===this._orient?[a,7]:[7,a];i.each([0,1],function(t){r(o,t)&&(h[s[t]]=o[t]*g[t])});var d={width:e.getWidth(),height:e.getHeight()},f=this._rect=n.getLayoutRect(h,d);i.each([0,1],function(t){r(o,t)||(o[t]=f[s[t]]/g[t])}),this._sw=o[0],this._sh=o[1]},dataToPoint:function(t,e){i.isArray(t)&&(t=t[0]),null==e&&(e=!0);var n=this.getDateInfo(t),r=this._rangeInfo,a=n.formatedDate;if(e&&!(n.time>=r.start.time&&n.time<=r.end.time))return[NaN,NaN];var s=n.day,o=this._getRangeInfo([r.start.time,a]).nthWeek;return"vertical"===this._orient?[this._rect.x+s*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]:[this._rect.x+o*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]},pointToData:function(t){var e=this.pointToDate(t);return e&&e.time},dataToRect:function(t,e){var i=this.dataToPoint(t,e);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}},pointToDate:function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,i=Math.floor((t[1]-this._rect.y)/this._sh)+1,n=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(i,e-1,n):this._getDateByWeeksAndDay(e,i-1,n)},convertToPixel:i.curry(e,"dataToPoint"),convertFromPixel:i.curry(e,"pointToData"),_initRangeOption:function(){var t=this._model.get("range"),e=t;if(i.isArray(e)&&1===e.length&&(e=e[0]),/^\d{4}$/.test(e)&&(t=[e+"-01-01",e+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(e)){var n=this.getDateInfo(e),r=n.date;r.setMonth(r.getMonth()+1);var a=this.getNextNDay(r,-1);t=[n.formatedDate,a.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(e)&&(t=[e,e]);var s=this._getRangeInfo(t);return s.start.time>s.end.time&&t.reverse(),t},_getRangeInfo:function(t){var e;(t=[this.getDateInfo(t[0]),this.getDateInfo(t[1])])[0].time>t[1].time&&(e=!0,t.reverse());var i=Math.floor(t[1].time/s)-Math.floor(t[0].time/s)+1,n=new Date(t[0].time),r=n.getDate(),a=t[1].date.getDate();if(n.setDate(r+i-1),n.getDate()!==a)for(var o=n.getTime()-t[1].time>0?1:-1;n.getDate()!==a&&(n.getTime()-t[1].time)*o>0;)i-=o,n.setDate(r+i-1);var h=Math.floor((i+t[0].day+6)/7),g=e?1-h:h-1;return e&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:i,weeks:h,nthWeek:g,fweek:t[0].day,lweek:t[1].day}},_getDateByWeeksAndDay:function(t,e,i){var n=this._getRangeInfo(i);if(t>n.weeks||0===t&&e<n.fweek||t===n.weeks&&e>n.lweek)return!1;var r=7*(t-1)-n.fweek+e,a=new Date(n.start.time);return a.setDate(n.start.d+r),this.getDateInfo(a)}},t.dimensions=t.prototype.dimensions,t.getDimensionsInfo=t.prototype.getDimensionsInfo,t.create=function(e,i){var n=[];return e.eachComponent("calendar",function(r){var a=new t(r,e,i);n.push(a),r.coordinateSystem=a}),e.eachSeries(function(t){"calendar"===t.get("coordinateSystem")&&(t.coordinateSystem=n[t.get("calendarIndex")||0])}),n},a.register("calendar",t);var o=t;module.exports=o;
},{"zrender/lib/core/util":113,"../../CoordinateSystem":197,"../../util/layout":126,"../../util/number":60}],160:[function(require,module,exports) {
function e(e,t){var r=e.cellSize;o.isArray(r)?1===r.length&&(r[1]=r[0]):r=e.cellSize=[r,r];var i=o.map([0,1],function(e){return l(t,e)&&(r[e]="auto"),null!=r[e]&&"auto"!==r[e]});n(e,t,{type:"box",ignoreSize:i})}var o=require("zrender/lib/core/util"),t=require("../../model/Component"),r=require("../../util/layout"),i=r.getLayoutParams,l=r.sizeCalculable,n=r.mergeLayoutParam,a=t.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{normal:{color:"#fff",borderWidth:1,borderColor:"#ccc"}},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(o,t,r,l){var n=i(o);a.superApply(this,"init",arguments),e(o,n)},mergeOption:function(o,t){a.superApply(this,"mergeOption",arguments),e(this.option,o)}}),s=a;module.exports=s;
},{"zrender/lib/core/util":113,"../../util/layout":126,"../../model/Component":201}],161:[function(require,module,exports) {
var t=require("../../echarts"),e=require("zrender/lib/core/util"),i=require("../../util/graphic"),r=require("../../util/format"),n=require("../../util/number"),o={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["","","","","","","","","","","",""]},a={EN:["S","M","T","W","T","F","S"],CN:["","","","","","",""]},s=t.extendComponentView({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(t,e,i){var r=this.group;r.removeAll();var n=t.coordinateSystem,o=n.getRangeInfo(),a=n.getOrient();this._renderDayRect(t,o,r),this._renderLines(t,o,a,r),this._renderYearText(t,o,a,r),this._renderMonthText(t,a,r),this._renderWeekText(t,o,a,r)},_renderDayRect:function(t,e,r){for(var n=t.coordinateSystem,o=t.getModel("itemStyle.normal").getItemStyle(),a=n.getCellWidth(),s=n.getCellHeight(),l=e.start.time;l<=e.end.time;l=n.getNextNDay(l,1).time){var g=n.dataToRect([l],!1).tl,h=new i.Rect({shape:{x:g[0],y:g[1],width:a,height:s},cursor:"default",style:o});r.add(h)}},_renderLines:function(t,e,i,r){function n(e){o._firstDayOfMonth.push(a.getDateInfo(e)),o._firstDayPoints.push(a.dataToRect([e],!1).tl);var n=o._getLinePointsOfOneWeek(t,e,i);o._tlpoints.push(n[0]),o._blpoints.push(n[n.length-1]),l&&o._drawSplitline(n,s,r)}var o=this,a=t.coordinateSystem,s=t.getModel("splitLine.lineStyle").getLineStyle(),l=t.get("splitLine.show"),g=s.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var h=e.start,d=0;h.time<=e.end.time;d++){n(h.formatedDate),0===d&&(h=a.getDateInfo(e.start.y+"-"+e.start.m));var y=h.date;y.setMonth(y.getMonth()+1),h=a.getDateInfo(y)}n(a.getNextNDay(e.end.time,1).formatedDate),l&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,g,i),s,r),l&&this._drawSplitline(o._getEdgesPoints(o._blpoints,g,i),s,r)},_getEdgesPoints:function(t,e,i){var r=[t[0].slice(),t[t.length-1].slice()],n="horizontal"===i?0:1;return r[0][n]=r[0][n]-e/2,r[1][n]=r[1][n]+e/2,r},_drawSplitline:function(t,e,r){var n=new i.Polyline({z2:20,shape:{points:t},style:e});r.add(n)},_getLinePointsOfOneWeek:function(t,e,i){var r=t.coordinateSystem;e=r.getDateInfo(e);for(var n=[],o=0;o<7;o++){var a=r.getNextNDay(e.time,o),s=r.dataToRect([a.time],!1);n[2*a.day]=s.tl,n[2*a.day+1]=s["horizontal"===i?"bl":"tr"]}return n},_formatterLabel:function(t,e){return"string"==typeof t&&t?r.formatTplSimple(t,e):"function"==typeof t?t(e):e.nameMap},_yearTextPositionControl:function(t,e,i,r,n){e=e.slice();var o=["center","bottom"];"bottom"===r?(e[1]+=n,o=["center","top"]):"left"===r?e[0]-=n:"right"===r?(e[0]+=n,o=["center","top"]):e[1]-=n;var a=0;return"left"!==r&&"right"!==r||(a=Math.PI/2),{rotation:a,position:e,style:{textAlign:o[0],textVerticalAlign:o[1]}}},_renderYearText:function(t,e,r,n){var o=t.getModel("yearLabel");if(o.get("show")){var a=o.get("margin"),s=o.get("position");s||(s="horizontal"!==r?"top":"left");var l=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],g=(l[0][0]+l[1][0])/2,h=(l[0][1]+l[1][1])/2,d="horizontal"===r?0:1,y={top:[g,l[d][1]],bottom:[g,l[1-d][1]],left:[l[1-d][0],h],right:[l[d][0],h]},f=e.start.y;+e.end.y>+e.start.y&&(f=f+"-"+e.end.y);var m=o.get("formatter"),p={start:e.start.y,end:e.end.y,nameMap:f},c=this._formatterLabel(m,p),_=new i.Text({z2:30});i.setTextStyle(_.style,o,{text:c}),_.attr(this._yearTextPositionControl(_,y[s],r,s,a)),n.add(_)}},_monthTextPositionControl:function(t,e,i,r,n){var o="left",a="top",s=t[0],l=t[1];return"horizontal"===i?(l+=n,e&&(o="center"),"start"===r&&(a="bottom")):(s+=n,e&&(a="middle"),"start"===r&&(o="right")),{x:s,y:l,textAlign:o,textVerticalAlign:a}},_renderMonthText:function(t,r,n){var a=t.getModel("monthLabel");if(a.get("show")){var s=a.get("nameMap"),l=a.get("margin"),g=a.get("position"),h=a.get("align"),d=[this._tlpoints,this._blpoints];e.isString(s)&&(s=o[s.toUpperCase()]||[]);var y="start"===g?0:1,f="horizontal"===r?0:1;l="start"===g?-l:l;for(var m="center"===h,p=0;p<d[y].length-1;p++){var c=d[y][p].slice(),_=this._firstDayOfMonth[p];if(m){var u=this._firstDayPoints[p];c[f]=(u[f]+d[0][p+1][f])/2}var x=a.get("formatter"),v=s[+_.m-1],M={yyyy:_.y,yy:(_.y+"").slice(2),MM:_.m,M:+_.m,nameMap:v},T=this._formatterLabel(x,M),D=new i.Text({z2:30});e.extend(i.setTextStyle(D.style,a,{text:T}),this._monthTextPositionControl(c,m,r,g,l)),n.add(D)}}},_weekTextPositionControl:function(t,e,i,r,n){var o="center",a="middle",s=t[0],l=t[1],g="start"===i;return"horizontal"===e?(s=s+r+(g?1:-1)*n[0]/2,o=g?"right":"left"):(l=l+r+(g?1:-1)*n[1]/2,a=g?"bottom":"top"),{x:s,y:l,textAlign:o,textVerticalAlign:a}},_renderWeekText:function(t,r,o,s){var l=t.getModel("dayLabel");if(l.get("show")){var g=t.coordinateSystem,h=l.get("position"),d=l.get("nameMap"),y=l.get("margin"),f=g.getFirstDayOfWeek();e.isString(d)&&(d=a[d.toUpperCase()]||[]);var m=g.getNextNDay(r.end.time,7-r.lweek).time,p=[g.getCellWidth(),g.getCellHeight()];y=n.parsePercent(y,p["horizontal"===o?0:1]),"start"===h&&(m=g.getNextNDay(r.start.time,-(7+r.fweek)).time,y=-y);for(var c=0;c<7;c++){var _=g.getNextNDay(m,c),u=g.dataToRect([_.time],!1).center,x=c;x=Math.abs((c+f)%7);var v=new i.Text({z2:30});e.extend(i.setTextStyle(v.style,l,{text:d[x]}),this._weekTextPositionControl(u,o,h,y,p)),s.add(v)}}}});module.exports=s;
},{"../../echarts":14,"../../util/graphic":59,"../../util/format":61,"../../util/number":60,"zrender/lib/core/util":113}],47:[function(require,module,exports) {
require("../coord/calendar/Calendar"),require("../coord/calendar/CalendarModel"),require("./calendar/CalendarView");
},{"../coord/calendar/Calendar":159,"../coord/calendar/CalendarModel":160,"./calendar/CalendarView":161}],48:[function(require,module,exports) {
var t=require("../echarts"),e=require("../util/graphic"),i=require("../util/layout"),o=i.getLayoutRect;t.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),t.extendComponentView({type:"title",render:function(t,i,l){if(this.group.removeAll(),t.get("show")){var g=this.group,r=t.getModel("textStyle"),n=t.getModel("subtextStyle"),d=t.get("textAlign"),a=t.get("textBaseline"),h=new e.Text({style:e.setTextStyle({},r,{text:t.get("text"),textFill:r.getTextColor()},{disableBox:!0}),z2:10}),x=h.getBoundingRect(),s=t.get("subtext"),c=new e.Text({style:e.setTextStyle({},n,{text:s,textFill:n.getTextColor(),y:x.height+t.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),u=t.get("link"),y=t.get("sublink");h.silent=!u,c.silent=!y,u&&h.on("click",function(){window.open(u,"_"+t.get("target"))}),y&&c.on("click",function(){window.open(y,"_"+t.get("subtarget"))}),g.add(h),s&&g.add(c);var p=g.getBoundingRect(),b=t.getBoxLayoutParams();b.width=p.width,b.height=p.height;var w=o(b,{width:l.getWidth(),height:l.getHeight()},t.get("padding"));d||("middle"===(d=t.get("left")||t.get("right"))&&(d="center"),"right"===d?w.x+=w.width:"center"===d&&(w.x+=w.width/2)),a||("center"===(a=t.get("top")||t.get("bottom"))&&(a="middle"),"bottom"===a?w.y+=w.height:"middle"===a&&(w.y+=w.height/2),a=a||"top"),g.attr("position",[w.x,w.y]);var m={textAlign:d,textVerticalAlign:a};h.setStyle(m),c.setStyle(m),p=g.getBoundingRect();var S=w.margin,f=t.getItemStyle(["color","opacity"]);f.fill=t.get("backgroundColor");var v=new e.Rect({shape:{x:p.x-S[3],y:p.y-S[0],width:p.width+S[1]+S[3],height:p.height+S[0]+S[2],r:t.get("borderRadius")},style:f,silent:!0});e.subPixelOptimizeRect(v),g.add(v)}}});
},{"../echarts":14,"../util/graphic":59,"../util/layout":126}],162:[function(require,module,exports) {
var e=require("../../model/Component");e.registerSubTypeDefaulter("dataZoom",function(){return"slider"});
},{"../../model/Component":201}],336:[function(require,module,exports) {
function n(n){return i.indexOf(o,n)>=0}function e(n,e){n=n.slice();var r=i.map(n,t.capitalFirst);e=(e||[]).slice();var a=i.map(e,t.capitalFirst);return function(t,o){i.each(n,function(n,i){for(var c={name:n,capital:r[i]},u=0;u<e.length;u++)c[e[u]]=n+a[u];t.call(o,c)})}}function r(n,e,r){function t(n,t){t.nodes.push(n),e(function(e){i.each(r(n,e)||[],function(n){t.records[e.name][n]=!0})})}return function(a){function o(n){!function(n,e){return i.indexOf(e.nodes,n)>=0}(n,c)&&function(n,t){var a=!1;return e(function(e){i.each(r(n,e)||[],function(n){t.records[e.name][n]&&(a=!0)})}),a}(n,c)&&(t(n,c),u=!0)}var c={nodes:[],records:{}};if(e(function(n){c.records[n.name]={}}),!a)return c;t(a,c);var u;do{u=!1,n(o)}while(u);return c}}var i=require("zrender/lib/core/util"),t=require("../../util/format"),a=["x","y","z","radius","angle","single"],o=["cartesian2d","polar","singleAxis"],c=e(a,["axisIndex","axis","index","id"]);exports.isCoordSupported=n,exports.createNameEach=e,exports.eachAxisDim=c,exports.createLinkedNodesFinder=r;
},{"zrender/lib/core/util":113,"../../util/format":61}],337:[function(require,module,exports) {
function e(e,n,i){var a=[1/0,-1/0];return s(i,function(e){var t=e.getData();t&&s(e.coordDimToDataDim(n),function(e){var n=t.getDataExtent(e);n[0]<a[0]&&(a[0]=n[0]),n[1]>a[1]&&(a[1]=n[1])})}),a[1]<a[0]&&(a=[NaN,NaN]),t(e,a),a}function t(e,t){var n=e.getAxisModel(),i=n.getMin(!0),a="category"===n.get("type"),o=a&&(n.get("data")||[]).length;null!=i&&"dataMin"!==i&&"function"!=typeof i?t[0]=i:a&&(t[0]=o>0?0:NaN);var r=n.getMax(!0);return null!=r&&"dataMax"!==r&&"function"!=typeof r?t[1]=r:a&&(t[1]=o>0?o-1:NaN),n.get("scale",!0)||(t[0]>0&&(t[0]=0),t[1]<0&&(t[1]=0)),t}function n(e,t){var n=e.getAxisModel(),i=e._percentWindow,a=e._valueWindow;if(i){var r=o.getPixelPrecision(a,[0,500]);r=Math.min(r,20);var s=t||0===i[0]&&100===i[1];n.setRange(s?null:+a[0].toFixed(r),s?null:+a[1].toFixed(r))}}function i(e){var t=e._minMaxSpan={},n=e._dataZoomModel;s(["min","max"],function(i){t[i+"Span"]=n.get(i+"Span");var a=n.get(i+"ValueSpan");if(null!=a&&(t[i+"ValueSpan"]=a,null!=(a=e.getAxisModel().axis.scale.parse(a)))){var r=e._dataExtent;t[i+"Span"]=o.linearMap(r[0]+a,r,[0,100],!0)}})}var a=require("zrender/lib/core/util"),o=require("../../util/number"),r=require("./helper"),s=a.each,d=o.asc,l=function(e,t,n,i){this._dimName=e,this._axisIndex=t,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=i,this._dataZoomModel=n};l.prototype={constructor:l,hostedBy:function(e){return this._dataZoomModel===e},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var e=[],t=this.ecModel;return t.eachSeries(function(n){if(r.isCoordSupported(n.get("coordinateSystem"))){var i=this._dimName,a=t.queryComponents({mainType:i+"Axis",index:n.get(i+"AxisIndex"),id:n.get(i+"AxisId")})[0];this._axisIndex===(a&&a.componentIndex)&&e.push(n)}},this),e},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var e,t,n=this._dimName,i=this.ecModel,a=this.getAxisModel();"x"===n||"y"===n?(t="gridIndex",e="x"===n?"y":"x"):(t="polarIndex",e="angle"===n?"radius":"angle");var o;return i.eachComponent(e+"Axis",function(e){(e.get(t)||0)===(a.get(t)||0)&&(o=e)}),o},getMinMaxSpan:function(){return a.clone(this._minMaxSpan)},calculateDataWindow:function(e){var t=this._dataExtent,n=this.getAxisModel().axis.scale,i=this._dataZoomModel.getRangePropMode(),a=[0,100],r=[e.start,e.end],l=[];return s(["startValue","endValue"],function(t){l.push(null!=e[t]?n.parse(e[t]):null)}),s([0,1],function(e){var s=l[e],d=r[e];"percent"===i[e]?(null==d&&(d=a[e]),s=n.parse(o.linearMap(d,a,t,!0))):d=o.linearMap(s,t,a,!0),l[e]=s,r[e]=d}),{valueWindow:d(l),percentWindow:d(r)}},reset:function(t){if(t===this._dataZoomModel){this._dataExtent=e(this,this._dimName,this.getTargetSeriesModels());var a=this.calculateDataWindow(t.option);this._valueWindow=a.valueWindow,this._percentWindow=a.percentWindow,i(this),n(this)}},restore:function(e){e===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,n(this,!0))},filterData:function(e){function t(e){return e>=o[0]&&e<=o[1]}if(e===this._dataZoomModel){var n=this._dimName,i=this.getTargetSeriesModels(),a=e.get("filterMode"),o=this._valueWindow;if("none"!==a){var r=this.getOtherAxisModel();e.get("$fromToolbox")&&r&&"category"===r.get("type")&&(a="empty"),s(i,function(e){var i=e.getData(),r=e.coordDimToDataDim(n);"weakFilter"===a?i&&i.filterSelf(function(e){for(var t,n,a,s=0;s<r.length;s++){var d=i.get(r[s],e),l=!isNaN(d),u=d<o[0],c=d>o[1];if(l&&!u&&!c)return!0;l&&(a=!0),u&&(t=!0),c&&(n=!0)}return a&&t&&n}):i&&s(r,function(n){"empty"===a?e.setData(i.map(n,function(e){return t(e)?e:NaN})):i.filterSelf(n,t)})})}}}};var u=l;module.exports=u;
},{"zrender/lib/core/util":113,"../../util/number":60,"./helper":336}],163:[function(require,module,exports) {
function e(e){var t={};return h(["start","end","startValue","endValue","throttle"],function(i){e.hasOwnProperty(i)&&(t[i]=e[i])}),t}function t(e,t){var i=e._rangePropMode,n=e.get("rangeMode");h([["start","startValue"],["end","endValue"]],function(e,r){var s=null!=t[e[0]],o=null!=t[e[1]];s&&!o?i[r]="percent":!s&&o?i[r]="value":n?i[r]=n[r]:s&&(i[r]="percent")})}var i=require("../../config"),n=i.__DEV__,r=require("../../echarts"),s=require("zrender/lib/core/util"),o=require("zrender/lib/core/env"),a=require("../../util/model"),l=require("./helper"),u=require("./AxisProxy"),h=s.each,x=l.eachAxisDim,d=r.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(t,i,n){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var r=e(t);this.mergeDefaultAndTheme(t,n),this.doInit(r)},mergeOption:function(t){var i=e(t);s.merge(this.option,t,!0),this.doInit(i)},doInit:function(e){var i=this.option;o.canvasSupported||(i.realtime=!1),this._setDefaultThrottle(e),t(this,e),h([["start","startValue"],["end","endValue"]],function(e,t){"value"===this._rangePropMode[t]&&(i[e[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var e=this._axisProxies;this.eachTargetAxis(function(t,i,n,r){var s=this.dependentModels[t.axis][i],o=s.__dzAxisProxy||(s.__dzAxisProxy=new u(t.name,i,this,r));e[t.name+"_"+i]=o},this)},_resetTarget:function(){var e=this.option,t=this._judgeAutoMode();x(function(t){var i=t.axisIndex;e[i]=a.normalizeToArray(e[i])},this),"axisIndex"===t?this._autoSetAxisIndex():"orient"===t&&this._autoSetOrient()},_judgeAutoMode:function(){var e=this.option,t=!1;x(function(i){null!=e[i.axisIndex]&&(t=!0)},this);var i=e.orient;return null==i&&t?"orient":t?void 0:(null==i&&(e.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var e=!0,t=this.get("orient",!0),i=this.option,n=this.dependentModels;if(e){var r="vertical"===t?"y":"x";n[r+"Axis"].length?(i[r+"AxisIndex"]=[0],e=!1):h(n.singleAxis,function(n){e&&n.get("orient",!0)===t&&(i.singleAxisIndex=[n.componentIndex],e=!1)})}e&&x(function(t){if(e){var n=[],r=this.dependentModels[t.axis];if(r.length&&!n.length)for(var s=0,o=r.length;s<o;s++)"category"===r[s].get("type")&&n.push(s);i[t.axisIndex]=n,n.length&&(e=!1)}},this),e&&this.ecModel.eachSeries(function(e){this._isSeriesHasAllAxesTypeOf(e,"value")&&x(function(t){var n=i[t.axisIndex],r=e.get(t.axisIndex),o=e.get(t.axisId);r=e.ecModel.queryComponents({mainType:t.axis,index:r,id:o})[0].componentIndex,s.indexOf(n,r)<0&&n.push(r)})},this)},_autoSetOrient:function(){var e;this.eachTargetAxis(function(t){!e&&(e=t.name)},this),this.option.orient="y"===e?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(e,t){var i=!0;return x(function(n){var r=e.get(n.axisIndex),s=this.dependentModels[n.axis][r];s&&s.get("type")===t||(i=!1)},this),i},_setDefaultThrottle:function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&t.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var e;return x(function(t){if(null==e){var i=this.get(t.axisIndex);i.length&&(e=this.dependentModels[t.axis][i[0]])}},this),e},eachTargetAxis:function(e,t){var i=this.ecModel;x(function(n){h(this.get(n.axisIndex),function(r){e.call(t,n,r,this,i)},this)},this)},getAxisProxy:function(e,t){return this._axisProxies[e+"_"+t]},getAxisModel:function(e,t){var i=this.getAxisProxy(e,t);return i&&i.getAxisModel()},setRawRange:function(e,i){var n=this.option;h([["start","startValue"],["end","endValue"]],function(t){null==e[t[0]]&&null==e[t[1]]||(n[t[0]]=e[t[0]],n[t[1]]=e[t[1]])},this),!i&&t(this,e)},getPercentRange:function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},getValueRange:function(e,t){if(null!=e||null!=t)return this.getAxisProxy(e,t).getDataValueWindow();var i=this.findRepresentativeAxisProxy();return i?i.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(e){if(e)return e.__dzAxisProxy;var t=this._axisProxies;for(var i in t)if(t.hasOwnProperty(i)&&t[i].hostedBy(this))return t[i];for(var i in t)if(t.hasOwnProperty(i)&&!t[i].hostedBy(this))return t[i]},getRangePropMode:function(){return this._rangePropMode.slice()}}),c=d;module.exports=c;
},{"../../config":116,"../../echarts":14,"../../util/model":125,"./helper":336,"./AxisProxy":337,"zrender/lib/core/util":113,"zrender/lib/core/env":115}],164:[function(require,module,exports) {
var e=require("../../view/Component"),o=e.extend({type:"dataZoom",render:function(e,o,t,n){this.dataZoomModel=e,this.ecModel=o,this.api=t},getTargetCoordInfo:function(){var e=this.dataZoomModel,o=this.ecModel,t={};return e.eachTargetAxis(function(e,n){var a=o.getComponent(e.axis,n);if(a){var i=a.getCoordSysModel();i&&function(e,o,t,n){for(var a,i=0;i<t.length;i++)if(t[i].model===e){a=t[i];break}a||t.push(a={model:e,axisModels:[],coordIndex:n}),a.axisModels.push(o)}(i,a,t[i.mainType]||(t[i.mainType]=[]),i.componentIndex)}},this),t}});module.exports=o;
},{"../../view/Component":203}],165:[function(require,module,exports) {
var o=require("./DataZoomModel"),l=o.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),e=l;module.exports=e;
},{"./DataZoomModel":163}],166:[function(require,module,exports) {
function t(t){return{x:"y",y:"x",radius:"angle",angle:"radius"}[t]}function e(t){return"vertical"===t?"ns-resize":"ew-resize"}var i=require("zrender/lib/core/util"),a=require("zrender/lib/core/event"),o=require("../../util/graphic"),s=require("../../util/throttle"),n=require("./DataZoomView"),r=require("../../util/number"),h=require("../../util/layout"),l=require("../helper/sliderMove"),d=o.Rect,g=r.linearMap,u=r.asc,c=i.bind,p=i.each,_=7,f=1,m=30,v="horizontal",y="vertical",w=5,x=["line","bar","candlestick","scatter"],b=n.extend({type:"dataZoom.slider",init:function(t,e){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=e},render:function(t,e,i,a){b.superApply(this,"render",arguments),s.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=t.get("orient"),!1!==this.dataZoomModel.get("show")?(a&&"dataZoom"===a.type&&a.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){b.superApply(this,"remove",arguments),s.clear(this,"_dispatchZoomAction")},dispose:function(){b.superApply(this,"dispose",arguments),s.clear(this,"_dispatchZoomAction")},_buildView:function(){var t=this.group;t.removeAll(),this._resetLocation(),this._resetInterval();var e=this._displayables.barGroup=new o.Group;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},_resetLocation:function(){var t=this.dataZoomModel,e=this.api,a=this._findCoordRect(),o={width:e.getWidth(),height:e.getHeight()},s=this._orient===v?{right:o.width-a.x-a.width,top:o.height-m-_,width:a.width,height:m}:{right:_,top:a.y,width:m,height:a.height},n=h.getLayoutParams(t.option);i.each(["right","top","width","height"],function(t){"ph"===n[t]&&(n[t]=s[t])});var r=h.getLayoutRect(n,o,t.padding);this._location={x:r.x,y:r.y},this._size=[r.width,r.height],this._orient===y&&this._size.reverse()},_positionGroup:function(){var t=this.group,e=this._location,i=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),o=a&&a.get("inverse"),s=this._displayables.barGroup,n=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(i!==v||o?i===v&&o?{scale:n?[-1,1]:[-1,-1]}:i!==y||o?{scale:n?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:n?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:n?[1,1]:[1,-1]});var r=t.getBoundingRect([s]);t.attr("position",[e.x-r.x,e.y-r.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var t=this.dataZoomModel,e=this._size,a=this._displayables.barGroup;a.add(new d({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40})),a.add(new d({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:i.bind(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(t){var e=this._size,a=t.series,s=a.getRawData(),n=a.getShadowDim?a.getShadowDim():t.otherDim;if(null!=n){var r=s.getDataExtent(n),h=.3*(r[1]-r[0]);r=[r[0]-h,r[1]+h];var l,d=[0,e[1]],u=[0,e[0]],c=[[e[0],0],[0,0]],p=[],_=u[1]/(s.count()-1),f=0,m=Math.round(s.count()/e[0]);s.each([n],function(t,e){if(m>0&&e%m)f+=_;else{var i=null==t||isNaN(t)||""===t,a=i?0:g(t,r,d,!0);i&&!l&&e?(c.push([c[c.length-1][0],0]),p.push([p[p.length-1][0],0])):!i&&l&&(c.push([f,0]),p.push([f,0])),c.push([f,a]),p.push([f,a]),f+=_,l=i}});var v=this.dataZoomModel;this._displayables.barGroup.add(new o.Polygon({shape:{points:c},style:i.defaults({fill:v.get("dataBackgroundColor")},v.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new o.Polyline({shape:{points:p},style:v.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var e=this.dataZoomModel,a=e.get("showDataShadow");if(!1!==a){var o,s=this.ecModel;return e.eachTargetAxis(function(n,r){var h=e.getAxisProxy(n.name,r).getTargetSeriesModels();i.each(h,function(e){if(!(o||!0!==a&&i.indexOf(x,e.get("type"))<0)){var h,l=s.getComponent(n.axis,r).axis,d=t(n.name),g=e.coordinateSystem;null!=d&&g.getOtherAxis&&(h=g.getOtherAxis(l).inverse),o={thisAxis:l,series:e,thisDim:n.name,otherDim:d,otherAxisInverse:h}}},this)},this),o}},_renderHandle:function(){var t=this._displayables,i=t.handles=[],s=t.handleLabels=[],n=this._displayables.barGroup,h=this._size,l=this.dataZoomModel;n.add(t.filler=new d({draggable:!0,cursor:e(this._orient),drift:c(this._onDragMove,this,"all"),onmousemove:function(t){a.stop(t.event)},ondragstart:c(this._showDataInfo,this,!0),ondragend:c(this._onDragEnd,this),onmouseover:c(this._showDataInfo,this,!0),onmouseout:c(this._showDataInfo,this,!1),style:{fill:l.get("fillerColor"),textPosition:"inside"}})),n.add(new d(o.subPixelOptimizeRect({silent:!0,shape:{x:0,y:0,width:h[0],height:h[1]},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:f,fill:"rgba(0,0,0,0)"}}))),p([0,1],function(t){var h=o.createIcon(l.get("handleIcon"),{cursor:e(this._orient),draggable:!0,drift:c(this._onDragMove,this,t),onmousemove:function(t){a.stop(t.event)},ondragend:c(this._onDragEnd,this),onmouseover:c(this._showDataInfo,this,!0),onmouseout:c(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),d=h.getBoundingRect();this._handleHeight=r.parsePercent(l.get("handleSize"),this._size[1]),this._handleWidth=d.width/d.height*this._handleHeight,h.setStyle(l.getModel("handleStyle").getItemStyle());var g=l.get("handleColor");null!=g&&(h.style.fill=g),n.add(i[t]=h);var u=l.textStyleModel;this.group.add(s[t]=new o.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:u.getTextColor(),textFont:u.getFont()},z2:10}))},this)},_resetInterval:function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[g(t[0],[0,100],e,!0),g(t[1],[0,100],e,!0)]},_updateInterval:function(t,e){var i=this.dataZoomModel,a=this._handleEnds,o=this._getViewExtent(),s=i.findRepresentativeAxisProxy().getMinMaxSpan(),n=[0,100];l(e,a,o,i.get("zoomLock")?"all":t,null!=s.minSpan?g(s.minSpan,n,o,!0):null,null!=s.maxSpan?g(s.maxSpan,n,o,!0):null),this._range=u([g(a[0],o,n,!0),g(a[1],o,n,!0)])},_updateView:function(t){var e=this._displayables,i=this._handleEnds,a=u(i.slice()),o=this._size;p([0,1],function(t){var a=e.handles[t],s=this._handleHeight;a.attr({scale:[s/2,s/2],position:[i[t],o[1]/2-s/2]})},this),e.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:o[1]}),this._updateDataInfo(t)},_updateDataInfo:function(t){function e(t){var e=o.getTransform(a.handles[t].parent,this.group),i=o.transformDirection(0===t?"right":"left",e),h=this._handleWidth/2+w,l=o.applyTransform([c[t]+(0===t?-h:h),this._size[1]/2],e);s[t].setStyle({x:l[0],y:l[1],textVerticalAlign:n===v?"middle":i,textAlign:n===v?i:"center",text:r[t]})}var i=this.dataZoomModel,a=this._displayables,s=a.handleLabels,n=this._orient,r=["",""];if(i.get("showDetail")){var h=i.findRepresentativeAxisProxy();if(h){var l=h.getAxisModel().axis,d=this._range,g=t?h.calculateDataWindow({start:d[0],end:d[1]}).valueWindow:h.getDataValueWindow();r=[this._formatLabel(g[0],l),this._formatLabel(g[1],l)]}}var c=u(this._handleEnds.slice());e.call(this,0),e.call(this,1)},_formatLabel:function(t,e){var a=this.dataZoomModel,o=a.get("labelFormatter"),s=a.get("labelPrecision");null!=s&&"auto"!==s||(s=e.getPixelPrecision());var n=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel(Math.round(t)):t.toFixed(Math.min(s,20));return i.isFunction(o)?o(t,n):i.isString(o)?o.replace("{value}",n):n},_showDataInfo:function(t){t=this._dragging||t;var e=this._displayables.handleLabels;e[0].attr("invisible",!t),e[1].attr("invisible",!t)},_onDragMove:function(t,e,i){this._dragging=!0;var a=this._displayables.barGroup.getLocalTransform(),s=o.applyTransform([e,i],a,!0);this._updateInterval(t,s[0]);var n=this.dataZoomModel.get("realtime");this._updateView(!n),n&&n&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),this._dispatchZoomAction()},_onClickPanelClick:function(t){var e=this._size,i=this._displayables.barGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(i[0]<0||i[0]>e[0]||i[1]<0||i[1]>e[1])){var a=this._handleEnds,o=(a[0]+a[1])/2;this._updateInterval("all",i[0]-o),this._updateView(),this._dispatchZoomAction()}},_dispatchZoomAction:function(){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:t[0],end:t[1]})},_findCoordRect:function(){var t;if(p(this.getTargetCoordInfo(),function(e){if(!t&&e.length){var i=e[0].model.coordinateSystem;t=i.getRect&&i.getRect()}}),!t){var e=this.api.getWidth(),i=this.api.getHeight();t={x:.2*e,y:.2*i,width:.6*e,height:.6*i}}return t}}),M=b;module.exports=M;
},{"zrender/lib/core/util":113,"../../util/graphic":59,"../../util/throttle":62,"../../util/number":60,"../../util/layout":126,"./DataZoomView":164,"../helper/sliderMove":342,"zrender/lib/core/event":344}],167:[function(require,module,exports) {
var e=require("./DataZoomModel"),o=e.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}});module.exports=o;
},{"./DataZoomModel":163}],343:[function(require,module,exports) {
function o(o,t){var e=r(o),n=t.dataZoomId,d=t.coordId;s.each(e,function(o,e){var r=o.dataZoomInfos;r[n]&&s.indexOf(t.allCoordIds,d)<0&&(delete r[n],o.count--)}),c(e);var i=e[d];i||((i=e[d]={coordId:d,dataZoomInfos:{},count:0}).controller=a(o,i),i.dispatchAction=s.curry(l,o)),!i.dataZoomInfos[n]&&i.count++,i.dataZoomInfos[n]=t;var u=f(i.dataZoomInfos);i.controller.enable(u.controlType,u.opt),i.controller.setPointerChecker(t.containsPoint),m.createOrUpdate(i,"dispatchAction",t.throttleRate,"fixRate")}function t(o,t){var e=r(o);s.each(e,function(o){o.controller.dispose();var e=o.dataZoomInfos;e[t]&&(delete e[t],o.count--)}),c(e)}function e(o,t){if(o&&"dataZoom"===o.type&&o.batch)for(var e=0,n=o.batch.length;e<n;e++)if(o.batch[e].dataZoomId===t)return!1;return!0}function n(o){return o.type+"\0_"+o.id}function r(o){var t=o.getZr();return t[v]||(t[v]={})}function a(o,t){var e=new p(o.getZr());return e.on("pan",h(d,t)),e.on("zoom",h(i,t)),e}function c(o){s.each(o,function(t,e){t.count||(t.controller.dispose(),delete o[e])})}function d(o,t,e,n,r,a,c){u(o,function(d){return d.panGetRange(o.controller,t,e,n,r,a,c)})}function i(o,t,e,n){u(o,function(r){return r.zoomGetRange(o.controller,t,e,n)})}function u(o,t){var e=[];s.each(o.dataZoomInfos,function(o){var n=t(o);!o.disabled&&n&&e.push({dataZoomId:o.dataZoomId,start:n[0],end:n[1]})}),o.dispatchAction(e)}function l(o,t){o.dispatchAction({type:"dataZoom",batch:t})}function f(o){var t,e={},n={true:2,move:1,false:0,undefined:-1};return s.each(o,function(o){var r=!o.disabled&&(!o.zoomLock||"move");n[r]>n[t]&&(t=r),s.extend(e,o.roamControllerOpt)}),{controlType:t,opt:e}}var s=require("zrender/lib/core/util"),p=require("../../component/helper/RoamController"),m=require("../../util/throttle"),h=s.curry,v="\0_ec_dataZoom_roams";exports.register=o,exports.unregister=t,exports.shouldRecordRange=e,exports.generateCoordId=n;
},{"zrender/lib/core/util":113,"../../util/throttle":62,"../../component/helper/RoamController":295}],168:[function(require,module,exports) {
var e=require("zrender/lib/core/util"),i=require("./DataZoomView"),t=require("../helper/sliderMove"),n=require("./roams"),o=e.bind,r=i.extend({type:"dataZoom.inside",init:function(e,i){this._range},render:function(i,t,a,s){r.superApply(this,"render",arguments),n.shouldRecordRange(s,i.id)&&(this._range=i.getPercentRange()),e.each(this.getTargetCoordInfo(),function(t,r){var s=e.map(t,function(e){return n.generateCoordId(e.model)});e.each(t,function(e){var t=e.model,l=i.option;n.register(a,{coordId:n.generateCoordId(t),allCoordIds:s,containsPoint:function(e,i,n){return t.coordinateSystem.containPoint([i,n])},dataZoomId:i.id,throttleRate:i.get("throttle",!0),panGetRange:o(this._onPan,this,e,r),zoomGetRange:o(this._onZoom,this,e,r),zoomLock:l.zoomLock,disabled:l.disabled,roamControllerOpt:{zoomOnMouseWheel:l.zoomOnMouseWheel,moveOnMouseMove:l.moveOnMouseMove,preventDefaultMouseMove:l.preventDefaultMouseMove}})},this)},this)},dispose:function(){n.unregister(this.api,this.dataZoomModel.id),r.superApply(this,"dispose",arguments),this._range=null},_onPan:function(e,i,n,o,r,s,l,d,p){var g=this._range.slice(),x=e.axisModels[0];if(x){var h=a[i]([s,l],[d,p],x,n,e),u=h.signal*(g[1]-g[0])*h.pixel/h.pixelLength;return t(u,g,[0,100],"all"),this._range=g}},_onZoom:function(e,i,n,o,r,s){var l=this._range.slice(),d=e.axisModels[0];if(d){var p=a[i](null,[r,s],d,n,e),g=(p.signal>0?p.pixelStart+p.pixelLength-p.pixel:p.pixel-p.pixelStart)/p.pixelLength*(l[1]-l[0])+l[0];o=Math.max(1/o,0),l[0]=(l[0]-g)*o+g,l[1]=(l[1]-g)*o+g;var x=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return t(0,l,[0,100],0,x.minSpan,x.maxSpan),this._range=l}}}),a={grid:function(e,i,t,n,o){var r=t.axis,a={},s=o.model.coordinateSystem.getRect();return e=e||[0,0],"x"===r.dim?(a.pixel=i[0]-e[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=r.inverse?1:-1):(a.pixel=i[1]-e[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=r.inverse?-1:1),a},polar:function(e,i,t,n,o){var r=t.axis,a={},s=o.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),d=s.getAngleAxis().getExtent();return e=e?s.pointToCoord(e):[0,0],i=s.pointToCoord(i),"radiusAxis"===t.mainType?(a.pixel=i[0]-e[0],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=r.inverse?1:-1):(a.pixel=i[1]-e[1],a.pixelLength=d[1]-d[0],a.pixelStart=d[0],a.signal=r.inverse?-1:1),a},singleAxis:function(e,i,t,n,o){var r=t.axis,a=o.model.coordinateSystem.getRect(),s={};return e=e||[0,0],"horizontal"===r.orient?(s.pixel=i[0]-e[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=r.inverse?1:-1):(s.pixel=i[1]-e[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=r.inverse?-1:1),s}},s=r;module.exports=s;
},{"zrender/lib/core/util":113,"./DataZoomView":164,"../helper/sliderMove":342,"./roams":343}],169:[function(require,module,exports) {
function e(e,t,a){a.getAxisProxy(e.name,t).reset(a)}function t(e,t,a){a.getAxisProxy(e.name,t).filterData(a)}var a=require("../../echarts");a.registerProcessor(function(a,n){a.eachComponent("dataZoom",function(a){a.eachTargetAxis(e),a.eachTargetAxis(t)}),a.eachComponent("dataZoom",function(e){var t=e.findRepresentativeAxisProxy(),a=t.getDataPercentWindow(),n=t.getDataValueWindow();e.setRawRange({start:a[0],end:a[1],startValue:n[0],endValue:n[1]},!0)})});
},{"../../echarts":14}],170:[function(require,module,exports) {
var e=require("../../echarts"),a=require("zrender/lib/core/util"),n=require("./helper");e.registerAction("dataZoom",function(e,t){var r=n.createLinkedNodesFinder(a.bind(t.eachComponent,t,"dataZoom"),n.eachAxisDim,function(e,a){return e.get(a.axisIndex)}),i=[];t.eachComponent({mainType:"dataZoom",query:e},function(e,a){i.push.apply(i,r(e).nodes)}),a.each(i,function(a,n){a.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})});
},{"../../echarts":14,"zrender/lib/core/util":113,"./helper":336}],49:[function(require,module,exports) {
require("./dataZoom/typeDefaulter"),require("./dataZoom/DataZoomModel"),require("./dataZoom/DataZoomView"),require("./dataZoom/SliderZoomModel"),require("./dataZoom/SliderZoomView"),require("./dataZoom/InsideZoomModel"),require("./dataZoom/InsideZoomView"),require("./dataZoom/dataZoomProcessor"),require("./dataZoom/dataZoomAction");
},{"./dataZoom/typeDefaulter":162,"./dataZoom/DataZoomModel":163,"./dataZoom/DataZoomView":164,"./dataZoom/SliderZoomModel":165,"./dataZoom/SliderZoomView":166,"./dataZoom/InsideZoomModel":167,"./dataZoom/InsideZoomView":168,"./dataZoom/dataZoomProcessor":169,"./dataZoom/dataZoomAction":170}],345:[function(require,module,exports) {
function e(e){var s=e&&e.visualMap;r.isArray(s)||(s=s?[s]:[]),t(s,function(e){if(e){i(e,"splitList")&&!i(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var s=e.pieces;s&&r.isArray(s)&&t(s,function(e){r.isObject(e)&&(i(e,"start")&&!i(e,"min")&&(e.min=e.start),i(e,"end")&&!i(e,"max")&&(e.max=e.end))})}})}function i(e,i){return e&&e.hasOwnProperty&&e.hasOwnProperty(i)}var r=require("zrender/lib/core/util"),t=r.each;module.exports=e;
},{"zrender/lib/core/util":113}],346:[function(require,module,exports) {
var e=require("../../model/Component");e.registerSubTypeDefaulter("visualMap",function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"});
},{"../../model/Component":201}],347:[function(require,module,exports) {
function a(a,e){a.eachTargetSeries(function(e){var t=e.getData();n.applyVisual(a.stateList,a.targetVisuals,t,a.getValueState,a,a.getDataDimension(t))})}function e(a){a.eachSeries(function(e){var i=e.getData(),n=[];a.eachComponent("visualMap",function(a){if(a.isTargetSeries(e)){var u=a.getVisualMeta(r.bind(t,null,e,a))||{stops:[],outerColors:[]};u.dimension=a.getDataDimension(i),n.push(u)}}),e.getData().setVisual("visualMeta",n)})}function t(a,e,t,i){function r(a){return l[a]}function n(a,e){l[a]=e}for(var s=e.targetVisuals[i],o=u.prepareVisualTypes(s),l={color:a.getData().getVisual("color")},c=0,p=o.length;c<p;c++){var g=o[c],f=s["opacity"===g?"__alphaForOpacity":g];f&&f.applyVisual(t,r,n)}return l.color}var i=require("../../echarts"),r=require("zrender/lib/core/util"),n=require("../../visual/visualSolution"),u=require("../../visual/VisualMapping");i.registerVisual(i.PRIORITY.VISUAL.COMPONENT,function(t){t.eachComponent("visualMap",function(e){a(e,t)}),e(t)});
},{"zrender/lib/core/util":113,"../../visual/VisualMapping":298,"../../echarts":14,"../../visual/visualSolution":334}],442:[function(require,module,exports) {
var e=require("zrender/lib/core/util"),i={get:function(i,t,a){var o=e.clone((c[i]||{})[t]);return a&&e.isArray(o)?o[o.length-1]:o}},c={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},t=i;module.exports=t;
},{"zrender/lib/core/util":113}],444:[function(require,module,exports) {
var e=require("../../echarts"),t=require("zrender/lib/core/util"),i=require("zrender/lib/core/env"),n=require("../../visual/visualDefault"),o=require("../../visual/VisualMapping"),a=require("../../visual/visualSolution"),r=require("../../util/model"),l=require("../../util/number"),s=o.mapVisual,u=o.eachVisual,c=t.isArray,h=t.each,g=l.asc,p=l.linearMap,d=t.noop,m=["#f6efa6","#d88273","#bf444c"],f=e.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(e,t,i){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(e,i)},optionUpdated:function(e,t){var n=this.option;i.canvasSupported||(n.realtime=!1),!t&&a.replaceVisualOption(n,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(e){var i=this.stateList;e=t.bind(e,this),this.controllerVisuals=a.createVisualMappings(this.option.controller,i,e),this.targetVisuals=a.createVisualMappings(this.option.target,i,e)},getTargetSeriesIndices:function(){var e=this.option.seriesIndex,t=[];return null==e||"all"===e?this.ecModel.eachSeries(function(e,i){t.push(i)}):t=r.normalizeToArray(e),t},eachTargetSeries:function(e,i){t.each(this.getTargetSeriesIndices(),function(t){e.call(i,this.ecModel.getSeriesByIndex(t))},this)},isTargetSeries:function(e){var t=!1;return this.eachTargetSeries(function(i){i===e&&(t=!0)}),t},formatValueText:function(e,i,n){function o(e){return e===u[0]?"min":e===u[1]?"max":(+e).toFixed(Math.min(s,20))}var a,r,l=this.option,s=l.precision,u=this.dataBound,c=l.formatter;return n=n||["<",">"],t.isArray(e)&&(e=e.slice(),a=!0),r=i?e:a?[o(e[0]),o(e[1])]:o(e),t.isString(c)?c.replace("{value}",a?r[0]:r).replace("{value2}",a?r[1]:r):t.isFunction(c)?a?c(e[0],e[1]):c(e):a?e[0]===u[0]?n[0]+" "+r[1]:e[1]===u[1]?n[1]+" "+r[0]:r[0]+" - "+r[1]:r},resetExtent:function(){var e=this.option,t=g([e.min,e.max]);this._dataExtent=t},getDataDimension:function(e){var t=this.option.dimension;return null!=t?t:e.dimensions.length-1},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function e(e){c(i.color)&&!e.inRange&&(e.inRange={color:i.color.slice().reverse()}),e.inRange=e.inRange||{color:m},h(this.stateList,function(i){var o=e[i];if(t.isString(o)){var a=n.get(o,"active",g);a?(e[i]={},e[i][o]=a):delete e[i]}},this)}var i=this.option,a={inRange:i.inRange,outOfRange:i.outOfRange},r=i.target||(i.target={}),l=i.controller||(i.controller={});t.merge(r,a),t.merge(l,a);var g=this.isCategory();e.call(this,r),e.call(this,l),function(e,t,i){var a=e[t],r=e[i];a&&!r&&(r=e[i]={},h(a,function(e,t){if(o.isValidType(t)){var i=n.get(t,"inactive",g);null!=i&&(r[t]=i,"color"!==t||r.hasOwnProperty("opacity")||r.hasOwnProperty("colorAlpha")||(r.opacity=[0,0]))}}))}.call(this,r,"inRange","outOfRange"),function(e){var i=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,n=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,o=this.get("inactiveColor");h(this.stateList,function(a){var r=this.itemSize,l=e[a];l||(l=e[a]={color:g?o:[o]}),null==l.symbol&&(l.symbol=i&&t.clone(i)||(g?"roundRect":["roundRect"])),null==l.symbolSize&&(l.symbolSize=n&&t.clone(n)||(g?r[0]:[r[0],r[0]])),l.symbol=s(l.symbol,function(e){return"none"===e||"square"===e?"roundRect":e});var c=l.symbolSize;if(null!=c){var h=-1/0;u(c,function(e){e>h&&(h=e)}),l.symbolSize=s(c,function(e){return p(e,[0,h],[0,r[0]],!0)})}},this)}.call(this,l)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:d,getValueState:d,getVisualMeta:d}),v=f;module.exports=v;
},{"../../echarts":14,"zrender/lib/core/util":113,"../../visual/visualDefault":442,"../../visual/VisualMapping":298,"../../visual/visualSolution":334,"../../util/model":125,"../../util/number":60,"zrender/lib/core/env":115}],348:[function(require,module,exports) {
function t(t,e,n){if(n[0]===n[1])return n.slice();for(var i=(n[1]-n[0])/200,a=n[0],r=[],o=0;o<=200&&a<n[1];o++)r.push(a),a+=i;return r.push(n[1]),r}var e=require("zrender/lib/core/util"),n=require("./VisualMapModel"),i=require("../../util/number"),a=[20,140],r=n.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(t,e){r.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){r.superApply(this,"resetItemSize",arguments);var t=this.itemSize;"horizontal"===this._orient&&t.reverse(),(null==t[0]||isNaN(t[0]))&&(t[0]=a[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=a[1])},_resetRange:function(){var t=this.getExtent(),n=this.option.range;!n||n.auto?(t.auto=1,this.option.range=t):e.isArray(n)&&(n[0]>n[1]&&n.reverse(),n[0]=Math.max(n[0],t[0]),n[1]=Math.min(n[1],t[1]))},completeVisualOption:function(){n.prototype.completeVisualOption.apply(this,arguments),e.each(this.stateList,function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=0)},this)},setSelected:function(t){this.option.range=t.slice(),this._resetRange()},getSelected:function(){var t=this.getExtent(),e=i.asc((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},getValueState:function(t){var e=this.option.range,n=this.getExtent();return(e[0]<=n[0]||e[0]<=t)&&(e[1]>=n[1]||t<=e[1])?"inRange":"outOfRange"},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries(function(n){var i=[],a=n.getData();a.each(this.getDataDimension(a),function(e,n){t[0]<=e&&e<=t[1]&&i.push(n)},!0,this),e.push({seriesId:n.id,dataIndex:i})},this),e},getVisualMeta:function(e){function n(t,n){r.push({value:t,color:e(t,n)})}for(var i=t(this,"outOfRange",this.getExtent()),a=t(this,"inRange",this.option.range.slice()),r=[],o=0,s=0,u=a.length,l=i.length;s<l&&(!a.length||i[s]<=a[0]);s++)i[s]<a[o]&&n(i[s],"outOfRange");for(var h=1;o<u;o++,h=0)h&&r.length&&n(a[o],"outOfRange"),n(a[o],"inRange");for(h=1;s<l;s++)(!a.length||a[a.length-1]<i[s])&&(h&&(r.length&&n(r[r.length-1].value,"outOfRange"),h=0),n(i[s],"outOfRange"));var g=r.length;return{stops:r,outerColors:[g?r[0].color:"transparent",g?r[g-1].color:"transparent"]}}}),o=r;module.exports=o;
},{"zrender/lib/core/util":113,"./VisualMapModel":444,"../../util/number":60}],445:[function(require,module,exports) {
var e=require("../../echarts"),t=require("zrender/lib/core/util"),i=require("../../util/graphic"),o=require("../../util/format"),r=require("../../util/layout"),a=require("../../visual/VisualMapping"),l=e.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(e,t){this.ecModel=e,this.api=t,this.visualMapModel},render:function(e,t,i,o){this.visualMapModel=e,!1!==e.get("show")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(e){var t=this.visualMapModel,r=o.normalizeCssArray(t.get("padding")||0),a=e.getBoundingRect();e.add(new i.Rect({z2:-1,silent:!0,shape:{x:a.x-r[3],y:a.y-r[0],width:a.width+r[3]+r[1],height:a.height+r[0]+r[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},getControllerVisual:function(e,i,o){function r(e){return s[e]}function l(e,t){s[e]=t}var n=(o=o||{}).forceState,u=this.visualMapModel,s={};if("symbol"===i&&(s.symbol=u.get("itemSymbol")),"color"===i){var p=u.get("contentColor");s.color=p}var h=u.controllerVisuals[n||u.getValueState(e)],d=a.prepareVisualTypes(h);return t.each(d,function(t){var n=h[t];o.convertOpacityToAlpha&&"opacity"===t&&(t="colorAlpha",n=h.__alphaForOpacity),a.dependsOn(t,i)&&n&&n.applyVisual(e,r,l)}),s[i]},positionGroup:function(e){var t=this.visualMapModel,i=this.api;r.positionElement(e,t.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},doRender:t.noop});module.exports=l;
},{"../../echarts":14,"zrender/lib/core/util":113,"../../util/graphic":59,"../../util/layout":126,"../../visual/VisualMapping":298,"../../util/format":61}],446:[function(require,module,exports) {
function t(t,e,n){var i=t.option,a=i.align;if(null!=a&&"auto"!==a)return a;for(var o={width:e.getWidth(),height:e.getHeight()},d="horizontal"===i.orient?1:0,u=[["left","right","width"],["top","bottom","height"]],l=u[d],h=[0,null,10],g={},x=0;x<3;x++)g[u[1-d][x]]=h[x],g[l[x]]=2===x?n[0]:i[l[x]];var c=[["x","width",3],["y","height",0]][d],I=r(g,o,i.padding);return l[(I.margin[c[2]]||0)+I[c[0]]+.5*I[c[1]]<.5*o[c[1]]?0:1]}function e(t){return n.each(t||[],function(e){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null)}),t}var n=require("zrender/lib/core/util"),i=require("../../util/layout"),r=i.getLayoutRect;exports.getItemAlign=t,exports.convertDataIndex=e;
},{"zrender/lib/core/util":113,"../../util/layout":126}],349:[function(require,module,exports) {
var global = (1,eval)("this");
function e(e,t,i,a){return new u.Polygon({shape:{points:e},draggable:!!i,cursor:t,drift:i,onmousemove:function(e){h.stop(e.event)},ondragend:a})}function t(e,t){return 0===e?[[0,0],[t,0],[t,-t]]:[[0,0],[t,0],[t,t]]}function i(e,t,i,a){return e?[[0,-m(t,b(i,0))],[x,0],[0,m(t,b(a-i,0))]]:[[0,0],[5,-5],[5,5]]}function a(e,t,i){var a=M/2,r=e.get("hoverLinkDataSize");return r&&(a=g(r,t,i,!0)/2),a}function r(e){var t=e.get("hoverLinkOnHandle");return!!(null==t?e.get("realtime"):t)}function n(e){return"vertical"===e?"ns-resize":"ew-resize"}var o=(0,eval)("this"),s=require("zrender/lib/core/util"),l=require("zrender/lib/graphic/LinearGradient"),h=require("zrender/lib/core/event"),d=require("./VisualMapView"),u=require("../../util/graphic"),c=require("../../util/number"),p=require("../helper/sliderMove"),v=require("./helper"),_=require("../../util/model"),g=c.linearMap,f=s.each,m=Math.min,b=Math.max,M=12,x=6,S=d.extend({type:"visualMap.continuous",init:function(){S.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(e,t,i,a){a&&"selectDataRange"===a.type&&a.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var i=e.get("text");this._renderEndsText(t,i,0),this._renderEndsText(t,i,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},_renderEndsText:function(e,t,i){if(t){var a=t[1-i];a=null!=a?a+"":"";var r=this.visualMapModel,n=r.get("textGap"),o=r.itemSize,s=this._shapes.barGroup,l=this._applyTransform([o[0]/2,0===i?-n:o[1]+n],s),h=this._applyTransform(0===i?"bottom":"top",s),d=this._orient,c=this.visualMapModel.textStyleModel;this.group.add(new u.Text({style:{x:l[0],y:l[1],textVerticalAlign:"horizontal"===d?"middle":h,textAlign:"horizontal"===d?h:"center",text:a,textFont:c.getFont(),textFill:c.getTextColor()}}))}},_renderBar:function(t){var i=this.visualMapModel,a=this._shapes,r=i.itemSize,o=this._orient,l=this._useHandle,h=v.getItemAlign(i,this.api,r),d=a.barGroup=this._createBarGroup(h);d.add(a.outOfRange=e()),d.add(a.inRange=e(null,l?n(this._orient):null,s.bind(this._dragHandle,this,"all",!1),s.bind(this._dragHandle,this,"all",!0)));var u=i.textStyleModel.getTextRect(""),c=b(u.width,u.height);l&&(a.handleThumbs=[],a.handleLabels=[],a.handleLabelPoints=[],this._createHandle(d,0,r,c,o,h),this._createHandle(d,1,r,c,o,h)),this._createIndicator(d,r,c,o),t.add(d)},_createHandle:function(i,a,r,o,l){var d=s.bind(this._dragHandle,this,a,!1),c=s.bind(this._dragHandle,this,a,!0),p=e(t(a,o),n(this._orient),d,c);p.position[0]=r[0],i.add(p);var v=this.visualMapModel.textStyleModel,_=new u.Text({draggable:!0,drift:d,onmousemove:function(e){h.stop(e.event)},ondragend:c,style:{x:0,y:0,text:"",textFont:v.getFont(),textFill:v.getTextColor()}});this.group.add(_);var g=["horizontal"===l?o/2:1.5*o,"horizontal"===l?0===a?-1.5*o:1.5*o:0===a?-o/2:o/2],f=this._shapes;f.handleThumbs[a]=p,f.handleLabelPoints[a]=g,f.handleLabels[a]=_},_createIndicator:function(t,i,a,r){var n=e([[0,0]],"move");n.position[0]=i[0],n.attr({invisible:!0,silent:!0}),t.add(n);var o=this.visualMapModel.textStyleModel,s=new u.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:o.getFont(),textFill:o.getTextColor()}});this.group.add(s);var l=["horizontal"===r?a/2:x+3,0],h=this._shapes;h.indicator=n,h.indicatorLabel=s,h.indicatorLabelPoint=l},_dragHandle:function(e,t,i,a){if(this._useHandle){if(this._dragging=!t,!t){var n=this._applyTransform([i,a],this._shapes.barGroup,!0);this._updateInterval(e,n[1]),this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():r(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},_resetInterval:function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),i=e.getExtent(),a=[0,e.itemSize[1]];this._handleEnds=[g(t[0],i,a,!0),g(t[1],i,a,!0)]},_updateInterval:function(e,t){t=t||0;var i=this.visualMapModel,a=this._handleEnds,r=[0,i.itemSize[1]];p(t,a,r,e,0);var n=i.getExtent();this._dataInterval=[g(a[0],r,n,!0),g(a[1],r,n,!0)]},_updateView:function(e){var t=this.visualMapModel,i=t.getExtent(),a=this._shapes,r=[0,t.itemSize[1]],n=e?r:this._handleEnds,o=this._createBarVisual(this._dataInterval,i,n,"inRange"),s=this._createBarVisual(i,i,r,"outOfRange");a.inRange.setStyle({fill:o.barColor,opacity:o.opacity}).setShape("points",o.barPoints),a.outOfRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape("points",s.barPoints),this._updateHandle(n,o)},_createBarVisual:function(e,t,i,a){var r={forceState:a,convertOpacityToAlpha:!0},n=this._makeColorGradient(e,r),o=[this.getControllerVisual(e[0],"symbolSize",r),this.getControllerVisual(e[1],"symbolSize",r)],s=this._createBarPoints(i,o);return{barColor:new l(0,0,0,1,n),barPoints:s,handlesColor:[n[0].color,n[n.length-1].color]}},_makeColorGradient:function(e,t){var i=[],a=(e[1]-e[0])/100;i.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var r=1;r<100;r++){var n=e[0]+a*r;if(n>e[1])break;i.push({color:this.getControllerVisual(n,"color",t),offset:r/100})}return i.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),i},_createBarPoints:function(e,t){var i=this.visualMapModel.itemSize;return[[i[0]-t[0],e[0]],[i[0],e[0]],[i[0],e[1]],[i[0]-t[1],e[1]]]},_createBarGroup:function(e){var t=this._orient,i=this.visualMapModel.get("inverse");return new u.Group("horizontal"!==t||i?"horizontal"===t&&i?{scale:"bottom"===e?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==t||i?{scale:"left"===e?[1,1]:[-1,1]}:{scale:"left"===e?[1,-1]:[-1,-1]}:{scale:"bottom"===e?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(e,t){if(this._useHandle){var i=this._shapes,a=this.visualMapModel,r=i.handleThumbs,n=i.handleLabels;f([0,1],function(o){var s=r[o];s.setStyle("fill",t.handlesColor[o]),s.position[1]=e[o];var l=u.applyTransform(i.handleLabelPoints[o],u.getTransform(s,this.group));n[o].setStyle({x:l[0],y:l[1],text:a.formatValueText(this._dataInterval[o]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===o?"bottom":"top":"left",i.barGroup)})},this)}},_showIndicator:function(e,t,a,r){var n=this.visualMapModel,o=n.getExtent(),s=n.itemSize,l=[0,s[1]],h=g(e,o,l,!0),d=this._shapes,c=d.indicator;if(c){c.position[1]=h,c.attr("invisible",!1),c.setShape("points",i(!!a,r,h,s[1]));var p=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0});c.setStyle("fill",p);var v=u.applyTransform(d.indicatorLabelPoint,u.getTransform(c,this.group)),_=d.indicatorLabel;_.attr("invisible",!1);var f=this._applyTransform("left",d.barGroup),m=this._orient;_.setStyle({text:(a||"")+n.formatValueText(t),textVerticalAlign:"horizontal"===m?f:"middle",textAlign:"horizontal"===m?"center":f,x:v[0],y:v[1]})}},_enableHoverLinkToSeries:function(){var e=this;this._shapes.barGroup.on("mousemove",function(t){if(e._hovering=!0,!e._dragging){var i=e.visualMapModel.itemSize,a=e._applyTransform([t.offsetX,t.offsetY],e._shapes.barGroup,!0,!0);a[1]=m(b(0,a[1]),i[1]),e._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=i[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(e,t){var i=this.visualMapModel,n=i.itemSize;if(i.option.hoverLink){var o=[0,n[1]],s=i.getExtent();e=m(b(o[0],e),o[1]);var l=a(i,s,o),h=[e-l,e+l],d=g(e,o,s,!0),u=[g(h[0],o,s,!0),g(h[1],o,s,!0)];h[0]<o[0]&&(u[0]=-1/0),h[1]>o[1]&&(u[1]=1/0),t&&(u[0]===-1/0?this._showIndicator(d,u[1],"< ",l):u[1]===1/0?this._showIndicator(d,u[0],"> ",l):this._showIndicator(d,d," ",l));var c=this._hoverLinkDataIndices,p=[];(t||r(i))&&(p=this._hoverLinkDataIndices=i.findTargetDataIndices(u));var f=_.compressBatches(c,p);this._dispatchHighDown("downplay",v.convertDataIndex(f[0])),this._dispatchHighDown("highlight",v.convertDataIndex(f[1]))}},_hoverLinkFromSeriesMouseOver:function(e){var t=e.target,i=this.visualMapModel;if(t&&null!=t.dataIndex){var a=this.ecModel.getSeriesByIndex(t.seriesIndex);if(i.isTargetSeries(a)){var r=a.getData(t.dataType),n=r.getDimension(i.getDataDimension(r)),o=r.get(n,t.dataIndex,!0);isNaN(o)||this._showIndicator(o,o)}}},_hideIndicator:function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",v.convertDataIndex(e)),e.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},_applyTransform:function(e,t,i,a){var r=u.getTransform(t,a?null:this.group);return u[s.isArray(e)?"applyTransform":"transformDirection"](e,r,i)},_dispatchHighDown:function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}}),y=S;module.exports=y;
},{"zrender/lib/core/util":113,"./VisualMapView":445,"../../util/graphic":59,"../../util/number":60,"./helper":446,"../../util/model":125,"../helper/sliderMove":342,"zrender/lib/graphic/LinearGradient":270,"zrender/lib/core/event":344}],350:[function(require,module,exports) {
var e=require("../../echarts"),t={type:"selectDataRange",event:"dataRangeSelected",update:"update"};e.registerAction(t,function(e,t){t.eachComponent({mainType:"visualMap",query:e},function(t){t.setSelected(e.selected)})});
},{"../../echarts":14}],171:[function(require,module,exports) {
var e=require("../echarts"),r=require("./visualMap/preprocessor");require("./visualMap/typeDefaulter"),require("./visualMap/visualEncoding"),require("./visualMap/ContinuousModel"),require("./visualMap/ContinuousView"),require("./visualMap/visualMapAction"),e.registerPreprocessor(r);
},{"../echarts":14,"./visualMap/preprocessor":345,"./visualMap/typeDefaulter":346,"./visualMap/visualEncoding":347,"./visualMap/ContinuousModel":348,"./visualMap/ContinuousView":349,"./visualMap/visualMapAction":350}],351:[function(require,module,exports) {
function e(e,t){var i=e.inverse;("vertical"===e.orient?!i:i)&&t.reverse()}var t=require("../../config"),i=t.__DEV__,n=require("zrender/lib/core/util"),s=require("./VisualMapModel"),a=require("../../visual/VisualMapping"),r=require("../../visual/visualDefault"),l=require("../../util/number"),o=l.reformIntervals,c=s.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(e,t){c.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var i=this._mode=this._determineMode();u[this._mode].call(this),this._resetSelected(e,t);var s=this.option.categories;this.resetVisual(function(e,t){"categories"===i?(e.mappingMethod="category",e.categories=n.clone(s)):(e.dataExtent=this.getExtent(),e.mappingMethod="piecewise",e.pieceList=n.map(this._pieceList,function(e){e=n.clone(e);return"inRange"!==t&&(e.visual=null),e}))})},completeVisualOption:function(){function e(e,t,i){return e&&e[t]&&(n.isObject(e[t])?e[t].hasOwnProperty(i):e[t]===i)}var t=this.option,i={},l=a.listVisualTypes(),o=this.isCategory();n.each(t.pieces,function(e){n.each(l,function(t){e.hasOwnProperty(t)&&(i[t]=1)})}),n.each(i,function(i,s){var a=0;n.each(this.stateList,function(i){a|=e(t,i,s)||e(t.target,i,s)},this),!a&&n.each(this.stateList,function(e){(t[e]||(t[e]={}))[s]=r.get(s,"inRange"===e?"active":"inactive",o)})},this),s.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(e,t){var i=this.option,s=this._pieceList,a=(t?i:e).selected||{};if(i.selected=a,n.each(s,function(e,t){var i=this.getSelectedMapKey(e);a.hasOwnProperty(i)||(a[i]=!0)},this),"single"===i.selectedMode){var r=!1;n.each(s,function(e,t){var i=this.getSelectedMapKey(e);a[i]&&(r?a[i]=!1:r=!0)},this)}},getSelectedMapKey:function(e){return"categories"===this._mode?e.value+"":e.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(e){this.option.selected=n.clone(e)},getValueState:function(e){var t=a.findPieceIndex(e,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries(function(i){var n=[],s=i.getData();s.each(this.getDataDimension(s),function(t,i){a.findPieceIndex(t,this._pieceList)===e&&n.push(i)},!0,this),t.push({seriesId:i.id,dataIndex:n})},this),t},getRepresentValue:function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var i=e.interval||[];t=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return t},getVisualMeta:function(e){function t(t,n){var r=a.getRepresentValue({interval:t});n||(n=a.getValueState(r));var l=e(r,n);t[0]===-1/0?s[0]=l:t[1]===1/0?s[1]=l:i.push({value:t[0],color:l},{value:t[1],color:l})}if(!this.isCategory()){var i=[],s=[],a=this,r=this._pieceList.slice();if(r.length){var l=r[0].interval[0];l!==-1/0&&r.unshift({interval:[-1/0,l]}),(l=r[r.length-1].interval[1])!==1/0&&r.push({interval:[l,1/0]})}else r.push({interval:[-1/0,1/0]});var o=-1/0;return n.each(r,function(e){var i=e.interval;i&&(i[0]>o&&t([o,i[0]],"outOfRange"),t(i.slice()),o=i[1])},this),{stops:i,outerColors:s}}}}),u={splitNumber:function(){var e=this.option,t=this._pieceList,i=Math.min(e.precision,20),s=this.getExtent(),a=e.splitNumber;a=Math.max(parseInt(a,10),1),e.splitNumber=a;for(var r=(s[1]-s[0])/a;+r.toFixed(i)!==r&&i<5;)i++;e.precision=i,r=+r.toFixed(i);var l=0;e.minOpen&&t.push({index:l++,interval:[-1/0,s[0]],close:[0,0]});for(var c=s[0],u=l+a;l<u;c+=r){var h=l===a-1?s[1]:c+r;t.push({index:l++,interval:[c,h],close:[1,1]})}e.maxOpen&&t.push({index:l++,interval:[s[1],1/0],close:[0,0]}),o(t),n.each(t,function(e){e.text=this.formatValueText(e.interval)},this)},categories:function(){var t=this.option;n.each(t.categories,function(e){this._pieceList.push({text:this.formatValueText(e,!0),value:e})},this),e(t,this._pieceList)},pieces:function(){var t=this.option,i=this._pieceList;n.each(t.pieces,function(e,t){n.isObject(e)||(e={value:e});var s={text:"",index:t};if(null!=e.label&&(s.text=e.label),e.hasOwnProperty("value")){var r=s.value=e.value;s.interval=[r,r],s.close=[1,1]}else{for(var l=s.interval=[],o=s.close=[0,0],c=[1,0,1],u=[-1/0,1/0],h=[],p=0;p<2;p++){for(var v=[["gte","gt","min"],["lte","lt","max"]][p],f=0;f<3&&null==l[p];f++)l[p]=e[v[f]],o[p]=c[f],h[p]=2===f;null==l[p]&&(l[p]=u[p])}h[0]&&l[1]===1/0&&(o[0]=0),h[1]&&l[0]===-1/0&&(o[1]=0),l[0]===l[1]&&o[0]&&o[1]&&(s.value=l[0])}s.visual=a.retrieveVisuals(e),i.push(s)},this),e(t,i),o(i),n.each(i,function(e){var t=e.close,i=[["<",""][t[1]],[">",""][t[0]]];e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,i)},this)}},h=c;module.exports=h;
},{"zrender/lib/core/util":113,"../../config":116,"../../visual/VisualMapping":298,"../../visual/visualDefault":442,"../../util/number":60,"./VisualMapModel":444}],352:[function(require,module,exports) {
var e=require("zrender/lib/core/util"),t=require("./VisualMapView"),i=require("../../util/graphic"),n=require("../../util/symbol"),o=n.createSymbol,l=require("../../util/layout"),r=require("./helper"),a=t.extend({type:"visualMap.piecewise",doRender:function(){var t=this.group;t.removeAll();var n=this.visualMapModel,o=n.get("textGap"),r=n.textStyleModel,a=r.getFont(),s=r.getTextColor(),d=this._getItemAlign(),u=n.itemSize,c=this._getViewData(),h=c.endsText,g=e.retrieve(n.get("showLabel",!0),!h);h&&this._renderEndsText(t,h[0],u,g,d),e.each(c.viewPieceList,function(l){var r=l.piece,c=new i.Group;c.onclick=e.bind(this._onItemClick,this,r),this._enableHoverLink(c,l.indexInModelPieceList);var h=n.getRepresentValue(r);if(this._createItemSymbol(c,h,[0,0,u[0],u[1]]),g){var p=this.visualMapModel.getValueState(h);c.add(new i.Text({style:{x:"right"===d?-o:u[0]+o,y:u[1]/2,text:r.text,textVerticalAlign:"middle",textAlign:d,textFont:a,textFill:s,opacity:"outOfRange"===p?.5:1}}))}t.add(c)},this),h&&this._renderEndsText(t,h[1],u,g,d),l.box(n.get("orient"),t,n.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},_enableHoverLink:function(t,i){function n(e){var t=this.visualMapModel;t.option.hoverLink&&this.api.dispatchAction({type:e,batch:r.convertDataIndex(t.findTargetDataIndices(i))})}t.on("mouseover",e.bind(n,this,"highlight")).on("mouseout",e.bind(n,this,"downplay"))},_getItemAlign:function(){var e=this.visualMapModel,t=e.option;if("vertical"===t.orient)return r.getItemAlign(e,this.api,e.itemSize);var i=t.align;return i&&"auto"!==i||(i="left"),i},_renderEndsText:function(e,t,n,o,l){if(t){var r=new i.Group,a=this.visualMapModel.textStyleModel;r.add(new i.Text({style:{x:o?"right"===l?n[0]:0:n[0]/2,y:n[1]/2,textVerticalAlign:"middle",textAlign:o?l:"center",text:t,textFont:a.getFont(),textFill:a.getTextColor()}})),e.add(r)}},_getViewData:function(){var t=this.visualMapModel,i=e.map(t.getPieceList(),function(e,t){return{piece:e,indexInModelPieceList:t}}),n=t.get("text"),o=t.get("orient"),l=t.get("inverse");return("horizontal"===o?l:!l)?i.reverse():n&&(n=n.slice().reverse()),{viewPieceList:i,endsText:n}},_createItemSymbol:function(e,t,i){e.add(o(this.getControllerVisual(t,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(t,"color")))},_onItemClick:function(t){var i=this.visualMapModel,n=i.option,o=e.clone(n.selected),l=i.getSelectedMapKey(t);"single"===n.selectedMode?(o[l]=!0,e.each(o,function(e,t){o[t]=t===l})):o[l]=!o[l],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}}),s=a;module.exports=s;
},{"zrender/lib/core/util":113,"../../util/graphic":59,"../../util/symbol":193,"../../util/layout":126,"./VisualMapView":445,"./helper":446}],172:[function(require,module,exports) {
var e=require("../echarts"),r=require("./visualMap/preprocessor");require("./visualMap/typeDefaulter"),require("./visualMap/visualEncoding"),require("./visualMap/PiecewiseModel"),require("./visualMap/PiecewiseView"),require("./visualMap/visualMapAction"),e.registerPreprocessor(r);
},{"../echarts":14,"./visualMap/preprocessor":345,"./visualMap/typeDefaulter":346,"./visualMap/visualEncoding":347,"./visualMap/visualMapAction":350,"./visualMap/PiecewiseModel":351,"./visualMap/PiecewiseView":352}],50:[function(require,module,exports) {
require("./visualMapContinuous"),require("./visualMapPiecewise");
},{"./visualMapContinuous":171,"./visualMapPiecewise":172}],353:[function(require,module,exports) {
function e(e){o.defaultEmphasis(e.label,["show"])}var t=require("../../config"),i=t.__DEV__,n=require("../../echarts"),r=require("zrender/lib/core/util"),a=require("zrender/lib/core/env"),o=require("../../util/model"),s=require("../../util/format"),u=s.addCommas,l=s.encodeHTML,d=n.extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(e,t,i,n){this.mergeDefaultAndTheme(e,i),this.mergeOption(e,i,n.createdBySelf,!0)},isAnimationEnabled:function(){if(a.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},mergeOption:function(t,i,n,a){var o=this.constructor,s=this.mainType+"Model";n||i.eachSeries(function(t){var n=t.get(this.mainType),u=t[s];n&&n.data?(u?u.mergeOption(n,i,!0):(a&&e(n),r.each(n.data,function(t){t instanceof Array?(e(t[0]),e(t[1])):e(t)}),u=new o(n,this,i),r.extend(u,{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),u.__hostSeries=t),t[s]=u):t[s]=null},this)},formatTooltip:function(e){var t=this.getData(),i=this.getRawValue(e),n=r.isArray(i)?r.map(i,u).join(", "):u(i),a=t.getName(e),o=l(this.name);return(null!=i||a)&&(o+="<br />"),a&&(o+=l(a),null!=i&&(o+=" : ")),null!=i&&(o+=l(n)),o},getData:function(){return this._data},setData:function(e){this._data=e}});r.mixin(d,o.dataFormatMixin);var m=d;module.exports=m;
},{"zrender/lib/core/util":113,"../../config":116,"../../echarts":14,"../../util/model":125,"../../util/format":61,"zrender/lib/core/env":115}],173:[function(require,module,exports) {
var e=require("./MarkerModel"),o=e.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"inside"},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:2}}}});module.exports=o;
},{"./MarkerModel":353}],356:[function(require,module,exports) {
function a(a){return!(isNaN(parseFloat(a.x))&&isNaN(parseFloat(a.y)))}function e(a){return!isNaN(parseFloat(a.x))&&!isNaN(parseFloat(a.y))}function i(a,e,i){var t=-1;do{t=Math.max(l.getPrecision(a.get(e,i)),t),a=a.stackedOn}while(a);return t}function t(a,e,t,r,o,n){var s=[],x=u(e,r,a),l=e.indicesOfNearest(r,x,!0)[0];s[o]=e.get(t,l,!0),s[n]=e.get(r,l,!0);var m=i(e,r,l);return(m=Math.min(m,20))>=0&&(s[n]=+s[n].toFixed(m)),s}function r(a,i){var t=a.getData(),r=a.coordinateSystem;if(i&&!e(i)&&!x.isArray(i.coord)&&r){var n=r.dimensions,s=o(i,t,r,a);if((i=x.clone(i)).type&&d[i.type]&&s.baseAxis&&s.valueAxis){var l=m(n,s.baseAxis.dim),D=m(n,s.valueAxis.dim);i.coord=d[i.type](t,s.baseDataDim,s.valueDataDim,l,D),i.value=i.coord[D]}else{for(var c=[null!=i.xAxis?i.xAxis:i.radiusAxis,null!=i.yAxis?i.yAxis:i.angleAxis],v=0;v<2;v++)if(d[c[v]]){var A=a.coordDimToDataDim(n[v])[0];c[v]=u(t,A,c[v])}i.coord=c}}return i}function o(a,e,i,t){var r={};return null!=a.valueIndex||null!=a.valueDim?(r.valueDataDim=null!=a.valueIndex?e.getDimension(a.valueIndex):a.valueDim,r.valueAxis=i.getAxis(t.dataDimToCoordDim(r.valueDataDim)),r.baseAxis=i.getOtherAxis(r.valueAxis),r.baseDataDim=t.coordDimToDataDim(r.baseAxis.dim)[0]):(r.baseAxis=t.getBaseAxis(),r.valueAxis=i.getOtherAxis(r.baseAxis),r.baseDataDim=t.coordDimToDataDim(r.baseAxis.dim)[0],r.valueDataDim=t.coordDimToDataDim(r.valueAxis.dim)[0]),r}function n(e,i){return!(e&&e.containData&&i.coord&&!a(i))||e.containData(i.coord)}function s(a,e,i,t){return t<2?a.coord&&a.coord[t]:a.value}function u(a,e,i){if("average"===i){var t=0,r=0;return a.each(e,function(a,e){isNaN(a)||(t+=a,r++)},!0),t/r}return a.getDataExtent(e,!0)["max"===i?1:0]}var x=require("zrender/lib/core/util"),l=require("../../util/number"),m=x.indexOf,D=x.curry,d={min:D(t,"min"),max:D(t,"max"),average:D(t,"average")};exports.dataTransform=r,exports.getAxisInfo=o,exports.dataFilter=n,exports.dimValueGetter=s,exports.numCalculate=u;
},{"zrender/lib/core/util":113,"../../util/number":60}],357:[function(require,module,exports) {
var e=require("../../echarts"),r=require("zrender/lib/core/util"),i=e.extendComponentView({type:"marker",init:function(){this.markerGroupMap=r.createHashMap()},render:function(e,r,i){var t=this.markerGroupMap;t.each(function(e){e.__keep=!1});var n=this.type+"Model";r.eachSeries(function(e){var t=e[n];t&&this.renderSeries(e,t,r,i)},this),t.each(function(e){!e.__keep&&this.group.remove(e.group)},this)},renderSeries:function(){}});module.exports=i;
},{"../../echarts":14,"zrender/lib/core/util":113}],174:[function(require,module,exports) {
function e(e,t,a){var r=t.coordinateSystem;e.each(function(o){var n,s=e.getItemModel(o),u=i.parsePercent(s.get("x"),a.getWidth()),l=i.parsePercent(s.get("y"),a.getHeight());if(isNaN(u)||isNaN(l)){if(t.getMarkerPosition)n=t.getMarkerPosition(e.getValues(e.dimensions,o));else if(r){var m=e.get(r.dimensions[0],o),g=e.get(r.dimensions[1],o);n=r.dataToPoint([m,g])}}else n=[u,l];isNaN(u)||(n[0]=u),isNaN(l)||(n[1]=l),e.setItemLayout(o,n)})}function t(e,t,r){var i;i=e?a.map(e&&e.dimensions,function(e){var a=t.getData().getDimensionInfo(t.coordDimToDataDim(e)[0])||{};return a.name=e,a}):[{name:"value",type:"float"}];var s=new o(i,r),u=a.map(r.get("data"),a.curry(n.dataTransform,t));return e&&(u=a.filter(u,a.curry(n.dataFilter,e))),s.initData(u,null,e?n.dimValueGetter:function(e){return e.value}),s}var a=require("zrender/lib/core/util"),r=require("../../chart/helper/SymbolDraw"),i=require("../../util/number"),o=require("../../data/List"),n=require("./markerHelper"),s=require("./MarkerView"),u=s.extend({type:"markPoint",updateLayout:function(t,a,r){a.eachSeries(function(t){var a=t.markPointModel;a&&(e(a.getData(),t,r),this.markerGroupMap.get(t.id).updateLayout(a))},this)},renderSeries:function(a,i,o,n){var s=a.coordinateSystem,u=a.id,l=a.getData(),m=this.markerGroupMap,g=m.get(u)||m.set(u,new r),d=t(s,a,i);i.setData(d),e(i.getData(),a,n),d.each(function(e){var t=d.getItemModel(e),a=t.getShallow("symbolSize");"function"==typeof a&&(a=a(i.getRawValue(e),i.getDataParams(e))),d.setItemVisual(e,{symbolSize:a,color:t.get("itemStyle.normal.color")||l.getVisual("color"),symbol:t.getShallow("symbol")})}),g.updateData(d),this.group.add(g.group),d.eachItemGraphicEl(function(e){e.traverse(function(e){e.dataModel=i})}),g.__keep=!0,g.group.silent=i.get("silent")||a.get("silent")}});module.exports=u;
},{"../../util/number":60,"../../data/List":63,"../../chart/helper/SymbolDraw":260,"./markerHelper":356,"./MarkerView":357,"zrender/lib/core/util":113}],51:[function(require,module,exports) {
var r=require("../echarts");require("./marker/MarkPointModel"),require("./marker/MarkPointView"),r.registerPreprocessor(function(r){r.markPoint=r.markPoint||{}});
},{"../echarts":14,"./marker/MarkPointModel":173,"./marker/MarkPointView":174}],175:[function(require,module,exports) {
var e=require("./MarkerModel"),i=e.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"end"},emphasis:{show:!0}},lineStyle:{normal:{type:"dashed"},emphasis:{width:3}},animationEasing:"linear"}});module.exports=i;
},{"./MarkerModel":353}],176:[function(require,module,exports) {
function e(e){return!isNaN(e)&&!isFinite(e)}function t(t,a,r,i){var o=1-t,n=i.dimensions[t];return e(a[o])&&e(r[o])&&a[t]===r[t]&&i.getAxis(n).containData(a[t])}function a(e,a){if("cartesian2d"===e.type){var r=a[0].coord,i=a[1].coord;if(r&&i&&(t(1,r,i,e)||t(0,r,i,e)))return!0}return u.dataFilter(e,a[0])&&u.dataFilter(e,a[1])}function r(t,a,r,i,o){var n,u=i.coordinateSystem,s=t.getItemModel(a),m=l.parsePercent(s.get("x"),o.getWidth()),c=l.parsePercent(s.get("y"),o.getHeight());if(isNaN(m)||isNaN(c)){if(i.getMarkerPosition)n=i.getMarkerPosition(t.getValues(t.dimensions,a));else{var g=u.dimensions,d=t.get(g[0],a),y=t.get(g[1],a);n=u.dataToPoint([d,y])}if("cartesian2d"===u.type){var f=u.getAxis("x"),p=u.getAxis("y");g=u.dimensions;e(t.get(g[0],a))?n[0]=f.toGlobalCoord(f.getExtent()[r?0:1]):e(t.get(g[1],a))&&(n[1]=p.toGlobalCoord(p.getExtent()[r?0:1]))}isNaN(m)||(n[0]=m),isNaN(c)||(n[1]=c)}else n=[m,c];t.setItemLayout(a,n)}function i(e,t,r){var i;i=e?o.map(e&&e.dimensions,function(e){var a=t.getData().getDimensionInfo(t.coordDimToDataDim(e)[0])||{};return a.name=e,a}):[{name:"value",type:"float"}];var l=new n(i,r),s=new n(i,r),m=new n([],r),g=o.map(r.get("data"),o.curry(c,t,e,r));e&&(g=o.filter(g,o.curry(a,e)));var d=e?u.dimValueGetter:function(e){return e.value};return l.initData(o.map(g,function(e){return e[0]}),null,d),s.initData(o.map(g,function(e){return e[1]}),null,d),m.initData(o.map(g,function(e){return e[2]})),m.hasItemOption=!0,{from:l,to:s,line:m}}var o=require("zrender/lib/core/util"),n=require("../../data/List"),l=require("../../util/number"),u=require("./markerHelper"),s=require("../../chart/helper/LineDraw"),m=require("./MarkerView"),c=function(e,t,a,r){var i=e.getData(),n=r.type;if(!o.isArray(r)&&("min"===n||"max"===n||"average"===n||null!=r.xAxis||null!=r.yAxis)){var l,s;if(null!=r.yAxis||null!=r.xAxis)l=null!=r.yAxis?"y":"x",t.getAxis(l),s=o.retrieve(r.yAxis,r.xAxis);else{var m=u.getAxisInfo(r,i,t,e);l=m.valueDataDim,m.valueAxis,s=u.numCalculate(i,l,n)}var c="x"===l?0:1,g=1-c,d=o.clone(r),y={};d.type=null,d.coord=[],y.coord=[],d.coord[g]=-1/0,y.coord[g]=1/0;var f=a.get("precision");f>=0&&"number"==typeof s&&(s=+s.toFixed(Math.min(f,20))),d.coord[c]=y.coord[c]=s,r=[d,y,{type:n,valueIndex:r.valueIndex,value:s}]}return r=[u.dataTransform(e,r[0]),u.dataTransform(e,r[1]),o.extend({},r[2])],r[2].type=r[2].type||"",o.merge(r[2],r[0]),o.merge(r[2],r[1]),r},g=m.extend({type:"markLine",updateLayout:function(e,t,a){t.eachSeries(function(e){var t=e.markLineModel;if(t){var i=t.getData(),o=t.__from,n=t.__to;o.each(function(t){r(o,t,!0,e,a),r(n,t,!1,e,a)}),i.each(function(e){i.setItemLayout(e,[o.getItemLayout(e),n.getItemLayout(e)])}),this.markerGroupMap.get(e.id).updateLayout()}},this)},renderSeries:function(e,t,a,n){function l(t,a,i){var o=t.getItemModel(a);r(t,a,i,e,n),t.setItemVisual(a,{symbolSize:o.get("symbolSize")||I[i?0:1],symbol:o.get("symbol",!0)||x[i?0:1],color:o.get("itemStyle.normal.color")||c.getVisual("color")})}var u=e.coordinateSystem,m=e.id,c=e.getData(),g=this.markerGroupMap,d=g.get(m)||g.set(m,new s);this.group.add(d.group);var y=i(u,e,t),f=y.from,p=y.to,v=y.line;t.__from=f,t.__to=p,t.setData(v);var x=t.get("symbol"),I=t.get("symbolSize");o.isArray(x)||(x=[x,x]),"number"==typeof I&&(I=[I,I]),y.from.each(function(e){l(f,e,!0),l(p,e,!1)}),v.each(function(e){var t=v.getItemModel(e).get("lineStyle.normal.color");v.setItemVisual(e,{color:t||f.getItemVisual(e,"color")}),v.setItemLayout(e,[f.getItemLayout(e),p.getItemLayout(e)]),v.setItemVisual(e,{fromSymbolSize:f.getItemVisual(e,"symbolSize"),fromSymbol:f.getItemVisual(e,"symbol"),toSymbolSize:p.getItemVisual(e,"symbolSize"),toSymbol:p.getItemVisual(e,"symbol")})}),d.updateData(v),y.line.eachItemGraphicEl(function(e,a){e.traverse(function(e){e.dataModel=t})}),d.__keep=!0,d.group.silent=t.get("silent")||e.get("silent")}});module.exports=g;
},{"zrender/lib/core/util":113,"../../data/List":63,"../../util/number":60,"./markerHelper":356,"./MarkerView":357,"../../chart/helper/LineDraw":360}],52:[function(require,module,exports) {
var r=require("../echarts");require("./marker/MarkLineModel"),require("./marker/MarkLineView"),r.registerPreprocessor(function(r){r.markLine=r.markLine||{}});
},{"../echarts":14,"./marker/MarkLineModel":175,"./marker/MarkLineView":176}],177:[function(require,module,exports) {
var e=require("./MarkerModel"),o=e.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{normal:{show:!0,position:"top"},emphasis:{show:!0,position:"top"}},itemStyle:{normal:{borderWidth:0}}}});module.exports=o;
},{"./MarkerModel":353}],178:[function(require,module,exports) {
function e(e){return!isNaN(e)&&!isFinite(e)}function t(t,r,a,o){var i=1-t;return e(r[i])&&e(a[i])}function r(e,r){var a=r.coord[0],o=r.coord[1];return!("cartesian2d"!==e.type||!a||!o||!t(1,a,o,e)&&!t(0,a,o,e))||(c.dataFilter(e,{coord:a,x:r.x0,y:r.y0})||c.dataFilter(e,{coord:o,x:r.x1,y:r.y1}))}function a(t,r,a,o,i){var n,l=o.coordinateSystem,s=t.getItemModel(r),c=u.parsePercent(s.get(a[0]),i.getWidth()),d=u.parsePercent(s.get(a[1]),i.getHeight());if(isNaN(c)||isNaN(d)){if(o.getMarkerPosition)n=o.getMarkerPosition(t.getValues(a,r));else{var g=t.get(a[0],r),m=t.get(a[1],r);n=l.dataToPoint([g,m],!0)}if("cartesian2d"===l.type){var p=l.getAxis("x"),y=l.getAxis("y");g=t.get(a[0],r),m=t.get(a[1],r);e(g)?n[0]=p.toGlobalCoord(p.getExtent()["x0"===a[0]?0:1]):e(m)&&(n[1]=y.toGlobalCoord(y.getExtent()["y0"===a[1]?0:1]))}isNaN(c)||(n[0]=c),isNaN(d)||(n[1]=d)}else n=[c,d];return n}function o(e,t,a){var o,n,u=["x0","y0","x1","y1"];e?(o=i.map(e&&e.dimensions,function(e){var r=t.getData().getDimensionInfo(t.coordDimToDataDim(e)[0])||{};return r.name=e,r}),n=new l(i.map(u,function(e,t){return{name:e,type:o[t%2].type}}),a)):n=new l(o=[{name:"value",type:"float"}],a);var s=i.map(a.get("data"),i.curry(g,t,e,a));e&&(s=i.filter(s,i.curry(r,e)));var c=e?function(e,t,r,a){return e.coord[Math.floor(a/2)][a%2]}:function(e){return e.value};return n.initData(s,null,c),n.hasItemOption=!0,n}var i=require("zrender/lib/core/util"),n=require("zrender/lib/tool/color"),l=require("../../data/List"),u=require("../../util/number"),s=require("../../util/graphic"),c=require("./markerHelper"),d=require("./MarkerView"),g=function(e,t,r,a){var o=c.dataTransform(e,a[0]),n=c.dataTransform(e,a[1]),l=i.retrieve,u=o.coord,s=n.coord;u[0]=l(u[0],-1/0),u[1]=l(u[1],-1/0),s[0]=l(s[0],1/0),s[1]=l(s[1],1/0);var d=i.mergeAll([{},o,n]);return d.coord=[o.coord,n.coord],d.x0=o.x,d.y0=o.y,d.x1=n.x,d.y1=n.y,d},m=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];d.extend({type:"markArea",updateLayout:function(e,t,r){t.eachSeries(function(e){var t=e.markAreaModel;if(t){var o=t.getData();o.each(function(t){var n=i.map(m,function(i){return a(o,t,i,e,r)});o.setItemLayout(t,n);o.getItemGraphicEl(t).setShape("points",n)})}},this)},renderSeries:function(e,t,r,l){var u=e.coordinateSystem,c=e.name,d=e.getData(),g=this.markerGroupMap,p=g.get(c)||g.set(c,{group:new s.Group});this.group.add(p.group),p.__keep=!0;var y=o(u,e,t);t.setData(y),y.each(function(t){y.setItemLayout(t,i.map(m,function(r){return a(y,t,r,e,l)})),y.setItemVisual(t,{color:d.getVisual("color")})}),y.diff(p.__data).add(function(e){var t=new s.Polygon({shape:{points:y.getItemLayout(e)}});y.setItemGraphicEl(e,t),p.group.add(t)}).update(function(e,r){var a=p.__data.getItemGraphicEl(r);s.updateProps(a,{shape:{points:y.getItemLayout(e)}},t,e),p.group.add(a),y.setItemGraphicEl(e,a)}).remove(function(e){var t=p.__data.getItemGraphicEl(e);p.group.remove(t)}).execute(),y.eachItemGraphicEl(function(e,r){var a=y.getItemModel(r),o=a.getModel("label.normal"),l=a.getModel("label.emphasis"),u=y.getItemVisual(r,"color");e.useStyle(i.defaults(a.getModel("itemStyle.normal").getItemStyle(),{fill:n.modifyAlpha(u,.4),stroke:u})),e.hoverStyle=a.getModel("itemStyle.emphasis").getItemStyle(),s.setLabelStyle(e.style,e.hoverStyle,o,l,{labelFetcher:t,labelDataIndex:r,defaultText:y.getName(r)||"",isRectText:!0,autoColor:u}),s.setHoverStyle(e,{}),e.dataModel=t}),p.__data=y,p.group.silent=t.get("silent")||e.get("silent")}});
},{"zrender/lib/core/util":113,"../../data/List":63,"../../util/number":60,"./markerHelper":356,"./MarkerView":357,"../../util/graphic":59,"zrender/lib/tool/color":114}],53:[function(require,module,exports) {
var r=require("../echarts");require("./marker/MarkAreaModel"),require("./marker/MarkAreaView"),r.registerPreprocessor(function(r){r.markArea=r.markArea||{}});
},{"../echarts":14,"./marker/MarkAreaModel":177,"./marker/MarkAreaView":178}],179:[function(require,module,exports) {
function e(e){var i=e&&e.timeline;n.isArray(i)||(i=i?[i]:[]),n.each(i,function(e){e&&o(e)})}function o(e){var o=e.type,l={number:"value",time:"time"};if(l[o]&&(e.axisType=l[o],delete e.type),i(e),t(e,"controlPosition")){var a=e.controlStyle||(e.controlStyle={});t(a,"position")||(a.position=e.controlPosition),"none"!==a.position||t(a,"show")||(a.show=!1,delete a.position),delete e.controlPosition}n.each(e.data||[],function(e){n.isObject(e)&&!n.isArray(e)&&(!t(e,"value")&&t(e,"name")&&(e.value=e.name),i(e))})}function i(e){var o=e.itemStyle||(e.itemStyle={}),i=o.emphasis||(o.emphasis={}),l=e.label||e.label||{},a=l.normal||(l.normal={}),r={normal:1,emphasis:1};n.each(l,function(e,o){r[o]||t(a,o)||(a[o]=e)}),i.label&&!t(l,"emphasis")&&(l.emphasis=i.label,delete i.label)}function t(e,o){return e.hasOwnProperty(o)}var n=require("zrender/lib/core/util");module.exports=e;
},{"zrender/lib/core/util":113}],180:[function(require,module,exports) {
var e=require("../../model/Component");e.registerSubTypeDefaulter("timeline",function(){return"slider"});
},{"../../model/Component":201}],181:[function(require,module,exports) {
var e=require("../../echarts"),t=require("zrender/lib/core/util");e.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,n){var r=n.getComponent("timeline");return r&&null!=e.currentIndex&&(r.setCurrentIndex(e.currentIndex),!r.get("loop",!0)&&r.isIndexMax()&&r.setPlayState(!1)),n.resetOption("timeline"),t.defaults({currentIndex:r.option.currentIndex},e)}),e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var n=t.getComponent("timeline");n&&null!=e.playState&&n.setPlayState(e.playState)});
},{"zrender/lib/core/util":113,"../../echarts":14}],361:[function(require,module,exports) {
var t=require("zrender/lib/core/util"),e=require("../../model/Component"),i=require("../../data/List"),n=require("../../util/model"),a=e.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{normal:{},emphasis:{}},label:{normal:{color:"#000"},emphasis:{}},data:[]},init:function(t,e,i){this._data,this._names,this.mergeDefaultAndTheme(t,i),this._initData()},mergeOption:function(t){a.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t>=e&&(t=e-1),t<0&&(t=0)),this.option.currentIndex=t},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(t){this.option.autoPlay=!!t},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var e=this.option,a=e.data||[],o=e.axisType,r=this._names=[];if("category"===o){var u=[];t.each(a,function(e,i){var a,o=n.getDataItemValue(e);t.isObject(e)?(a=t.clone(e)).value=i:a=i,u.push(a),t.isString(o)||null!=o&&!isNaN(o)||(o=""),r.push(o+"")}),a=u}var s={category:"ordinal",time:"time"}[o]||"number";(this._data=new i([{name:"value",type:s}],this)).initData(a,r)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}}),o=a;module.exports=o;
},{"zrender/lib/core/util":113,"../../model/Component":201,"../../util/model":125,"../../data/List":63}],182:[function(require,module,exports) {
var o=require("zrender/lib/core/util"),r=require("./TimelineModel"),e=require("../../util/model"),c=r.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",normal:{show:!0,interval:"auto",rotate:0,color:"#304654"},emphasis:{show:!0,color:"#c23531"}},itemStyle:{normal:{color:"#304654",borderWidth:1},emphasis:{color:"#c23531"}},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",normal:{color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});o.mixin(c,e.dataFormatMixin);var t=c;module.exports=t;
},{"zrender/lib/core/util":113,"../../util/model":125,"./TimelineModel":361}],367:[function(require,module,exports) {
var e=require("../../view/Component"),t=e.extend({type:"timeline"});module.exports=t;
},{"../../view/Component":203}],368:[function(require,module,exports) {
var t=require("zrender/lib/core/util"),e=require("../../coord/Axis"),r=require("../../coord/axisHelper"),a=function(t,r,a,l){e.call(this,t,r,a),this.type=l||"value",this._autoLabelInterval,this.model=null};a.prototype={constructor:a,getLabelInterval:function(){var e=this.model,a=e.getModel("label.normal");if(null!=(l=a.get("interval"))&&"auto"!=l)return l;var l;return(l=this._autoLabelInterval)||(l=this._autoLabelInterval=r.getAxisLabelInterval(t.map(this.scale.getTicks(),this.dataToCoord,this),r.getFormattedLabels(this,a.get("formatter")),a.getFont(),"horizontal"===e.get("orient")?0:90,a.get("rotate"))),l},isLabelIgnored:function(t){if("category"===this.type){var e=this.getLabelInterval();return"function"==typeof e&&!e(t,this.scale.getLabel(t))||t%(e+1)}}},t.inherits(a,e);var l=a;module.exports=l;
},{"zrender/lib/core/util":113,"../../coord/axisHelper":191,"../../coord/Axis":65}],183:[function(require,module,exports) {
function t(t,e){return s.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}function e(t,e,i,n){return l.makePath(t.get(e).replace(/^path:\/\//,""),o.clone(n||{}),new r(i[0],i[1],i[2],i[3]),"center")}function i(t,e,i,n,r,a){var l=e.get("color");if(r)r.setColor(l),i.add(r),a&&a.onUpdate(r);else{var s=t.get("symbol");(r=u(s,-1,-1,2,2,l)).setStyle("strokeNoScale",!0),i.add(r),a&&a.onCreate(r)}var c=e.getItemStyle(["color","symbol","symbolSize"]);r.setStyle(c),n=o.merge({rectHover:!0,z2:100},n,!0);var h=t.get("symbolSize");(h=h instanceof Array?h.slice():[+h,+h])[0]/=2,h[1]/=2,n.scale=h;var g=t.get("symbolOffset");if(g){var d=n.position=n.position||[0,0];d[0]+=m.parsePercent(g[0],h[0]),d[1]+=m.parsePercent(g[1],h[1])}var p=t.get("symbolRotate");return n.rotation=(p||0)*Math.PI/180||0,r.attr(n),r.updateTransform(),r}function n(t,e,i,n,o){if(!t.dragging){var r=n.getModel("checkpointStyle"),a=i.dataToCoord(n.getData().get(["value"],e));o||!r.get("animation",!0)?t.attr({position:[a,0]}):(t.stopAnimation(!0),t.animateTo({position:[a,0]},r.get("animationDuration",!0),r.get("animationEasing",!0)))}}var o=require("zrender/lib/core/util"),r=require("zrender/lib/core/BoundingRect"),a=require("zrender/lib/core/matrix"),l=require("../../util/graphic"),s=require("../../util/layout"),c=require("./TimelineView"),h=require("./TimelineAxis"),g=require("../../util/symbol"),u=g.createSymbol,d=require("../../coord/axisHelper"),m=require("../../util/number"),p=require("../../util/format"),f=p.encodeHTML,v=o.bind,y=o.each,_=Math.PI,x=c.extend({type:"timeline.slider",init:function(t,e){this.api=e,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(t,e,i,n){if(this.model=t,this.api=i,this.ecModel=e,this.group.removeAll(),t.get("show",!0)){var o=this._layout(t,i),r=this._createGroup("mainGroup"),a=this._createGroup("labelGroup"),l=this._axis=this._createAxis(o,t);t.formatTooltip=function(t){return f(l.scale.getLabel(t))},y(["AxisLine","AxisTick","Control","CurrentPointer"],function(e){this["_render"+e](o,r,l,t)},this),this._renderAxisLabel(o,a,l,t),this._position(o,t)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(e,i){var n=e.get("label.normal.position"),o=e.get("orient"),r=t(e,i);null==n||"auto"===n?n="horizontal"===o?r.y+r.height/2<i.getHeight()/2?"-":"+":r.x+r.width/2<i.getWidth()/2?"+":"-":isNaN(n)&&(n={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[o][n]);var a={horizontal:"center",vertical:n>=0||"+"===n?"left":"right"},l={horizontal:n>=0||"+"===n?"top":"bottom",vertical:"middle"},s={horizontal:0,vertical:_/2},c="vertical"===o?r.height:r.width,h=e.getModel("controlStyle"),g=(x=h.get("show"))?h.get("itemSize"):0,u=x?h.get("itemGap"):0,d=g+u,m=e.get("label.normal.rotate")||0;m=m*_/180;var p,f,v,y,x,b=h.get("position",!0),T=(x=h.get("show",!0))&&h.get("showPlayBtn",!0),S=x&&h.get("showPrevBtn",!0),P=x&&h.get("showNextBtn",!0),C=0,A=c;return"left"===b||"bottom"===b?(T&&(p=[0,0],C+=d),S&&(f=[C,0],C+=d),P&&(v=[A-g,0],A-=d)):(T&&(p=[A-g,0],A-=d),S&&(f=[0,0],C+=d),P&&(v=[A-g,0],A-=d)),y=[C,A],e.get("inverse")&&y.reverse(),{viewRect:r,mainLength:c,orient:o,rotation:s[o],labelRotation:m,labelPosOpt:n,labelAlign:e.get("label.normal.align")||a[o],labelBaseline:e.get("label.normal.verticalAlign")||e.get("label.normal.baseline")||l[o],playPosition:p,prevBtnPosition:f,nextBtnPosition:v,axisExtent:y,controlSize:g,controlGap:u}},_position:function(t,e){function i(t){var e=t.position;t.origin=[u[0][0]-e[0],u[1][0]-e[1]]}function n(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function o(t,e,i,n,o){t[n]+=i[n][o]-e[n][o]}var r=this._mainGroup,l=this._labelGroup,s=t.viewRect;if("vertical"===t.orient){var c=a.create(),h=s.x,g=s.y+s.height;a.translate(c,c,[-h,-g]),a.rotate(c,c,-_/2),a.translate(c,c,[h,g]),(s=s.clone()).applyTransform(c)}var u=n(s),d=n(r.getBoundingRect()),m=n(l.getBoundingRect()),p=r.position,f=l.position;f[0]=p[0]=u[0][0];var v=t.labelPosOpt;if(isNaN(v)){o(p,d,u,1,y="+"===v?0:1),o(f,m,u,1,1-y)}else{var y;o(p,d,u,1,y=v>=0?0:1),f[1]=p[1]+v}r.attr("position",p),l.attr("position",f),r.rotation=l.rotation=t.rotation,i(r),i(l)},_createAxis:function(t,e){var i=e.getData(),n=e.get("axisType"),o=d.createScaleByModel(e,n),r=i.getDataExtent("value");o.setExtent(r[0],r[1]),this._customizeScale(o,i),o.niceTicks();var a=new h("value",o,t.axisExtent,n);return a.model=e,a},_customizeScale:function(t,e){t.getTicks=function(){return e.mapArray(["value"],function(t){return t})},t.getTicksLabels=function(){return o.map(this.getTicks(),t.getLabel,t)}},_createGroup:function(t){var e=this["_"+t]=new l.Group;return this.group.add(e),e},_renderAxisLine:function(t,e,i,n){var r=i.getExtent();n.get("lineStyle.show")&&e.add(new l.Line({shape:{x1:r[0],y1:0,x2:r[1],y2:0},style:o.extend({lineCap:"round"},n.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(t,e,n,o){var r=o.getData(),a=n.scale.getTicks();y(a,function(t,a){var s=n.dataToCoord(t),c=r.getItemModel(a),h=c.getModel("itemStyle.normal"),g=c.getModel("itemStyle.emphasis"),u={position:[s,0],onclick:v(this._changeTimeline,this,a)},d=i(c,h,e,u);l.setHoverStyle(d,g.getItemStyle()),c.get("tooltip")?(d.dataIndex=a,d.dataModel=o):d.dataIndex=d.dataModel=null},this)},_renderAxisLabel:function(t,e,i,n){var o=n.getModel("label.normal");if(o.get("show")){var r=n.getData(),a=i.scale.getTicks(),s=d.getFormattedLabels(i,o.get("formatter")),c=i.getLabelInterval();y(a,function(n,o){if(!i.isLabelIgnored(o,c)){var a=r.getItemModel(o),h=a.getModel("label.normal"),g=a.getModel("label.emphasis"),u=i.dataToCoord(n),d=new l.Text({position:[u,0],rotation:t.labelRotation-t.rotation,onclick:v(this._changeTimeline,this,o),silent:!1});l.setTextStyle(d.style,h,{text:s[o],textAlign:t.labelAlign,textVerticalAlign:t.labelBaseline}),e.add(d),l.setHoverStyle(d,l.setTextStyle({},g))}},this)}},_renderControl:function(t,i,n,o){function r(t,n,r,u){if(t){var d=e(o,n,g,{position:t,origin:[a/2,0],rotation:u?-s:0,rectHover:!0,style:c,onclick:r});i.add(d),l.setHoverStyle(d,h)}}var a=t.controlSize,s=t.rotation,c=o.getModel("controlStyle.normal").getItemStyle(),h=o.getModel("controlStyle.emphasis").getItemStyle(),g=[0,-a/2,a,a],u=o.getPlayState(),d=o.get("inverse",!0);r(t.nextBtnPosition,"controlStyle.nextIcon",v(this._changeTimeline,this,d?"-":"+")),r(t.prevBtnPosition,"controlStyle.prevIcon",v(this._changeTimeline,this,d?"+":"-")),r(t.playPosition,"controlStyle."+(u?"stopIcon":"playIcon"),v(this._handlePlayClick,this,!u),!0)},_renderCurrentPointer:function(t,e,o,r){var a=r.getData(),l=r.getCurrentIndex(),s=a.getItemModel(l).getModel("checkpointStyle"),c=this,h={onCreate:function(t){t.draggable=!0,t.drift=v(c._handlePointerDrag,c),t.ondragend=v(c._handlePointerDragend,c),n(t,l,o,r,!0)},onUpdate:function(t){n(t,l,o,r)}};this._currentPointer=i(s,s,this._mainGroup,{},this._currentPointer,h)},_handlePlayClick:function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},_handlePointerDrag:function(t,e,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},_handlePointerDragend:function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},_pointerChangeTimeline:function(t,e){var i=this._toAxisCoord(t)[0],n=this._axis,o=m.asc(n.getExtent().slice());i>o[1]&&(i=o[1]),i<o[0]&&(i=o[0]),this._currentPointer.position[0]=i,this._currentPointer.dirty();var r=this._findNearestTick(i),a=this.model;(e||r!==a.getCurrentIndex()&&a.get("realtime"))&&this._changeTimeline(r)},_doPlayStop:function(){function t(){var t=this.model;this._changeTimeline(t.getCurrentIndex()+(t.get("rewind",!0)?-1:1))}this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(v(t,this),this.model.get("playInterval")))},_toAxisCoord:function(t){var e=this._mainGroup.getLocalTransform();return l.applyTransform(t,e,!0)},_findNearestTick:function(t){var e,i=this.model.getData(),n=1/0,o=this._axis;return i.each(["value"],function(i,r){var a=o.dataToCoord(i),l=Math.abs(a-t);l<n&&(n=l,e=r)}),e},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(t){var e=this.model.getCurrentIndex();"+"===t?t=e+1:"-"===t&&(t=e-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})}});module.exports=x;
},{"zrender/lib/core/util":113,"../../util/graphic":59,"../../util/layout":126,"../../util/symbol":193,"../../coord/axisHelper":191,"../../util/number":60,"../../util/format":61,"./TimelineView":367,"./TimelineAxis":368,"zrender/lib/core/BoundingRect":256,"zrender/lib/core/matrix":111}],54:[function(require,module,exports) {
var e=require("../echarts"),i=require("./timeline/preprocessor");require("./timeline/typeDefaulter"),require("./timeline/timelineAction"),require("./timeline/SliderTimelineModel"),require("./timeline/SliderTimelineView"),e.registerPreprocessor(i);
},{"../echarts":14,"./timeline/preprocessor":179,"./timeline/typeDefaulter":180,"./timeline/timelineAction":181,"./timeline/SliderTimelineModel":182,"./timeline/SliderTimelineView":183}],184:[function(require,module,exports) {
var e=require("../../echarts"),o=require("zrender/lib/core/util"),r=require("./featureManager"),t=e.extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},mergeDefaultAndTheme:function(e){t.superApply(this,"mergeDefaultAndTheme",arguments),o.each(this.option.feature,function(e,t){var i=r.get(t);i&&o.merge(e,i.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{normal:{borderColor:"#666",color:"none"},emphasis:{borderColor:"#3E98C5"}}}}),i=t;module.exports=i;
},{"../../echarts":14,"./featureManager":359,"zrender/lib/core/util":113}],185:[function(require,module,exports) {
function e(e){return 0===e.indexOf("my")}var t=require("../../echarts"),i=require("zrender/lib/core/util"),o=require("zrender/lib/contain/text"),n=require("./featureManager"),r=require("../../util/graphic"),a=require("../../model/Model"),u=require("../../data/DataDiffer"),s=require("../helper/listComponent"),l=t.extendComponentView({type:"toolbox",render:function(t,l,c,d){function h(o,u){var s,h=v[o],x=v[u],y=m[h],S=new a(y,t,t.ecModel);if(h&&!x){if(e(h))s={model:S,onclick:S.option.onclick,featureName:h};else{var w=n.get(h);if(!w)return;s=new w(S,l,c)}p[h]=s}else{if(!(s=p[x]))return;s.model=S,s.ecModel=l,s.api=c}h||!x?S.get("show")&&!s.unusable?(!function(e,o,n){var a=e.getModel("iconStyle"),u=o.getIcons?o.getIcons():e.get("icon"),s=e.get("title")||{};if("string"==typeof u){var d=u,h=s;s={},(u={})[n]=d,s[n]=h}var m=e.iconPaths={};i.each(u,function(n,u){var d=r.createIcon(n,{},{x:-f/2,y:-f/2,width:f,height:f});d.setStyle(a.getModel("normal").getItemStyle()),d.hoverStyle=a.getModel("emphasis").getItemStyle(),r.setHoverStyle(d),t.get("showTitle")&&(d.__title=s[u],d.on("mouseover",function(){var e=a.getModel("emphasis").getItemStyle();d.setStyle({text:s[u],textPosition:e.textPosition||"bottom",textFill:e.fill||e.stroke||"#000",textAlign:e.textAlign||"center"})}).on("mouseout",function(){d.setStyle({textFill:null})})),d.trigger(e.get("iconStatus."+u)||"normal"),g.add(d),d.on("click",i.bind(o.onclick,o,l,c,u)),m[u]=d})}(S,s,h),S.setIconStatus=function(e,t){var i=this.option,o=this.iconPaths;i.iconStatus=i.iconStatus||{},i.iconStatus[e]=t,o[e]&&o[e].trigger(t)},s.render&&s.render(S,l,c,d)):s.remove&&s.remove(l,c):s.dispose&&s.dispose(l,c)}var g=this.group;if(g.removeAll(),t.get("show")){var f=+t.get("itemSize"),m=t.get("feature")||{},p=this._features||(this._features={}),v=[];i.each(m,function(e,t){v.push(t)}),new u(this._featureNames||[],v).add(h).update(h).remove(i.curry(h,null)).execute(),this._featureNames=v,s.layout(g,t,c),g.add(s.makeBackground(g.getBoundingRect(),t)),g.eachChild(function(e){var t=e.__title,i=e.hoverStyle;if(i&&t){var n=o.getBoundingRect(t,o.makeFont(i)),r=e.position[0]+g.position[0],a=!1;e.position[1]+g.position[1]+f+n.height>c.getHeight()&&(i.textPosition="top",a=!0);var u=a?-5-n.height:f+8;r+n.width/2>c.getWidth()?(i.textPosition=["100%",u],i.textAlign="right"):r-n.width/2<0&&(i.textPosition=[0,u],i.textAlign="left")}})}},updateView:function(e,t,o,n){i.each(this._features,function(e){e.updateView&&e.updateView(e.model,t,o,n)})},updateLayout:function(e,t,o,n){i.each(this._features,function(e){e.updateLayout&&e.updateLayout(e.model,t,o,n)})},remove:function(e,t){i.each(this._features,function(i){i.remove&&i.remove(e,t)}),this.group.removeAll()},dispose:function(e,t){i.each(this._features,function(i){i.dispose&&i.dispose(e,t)})}});module.exports=l;
},{"../../echarts":14,"../../util/graphic":59,"../../model/Model":64,"../../data/DataDiffer":117,"./featureManager":359,"../helper/listComponent":369,"zrender/lib/core/util":113,"zrender/lib/contain/text":287}],186:[function(require,module,exports) {
function e(e){this.model=e}var t=require("zrender/lib/core/env"),o=require("../../../lang"),n=require("../featureManager"),a=o.toolbox.saveAsImage;e.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:a.title,type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:a.lang.slice()},e.prototype.unusable=!t.canvasSupported;var r=e.prototype;r.onclick=function(e,o){var n=this.model,a=n.get("name")||e.get("title.0.text")||"echarts",r=document.createElement("a"),l=n.get("type",!0)||"png";r.download=a+"."+l,r.target="_blank";var i=o.getConnectedDataURL({type:l,backgroundColor:n.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")});if(r.href=i,"function"!=typeof MouseEvent||t.browser.ie||t.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var s=atob(i.split(",")[1]),g=s.length,c=new Uint8Array(g);g--;)c[g]=s.charCodeAt(g);var d=new Blob([c]);window.navigator.msSaveOrOpenBlob(d,a+"."+l)}else{var p=n.get("lang"),u='<body style="margin:0;"><img src="'+i+'" style="max-width:100%;" title="'+(p&&p[0]||"")+'" /></body>';window.open().document.write(u)}else{var v=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});r.dispatchEvent(v)}},n.register("saveAsImage",e);var l=e;module.exports=l;
},{"../../../lang":358,"../featureManager":359,"zrender/lib/core/env":115}],187:[function(require,module,exports) {
function e(e){this.model=e}var t=require("../../../echarts"),n=require("zrender/lib/core/util"),i=require("../../../lang"),a=require("../featureManager"),r=i.toolbox.magicType;e.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:n.clone(r.title),option:{},seriesIndex:{}};var l=e.prototype;l.getIcons=function(){var e=this.model,t=e.get("icon"),i={};return n.each(e.get("type"),function(e){t[e]&&(i[e]=t[e])}),i};var o={line:function(e,t,i,a){if("bar"===e)return n.merge({id:t,type:"line",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},a.get("option.line")||{},!0)},bar:function(e,t,i,a){if("line"===e)return n.merge({id:t,type:"bar",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},a.get("option.bar")||{},!0)},stack:function(e,t,i,a){if("line"===e||"bar"===e)return n.merge({id:t,stack:"__ec_magicType_stack__"},a.get("option.stack")||{},!0)},tiled:function(e,t,i,a){if("line"===e||"bar"===e)return n.merge({id:t,stack:""},a.get("option.tiled")||{},!0)}},c=[["line","bar"],["stack","tiled"]];l.onclick=function(e,t,i){var a=this.model,r=a.get("seriesIndex."+i);if(o[i]){var l={series:[]};n.each(c,function(e){n.indexOf(e,i)>=0&&n.each(e,function(e){a.setIconStatus(e,"normal")})}),a.setIconStatus(i,"emphasis"),e.eachComponent({mainType:"series",query:null==r?null:{seriesIndex:r}},function(t){var r=t.subType,c=t.id,s=o[i](r,c,t,a);s&&(n.defaults(s,t.option),l.series.push(s));var p=t.coordinateSystem;if(p&&"cartesian2d"===p.type&&("line"===i||"bar"===i)){var d=p.getAxesByScale("ordinal")[0];if(d){var g=d.dim+"Axis",u=e.queryComponents({mainType:g,index:t.get(name+"Index"),id:t.get(name+"Id")})[0].componentIndex;l[g]=l[g]||[];for(var m=0;m<=u;m++)l[g][u]=l[g][u]||{};l[g][u].boundaryGap="bar"===i}}}),t.dispatchAction({type:"changeMagicType",currentType:i,newOption:l})}},t.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(e,t){t.mergeOption(e.newOption)}),a.register("magicType",e);var s=e;module.exports=s;
},{"zrender/lib/core/util":113,"../../../lang":358,"../featureManager":359,"../../../echarts":14}],188:[function(require,module,exports) {
function e(e){var t={},n=[],r=[];return e.eachRawSeries(function(e){var o=e.coordinateSystem;if(!o||"cartesian2d"!==o.type&&"polar"!==o.type)n.push(e);else{var i=o.getBaseAxis();if("category"===i.type){var a=i.dim+"_"+i.index;t[a]||(t[a]={categoryAxis:i,valueAxis:o.getOtherAxis(i),series:[]},r.push({axisDim:i.dim,axisIndex:i.index})),t[a].series.push(e)}else n.push(e)}}),{seriesGroupByCategoryAxis:t,other:n,meta:r}}function t(e){var t=[];return p.each(e,function(e,n){var r=e.categoryAxis,o=e.valueAxis.dim,i=[" "].concat(p.map(e.series,function(e){return e.name})),a=[r.model.getCategories()];p.each(e.series,function(e){a.push(e.getRawData().mapArray(o,function(e){return e}))});for(var s=[i.join(x)],l=0;l<a[0].length;l++){for(var c=[],u=0;u<a.length;u++)c.push(a[u][l]);s.push(c.join(x))}t.push(s.join("\n"))}),t.join("\n\n"+v+"\n\n")}function n(e){return p.map(e,function(e){var t=e.getRawData(),n=[e.name],r=[];return t.each(t.dimensions,function(){for(var e=arguments.length,o=arguments[e-1],i=t.getName(o),a=0;a<e-1;a++)r[a]=arguments[a];n.push((i?i+x:"")+r.join(x))}),n.join("\n")}).join("\n\n"+v+"\n\n")}function r(r){var o=e(r);return{value:p.filter([t(o.seriesGroupByCategoryAxis),n(o.other)],function(e){return e.replace(/[\n\t\s]/g,"")}).join("\n\n"+v+"\n\n"),meta:o.meta}}function o(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function i(e){if(e.slice(0,e.indexOf("\n")).indexOf(x)>=0)return!0}function a(e){for(var t=e.split(/\n+/g),n=o(t.shift()).split(y),r=[],i=p.map(n,function(e){return{name:e,data:[]}}),a=0;a<t.length;a++){var s=o(t[a]).split(y);r.push(s.shift());for(var l=0;l<s.length;l++)i[l]&&(i[l].data[a]=s[l])}return{series:i,categories:r}}function s(e){for(var t=e.split(/\n+/g),n=o(t.shift()),r=[],i=0;i<t.length;i++){var a,s=o(t[i]).split(y),l="",c=!1;isNaN(s[0])?(c=!0,l=s[0],s=s.slice(1),r[i]={name:l,value:[]},a=r[i].value):a=r[i]=[];for(var u=0;u<s.length;u++)a.push(+s[u]);1===a.length&&(c?r[i].value=a[0]:r[i]=a[0])}return{name:n,data:r}}function l(e,t){var n=e.split(new RegExp("\n*"+v+"\n*","g")),r={series:[]};return p.each(n,function(e,n){if(i(e)){var o=a(e),l=t[n],c=l.axisDim+"Axis";l&&(r[c]=r[c]||[],r[c][l.axisIndex]={data:o.categories},r.series=r.series.concat(o.series))}else{o=s(e);r.series.push(o)}}),r}function c(e){this._dom=null,this.model=e}function u(e,t){return p.map(e,function(e,n){var r=t&&t[n];return p.isObject(r)&&!p.isArray(r)?(p.isObject(e)&&!p.isArray(e)&&(e=e.value),p.defaults({value:e},r)):e})}var d=require("../../../echarts"),p=require("zrender/lib/core/util"),h=require("zrender/lib/core/event"),f=require("../../../lang"),g=require("../featureManager"),m=f.toolbox.dataView,v=new Array(60).join("-"),x="\t",y=new RegExp("["+x+"]+","g");c.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:p.clone(m.title),lang:p.clone(m.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},c.prototype.onclick=function(e,t){function n(){o.removeChild(a),T._dom=null}var o=t.getDom(),i=this.model;this._dom&&o.removeChild(this._dom);var a=document.createElement("div");a.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",a.style.backgroundColor=i.get("backgroundColor")||"#fff";var s=document.createElement("h4"),c=i.get("lang")||[];s.innerHTML=c[0]||i.get("title"),s.style.cssText="margin: 10px 20px;",s.style.color=i.get("textColor");var u=document.createElement("div"),d=document.createElement("textarea");u.style.cssText="display:block;width:100%;overflow:auto;";var f=i.get("optionToContent"),g=i.get("contentToOption"),m=r(e);if("function"==typeof f){var v=f(t.getOption());"string"==typeof v?u.innerHTML=v:p.isDom(v)&&u.appendChild(v)}else u.appendChild(d),d.readOnly=i.get("readOnly"),d.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",d.style.color=i.get("textColor"),d.style.borderColor=i.get("textareaBorderColor"),d.style.backgroundColor=i.get("textareaColor"),d.value=m.value;var y=m.meta,C=document.createElement("div");C.style.cssText="position:absolute;bottom:0;left:0;right:0;";var b="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",w=document.createElement("div"),O=document.createElement("div");b+=";background-color:"+i.get("buttonColor"),b+=";color:"+i.get("buttonTextColor");var T=this;h.addEventListener(w,"click",n),h.addEventListener(O,"click",function(){var e;try{e="function"==typeof g?g(u,t.getOption()):l(d.value,y)}catch(e){throw n(),new Error("Data view format error "+e)}e&&t.dispatchAction({type:"changeDataView",newOption:e}),n()}),w.innerHTML=c[1],O.innerHTML=c[2],O.style.cssText=b,w.style.cssText=b,!i.get("readOnly")&&C.appendChild(O),C.appendChild(w),h.addEventListener(d,"keydown",function(e){if(9===(e.keyCode||e.which)){var t=this.value,n=this.selectionStart,r=this.selectionEnd;this.value=t.substring(0,n)+x+t.substring(r),this.selectionStart=this.selectionEnd=n+1,h.stop(e)}}),a.appendChild(s),a.appendChild(u),a.appendChild(C),u.style.height=o.clientHeight-80+"px",o.appendChild(a),this._dom=a},c.prototype.remove=function(e,t){this._dom&&t.getDom().removeChild(this._dom)},c.prototype.dispose=function(e,t){this.remove(e,t)},g.register("dataView",c),d.registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(e,t){var n=[];p.each(e.newOption.series,function(e){var r=t.getSeriesByName(e.name)[0];if(r){var o=r.get("data");n.push({name:e.name,data:u(e.data,o)})}else n.push(p.extend({type:"scatter"},e))}),t.mergeOption(p.defaults({series:n},e.newOption))});var C=c;module.exports=C;
},{"../../../echarts":14,"zrender/lib/core/util":113,"../../../lang":358,"../featureManager":359,"zrender/lib/core/event":344}],447:[function(require,module,exports) {
var e=require("./DataZoomModel"),o=e.extend({type:"dataZoom.select"});module.exports=o;
},{"./DataZoomModel":163}],448:[function(require,module,exports) {
var e=require("./DataZoomView"),o=e.extend({type:"dataZoom.select"});module.exports=o;
},{"./DataZoomView":164}],372:[function(require,module,exports) {
require("./dataZoom/typeDefaulter"),require("./dataZoom/DataZoomModel"),require("./dataZoom/DataZoomView"),require("./dataZoom/SelectZoomModel"),require("./dataZoom/SelectZoomView"),require("./dataZoom/dataZoomProcessor"),require("./dataZoom/dataZoomAction");
},{"./dataZoom/typeDefaulter":162,"./dataZoom/DataZoomModel":163,"./dataZoom/DataZoomView":164,"./dataZoom/dataZoomProcessor":169,"./dataZoom/dataZoomAction":170,"./dataZoom/SelectZoomModel":447,"./dataZoom/SelectZoomView":448}],373:[function(require,module,exports) {
function e(e,r){var n=o(e);u(r,function(r,t){for(var o=n.length-1;o>=0;o--){if(n[o][t])break}if(o<0){var a=e.queryComponents({mainType:"dataZoom",subType:"select",id:t})[0];if(a){var u=a.getPercentRange();n[0][t]={dataZoomId:t,start:u[0],end:u[1]}}}}),n.push(r)}function r(e){var r=o(e),n=r[r.length-1];r.length>1&&r.pop();var t={};return u(n,function(e,n){for(var o=r.length-1;o>=0;o--){if(e=r[o][n]){t[n]=e;break}}}),t}function n(e){e[i]=null}function t(e){return o(e).length}function o(e){var r=e[i];return r||(r=e[i]=[{}]),r}var a=require("zrender/lib/core/util"),u=a.each,i="\0_ec_hist_store";exports.push=e,exports.pop=r,exports.clear=n,exports.count=t;
},{"zrender/lib/core/util":113}],189:[function(require,module,exports) {
function e(e,o,t){(this._brushController=new r(t.getZr())).on("brush",a.bind(this._onBrush,this)).mount(),this._isZoomActive}function o(e){var o={};return a.each(["xAxisIndex","yAxisIndex"],function(t){o[t]=e[t],null==o[t]&&(o[t]="all"),(!1===o[t]||"none"===o[t])&&(o[t]=[])}),o}function t(e,o){e.setIconStatus("back",l.count(o)>1?"emphasis":"normal")}function i(e,t,i,n,a){var r=i._isZoomActive;n&&"takeGlobalCursor"===n.type&&(r="dataZoomSelect"===n.key&&n.dataZoomSelectActive),i._isZoomActive=r,e.setIconStatus("zoom",r?"emphasis":"normal");var l=new s(o(e.option),t,{include:["grid"]});i._brushController.setPanels(l.makePanelOpts(a,function(e){return e.xAxisDeclared&&!e.yAxisDeclared?"lineX":!e.xAxisDeclared&&e.yAxisDeclared?"lineY":"rect"})).enableBrush(!!r&&{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}})}var n=require("../../../echarts"),a=require("zrender/lib/core/util"),r=require("../../helper/BrushController"),s=require("../../helper/BrushTargetManager"),l=require("../../dataZoom/history"),u=require("../../helper/sliderMove"),c=require("../../../lang"),d=require("../featureManager");require("../../dataZoomSelect");var h=c.toolbox.dataZoom,m=a.each,p="\0_ec_\0toolbox-dataZoom_";e.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:a.clone(h.title)};var f=e.prototype;f.render=function(e,o,n,a){this.model=e,this.ecModel=o,this.api=n,i(e,o,this,a,n),t(e,o)},f.onclick=function(e,o,t){v[t].call(this)},f.remove=function(e,o){this._brushController.unmount()},f.dispose=function(e,o){this._brushController.dispose()};var v={zoom:function(){var e=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:e})},back:function(){this._dispatchZoomAction(l.pop(this.ecModel))}};f._onBrush=function(e,t){function i(e,o,t){var i=o.getAxis(e),r=i.model,s=function(e,o,t){var i;return t.eachComponent({mainType:"dataZoom",subType:"select"},function(t){t.getAxisModel(e,o.componentIndex)&&(i=t)}),i}(e,r,a),l=s.findRepresentativeAxisProxy(r).getMinMaxSpan();null==l.minValueSpan&&null==l.maxValueSpan||(t=u(0,t.slice(),i.scale.getExtent(),0,l.minValueSpan,l.maxValueSpan)),s&&(n[s.id]={dataZoomId:s.id,startValue:t[0],endValue:t[1]})}if(t.isEnd&&e.length){var n={},a=this.ecModel;this._brushController.updateCovers([]);new s(o(this.model.option),a,{include:["grid"]}).matchOutputRanges(e,a,function(e,o,t){if("cartesian2d"===t.type){var n=e.brushType;"rect"===n?(i("x",t,o[0]),i("y",t,o[1])):i({lineX:"x",lineY:"y"}[n],t,o)}}),l.push(a,n),this._dispatchZoomAction(n)}},f._dispatchZoomAction=function(e){var o=[];m(e,function(e,t){o.push(a.clone(e))}),o.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:o})},d.register("dataZoom",e),n.registerPreprocessor(function(e){function o(o,i){if(i){var n=o+"Index",r=i[n];null==r||"all"==r||a.isArray(r)||(r=!1===r||"none"===r?[]:[r]),function(o,t){var i=e[o];a.isArray(i)||(i=i?[i]:[]);m(i,t)}(o,function(e,i){if(null==r||"all"==r||-1!==a.indexOf(r,i)){var s={type:"select",$fromToolbox:!0,id:p+o+i};s[n]=i,t.push(s)}})}}if(e){var t=e.dataZoom||(e.dataZoom=[]);a.isArray(t)||(e.dataZoom=t=[t]);var i=e.toolbox;if(i&&(a.isArray(i)&&(i=i[0]),i&&i.feature)){var n=i.feature.dataZoom;o("xAxis",n),o("yAxis",n)}}});var x=e;module.exports=x;
},{"../../../echarts":14,"zrender/lib/core/util":113,"../../../lang":358,"../featureManager":359,"../../dataZoomSelect":372,"../../helper/BrushController":335,"../../dataZoom/history":373,"../../helper/BrushTargetManager":355,"../../helper/sliderMove":342}],190:[function(require,module,exports) {
function e(e){this.model=e}var r=require("../../../echarts"),t=require("../../dataZoom/history"),o=require("../../../lang"),i=require("../featureManager"),a=o.toolbox.restore;e.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:a.title};var n=e.prototype;n.onclick=function(e,r,o){t.clear(e),r.dispatchAction({type:"restore",from:this.uid})},i.register("restore",e),r.registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(e,r){r.resetOption("recreate")});var s=e;module.exports=s;
},{"../../../echarts":14,"../../dataZoom/history":373,"../../../lang":358,"../featureManager":359}],55:[function(require,module,exports) {
require("./toolbox/ToolboxModel"),require("./toolbox/ToolboxView"),require("./toolbox/feature/SaveAsImage"),require("./toolbox/feature/MagicType"),require("./toolbox/feature/DataView"),require("./toolbox/feature/DataZoom"),require("./toolbox/feature/Restore");
},{"./toolbox/ToolboxModel":184,"./toolbox/ToolboxView":185,"./toolbox/feature/SaveAsImage":186,"./toolbox/feature/MagicType":187,"./toolbox/feature/DataView":188,"./toolbox/feature/DataZoom":189,"./toolbox/feature/Restore":190}],417:[function(require,module,exports) {
function e(e){return t(e)}function r(){if(!c&&o){c=!0;var e=o.styleSheets;e.length<31?o.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):e[0].addRule(".zrvml","behavior:url(#default#VML)")}}var t,n=require("../core/env"),l="urn:schemas-microsoft-com:vml",a="undefined"==typeof window?null:window,c=!1,o=a&&a.document;if(o&&!n.canvasSupported)try{!o.namespaces.zrvml&&o.namespaces.add("zrvml",l),t=function(e){return o.createElement("<zrvml:"+e+' class="zrvml">')}}catch(e){t=function(e){return o.createElement("<"+e+' xmlns="'+l+'" class="zrvml">')}}exports.doc=o,exports.createNode=e,exports.initVML=r;
},{"../core/env":115}],288:[function(require,module,exports) {
var t=require("../core/env"),e=require("../core/vector"),i=e.applyTransform,r=require("../core/BoundingRect"),a=require("../tool/color"),o=require("../contain/text"),n=require("../graphic/helper/text"),s=require("../graphic/mixin/RectText"),l=require("../graphic/Displayable"),h=require("../graphic/Image"),c=require("../graphic/Text"),p=require("../graphic/Path"),d=require("../core/PathProxy"),f=require("../graphic/Gradient"),u=require("./core"),g=d.CMD,x=Math.round,v=Math.sqrt,m=Math.abs,y=Math.cos,_=Math.sin,w=Math.max;if(!t.canvasSupported){var T=",",M="progid:DXImageTransform.Microsoft",E=21600,R=E/2,b=1e5,k=1e3,z=function(t){t.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",t.coordsize=E+","+E,t.coordorigin="0,0"},S=function(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},q=function(t,e,i){return"rgb("+[t,e,i].join(",")+")"},N=function(t,e){e&&t&&e.parentNode!==t&&t.appendChild(e)},j=function(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)},C=function(t,e,i){return(parseFloat(t)||0)*b+(parseFloat(e)||0)*k+i},D=function(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t},A=function(t,e,i){var r=a.parse(e);i=+i,isNaN(i)&&(i=1),r&&(t.color=q(r[0],r[1],r[2]),t.opacity=i*r[3])},F=function(t){var e=a.parse(t);return[q(e[0],e[1],e[2]),e[3]]},V=function(t,e,r){var a=e.fill;if(null!=a)if(a instanceof f){var o,n=0,s=[0,0],l=0,h=1,c=r.getBoundingRect(),p=c.width,d=c.height;if("linear"===a.type){o="gradient";var u=r.transform,g=[a.x*p,a.y*d],x=[a.x2*p,a.y2*d];u&&(i(g,g,u),i(x,x,u));var v=x[0]-g[0],m=x[1]-g[1];(n=180*Math.atan2(v,m)/Math.PI)<0&&(n+=360),n<1e-6&&(n=0)}else{o="gradientradial";g=[a.x*p,a.y*d],u=r.transform;var y=r.scale,_=p,T=d;s=[(g[0]-c.x)/_,(g[1]-c.y)/T],u&&i(g,g,u),_/=y[0]*E,T/=y[1]*E;var M=w(_,T);l=0/M,h=2*a.r/M-l}var R=a.colorStops.slice();R.sort(function(t,e){return t.offset-e.offset});for(var b=R.length,k=[],z=[],S=0;S<b;S++){var q=R[S],N=F(q.color);z.push(q.offset*h+l+" "+N[0]),0!==S&&S!==b-1||k.push(N)}if(b>=2){var j=k[0][0],C=k[1][0],D=k[0][1]*e.opacity,V=k[1][1]*e.opacity;t.type=o,t.method="none",t.focus="100%",t.angle=n,t.color=j,t.color2=C,t.colors=z.join(","),t.opacity=V,t.opacity2=D}"radial"===o&&(t.focusposition=s.join(","))}else A(t,a,e.opacity)},I=function(t,e){null!=e.lineDash&&(t.dashstyle=e.lineDash.join(" ")),null==e.stroke||e.stroke instanceof f||A(t,e.stroke,e.opacity)},P=function(t,e,i,r){var a="fill"==e,o=t.getElementsByTagName(e)[0];null!=i[e]&&"none"!==i[e]&&(a||!a&&i.lineWidth)?(t[a?"filled":"stroked"]="true",i[e]instanceof f&&j(t,o),o||(o=u.createNode(e)),a?V(o,i,r):I(o,i),N(t,o)):(t[a?"filled":"stroked"]="false",j(t,o))},W=[[],[],[]],B=function(t,e){var r,a,o,n,s,l,h=g.M,c=g.C,p=g.L,d=g.A,f=g.Q,u=[],m=t.data,w=t.len();for(n=0;n<w;){switch(o=m[n++],a="",r=0,o){case h:a=" m ",r=1,s=m[n++],l=m[n++],W[0][0]=s,W[0][1]=l;break;case p:a=" l ",r=1,s=m[n++],l=m[n++],W[0][0]=s,W[0][1]=l;break;case f:case c:a=" c ",r=3;var M,b,k=m[n++],z=m[n++],S=m[n++],q=m[n++];o===f?(M=S,b=q,S=(S+2*k)/3,q=(q+2*z)/3,k=(s+2*k)/3,z=(l+2*z)/3):(M=m[n++],b=m[n++]),W[0][0]=k,W[0][1]=z,W[1][0]=S,W[1][1]=q,W[2][0]=M,W[2][1]=b,s=M,l=b;break;case d:var N=0,j=0,C=1,D=1,A=0;e&&(N=e[4],j=e[5],C=v(e[0]*e[0]+e[1]*e[1]),D=v(e[2]*e[2]+e[3]*e[3]),A=Math.atan2(-e[1]/D,e[0]/C));var F=m[n++],V=m[n++],I=m[n++],P=m[n++],B=m[n++]+A,H=m[n++]+B+A;n++;var L=m[n++],G=F+y(B)*I,O=V+_(B)*P,X=(k=F+y(H)*I,z=V+_(H)*P,L?" wa ":" at ");Math.abs(G-k)<1e-4&&(Math.abs(H-B)>.01?L&&(G+=270/E):Math.abs(O-V)<1e-4?L&&G<F||!L&&G>F?z-=270/E:z+=270/E:L&&O<V||!L&&O>V?k+=270/E:k-=270/E),u.push(X,x(((F-I)*C+N)*E-R),T,x(((V-P)*D+j)*E-R),T,x(((F+I)*C+N)*E-R),T,x(((V+P)*D+j)*E-R),T,x((G*C+N)*E-R),T,x((O*D+j)*E-R),T,x((k*C+N)*E-R),T,x((z*D+j)*E-R)),s=k,l=z;break;case g.R:var Y=W[0],Q=W[1];Y[0]=m[n++],Y[1]=m[n++],Q[0]=Y[0]+m[n++],Q[1]=Y[1]+m[n++],e&&(i(Y,Y,e),i(Q,Q,e)),Y[0]=x(Y[0]*E-R),Q[0]=x(Q[0]*E-R),Y[1]=x(Y[1]*E-R),Q[1]=x(Q[1]*E-R),u.push(" m ",Y[0],T,Y[1]," l ",Q[0],T,Y[1]," l ",Q[0],T,Q[1]," l ",Y[0],T,Q[1]);break;case g.Z:u.push(" x ")}if(r>0){u.push(a);for(var U=0;U<r;U++){var Z=W[U];e&&i(Z,Z,e),u.push(x(Z[0]*E-R),T,x(Z[1]*E-R),U<r-1?T:"")}}}return u.join("")};p.prototype.brushVML=function(t){var e=this.style,i=this._vmlEl;i||(i=u.createNode("shape"),z(i),this._vmlEl=i),P(i,"fill",e,this),P(i,"stroke",e,this);var r=this.transform,a=null!=r,o=i.getElementsByTagName("stroke")[0];if(o){var n=e.lineWidth;if(a&&!e.strokeNoScale){var s=r[0]*r[3]-r[1]*r[2];n*=v(m(s))}o.weight=n+"px"}var l=this.path||(this.path=new d);this.__dirtyPath&&(l.beginPath(),this.buildPath(l,this.shape),l.toStatic(),this.__dirtyPath=!1),i.path=B(l,this.transform),i.style.zIndex=C(this.zlevel,this.z,this.z2),N(t,i),null!=e.text?this.drawRectText(t,this.getBoundingRect()):this.removeRectText(t)},p.prototype.onRemove=function(t){j(t,this._vmlEl),this.removeRectText(t)},p.prototype.onAdd=function(t){N(t,this._vmlEl),this.appendRectText(t)};var H=function(t){return"object"==typeof t&&t.tagName&&"IMG"===t.tagName.toUpperCase()};h.prototype.brushVML=function(t){var e,r,a=this.style,o=a.image;if(H(o)){var n=o.src;if(n===this._imageSrc)e=this._imageWidth,r=this._imageHeight;else{var s=o.runtimeStyle,l=s.width,h=s.height;s.width="auto",s.height="auto",e=o.width,r=o.height,s.width=l,s.height=h,this._imageSrc=n,this._imageWidth=e,this._imageHeight=r}o=n}else o===this._imageSrc&&(e=this._imageWidth,r=this._imageHeight);if(o){var c=a.x||0,p=a.y||0,d=a.width,f=a.height,g=a.sWidth,m=a.sHeight,y=a.sx||0,_=a.sy||0,E=g&&m,R=this._vmlEl;R||(R=u.doc.createElement("div"),z(R),this._vmlEl=R);var b,k=R.style,S=!1,q=1,j=1;if(this.transform&&(b=this.transform,q=v(b[0]*b[0]+b[1]*b[1]),j=v(b[2]*b[2]+b[3]*b[3]),S=b[1]||b[2]),S){var D=[c,p],A=[c+d,p],F=[c,p+f],V=[c+d,p+f];i(D,D,b),i(A,A,b),i(F,F,b),i(V,V,b);var I=w(D[0],A[0],F[0],V[0]),P=w(D[1],A[1],F[1],V[1]),W=[];W.push("M11=",b[0]/q,T,"M12=",b[2]/j,T,"M21=",b[1]/q,T,"M22=",b[3]/j,T,"Dx=",x(c*q+b[4]),T,"Dy=",x(p*j+b[5])),k.padding="0 "+x(I)+"px "+x(P)+"px 0",k.filter=M+".Matrix("+W.join("")+", SizingMethod=clip)"}else b&&(c=c*q+b[4],p=p*j+b[5]),k.filter="",k.left=x(c)+"px",k.top=x(p)+"px";var B=this._imageEl,L=this._cropEl;B||(B=u.doc.createElement("div"),this._imageEl=B);var G=B.style;if(E){if(e&&r)G.width=x(q*e*d/g)+"px",G.height=x(j*r*f/m)+"px";else{var O=new Image,X=this;O.onload=function(){O.onload=null,e=O.width,r=O.height,G.width=x(q*e*d/g)+"px",G.height=x(j*r*f/m)+"px",X._imageWidth=e,X._imageHeight=r,X._imageSrc=o},O.src=o}L||((L=u.doc.createElement("div")).style.overflow="hidden",this._cropEl=L);var Y=L.style;Y.width=x((d+y*d/g)*q),Y.height=x((f+_*f/m)*j),Y.filter=M+".Matrix(Dx="+-y*d/g*q+",Dy="+-_*f/m*j+")",L.parentNode||R.appendChild(L),B.parentNode!=L&&L.appendChild(B)}else G.width=x(q*d)+"px",G.height=x(j*f)+"px",R.appendChild(B),L&&L.parentNode&&(R.removeChild(L),this._cropEl=null);var Q="",U=a.opacity;U<1&&(Q+=".Alpha(opacity="+x(100*U)+") "),Q+=M+".AlphaImageLoader(src="+o+", SizingMethod=scale)",G.filter=Q,R.style.zIndex=C(this.zlevel,this.z,this.z2),N(t,R),null!=a.text&&this.drawRectText(t,this.getBoundingRect())}},h.prototype.onRemove=function(t){j(t,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(t)},h.prototype.onAdd=function(t){N(t,this._vmlEl),this.appendRectText(t)};var L,G="normal",O={},X=0,Y=100,Q=document.createElement("div"),U=function(t){var e=O[t];if(!e){X>Y&&(X=0,O={});var i,r=Q.style;try{r.font=t,i=r.fontFamily.split(",")[0]}catch(t){}e={style:r.fontStyle||G,variant:r.fontVariant||G,weight:r.fontWeight||G,size:0|parseFloat(r.fontSize||12),family:i||"Microsoft YaHei"},O[t]=e,X++}return e};o.$override("measureText",function(t,e){var i=u.doc;L||((L=i.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",u.doc.body.appendChild(L));try{L.style.font=e}catch(t){}return L.innerHTML="",L.appendChild(i.createTextNode(t)),{width:L.offsetWidth}});for(var Z=new r,$=function(t,e,r,a){var s=this.style;this.__dirty&&n.normalizeTextStyle(s,!0);var l=s.text;if(null!=l&&(l+=""),l){if(s.rich){var h=o.parseRichText(l,s);l=[];for(var c=0;c<h.lines.length;c++){for(var p=h.lines[c].tokens,d=[],f=0;f<p.length;f++)d.push(p[f].text);l.push(d.join(""))}l=l.join("\n")}var g,v,m=s.textAlign,y=s.textVerticalAlign,_=U(s.font),w=_.style+" "+_.variant+" "+_.weight+" "+_.size+'px "'+_.family+'"';r=r||o.getBoundingRect(l,w,m,y);var M=this.transform;if(M&&!a&&(Z.copy(e),Z.applyTransform(M),e=Z),a)g=e.x,v=e.y;else{var E=s.textPosition,R=s.textDistance;if(E instanceof Array)g=e.x+D(E[0],e.width),v=e.y+D(E[1],e.height),m=m||"left";else{var b=o.adjustTextPositionOnRect(E,e,R);g=b.x,v=b.y,m=m||b.textAlign,y=y||b.textVerticalAlign}}g=o.adjustTextX(g,r.width,m),v=o.adjustTextY(v,r.height,y),v+=r.height/2;var k,q,j,A=u.createNode,F=this._textVmlEl;F?q=(k=(j=F.firstChild).nextSibling).nextSibling:(F=A("line"),k=A("path"),q=A("textpath"),j=A("skew"),q.style["v-text-align"]="left",z(F),k.textpathok=!0,q.on=!0,F.from="0 0",F.to="1000 0.05",N(F,j),N(F,k),N(F,q),this._textVmlEl=F);var V=[g,v],I=F.style;M&&a?(i(V,V,M),j.on=!0,j.matrix=M[0].toFixed(3)+T+M[2].toFixed(3)+T+M[1].toFixed(3)+T+M[3].toFixed(3)+",0,0",j.offset=(x(V[0])||0)+","+(x(V[1])||0),j.origin="0 0",I.left="0px",I.top="0px"):(j.on=!1,I.left=x(g)+"px",I.top=x(v)+"px"),q.string=S(l);try{q.style.font=w}catch(t){}P(F,"fill",{fill:s.textFill,opacity:s.opacity},this),P(F,"stroke",{stroke:s.textStroke,opacity:s.opacity,lineDash:s.lineDash},this),F.style.zIndex=C(this.zlevel,this.z,this.z2),N(t,F)}},J=function(t){j(t,this._textVmlEl),this._textVmlEl=null},K=function(t){N(t,this._textVmlEl)},tt=[s,l,h,p,c],et=0;et<tt.length;et++){var it=tt[et].prototype;it.drawRectText=$,it.removeRectText=J,it.appendRectText=K}c.prototype.brushVML=function(t){var e=this.style;null!=e.text?this.drawRectText(t,{x:e.x||0,y:e.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(t)},c.prototype.onRemove=function(t){this.removeRectText(t)},c.prototype.onAdd=function(t){this.appendRectText(t)}}
},{"./core":417,"../core/env":115,"../core/vector":112,"../core/BoundingRect":256,"../tool/color":114,"../contain/text":287,"../graphic/Displayable":405,"../graphic/Image":264,"../graphic/Text":267,"../graphic/Path":263,"../core/PathProxy":402,"../graphic/Gradient":376,"../graphic/helper/text":414,"../graphic/mixin/RectText":422}],289:[function(require,module,exports) {
function t(t){return parseInt(t,10)}function e(t,e){r.initVML(),this.root=t,this.storage=e;var i=document.createElement("div"),o=document.createElement("div");i.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",o.style.cssText="position:absolute;left:0;top:0;",t.appendChild(i),this._vmlRoot=o,this._vmlViewport=i,this.resize();var n=e.delFromStorage,s=e.addToStorage;e.delFromStorage=function(t){n.call(e,t),t&&t.onRemove&&t.onRemove(o)},e.addToStorage=function(t){t.onAdd&&t.onAdd(o),s.call(e,t)},this._firstPaint=!0}function i(t){return function(){o('In IE8.0 VML mode painter not support method "'+t+'"')}}var o=require("../core/log"),r=require("./core"),n=require("../core/util"),s=n.each;e.prototype={constructor:e,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0,!0);this._paintList(t)},_paintList:function(t){for(var e=this._vmlRoot,i=0;i<t.length;i++){var o=t[i];o.invisible||o.ignore?(o.__alreadyNotVisible||o.onRemove(e),o.__alreadyNotVisible=!0):(o.__alreadyNotVisible&&o.onAdd(e),o.__alreadyNotVisible=!1,o.__dirty&&(o.beforeBrush&&o.beforeBrush(),(o.brushVML||o.brush).call(o,e),o.afterBrush&&o.afterBrush())),o.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(e),this._firstPaint=!1)},resize:function(t,e){t=null==t?this._getWidth():t,e=null==e?this._getHeight():e;if(this._width!=t||this._height!=e){this._width=t,this._height=e;var i=this._vmlViewport.style;i.width=t+"px",i.height=e+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var e=this.root,i=e.currentStyle;return(e.clientWidth||t(i.width))-t(i.paddingLeft)-t(i.paddingRight)|0},_getHeight:function(){var e=this.root,i=e.currentStyle;return(e.clientHeight||t(i.height))-t(i.paddingTop)-t(i.paddingBottom)|0}},s(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){e.prototype[t]=i(t)});var h=e;module.exports=h;
},{"../core/log":416,"./core":417,"../core/util":113}],56:[function(require,module,exports) {
require("./graphic");var r=require("../zrender"),e=r.registerPainter,i=require("./Painter");e("vml",i);
},{"../zrender":110,"./graphic":288,"./Painter":289}],425:[function(require,module,exports) {
function e(e){return document.createElementNS(t,e)}var t="http://www.w3.org/2000/svg";exports.createElement=e;
},{}],290:[function(require,module,exports) {
function t(t){return m(1e4*t)/1e4}function e(t){return t<M&&t>-M}function r(t,e){var r=e?t.textFill:t.fill;return null!=r&&r!==y}function i(t,e){var r=e?t.textStroke:t.stroke;return null!=r&&r!==y}function n(t,e){e&&a(t,"transform","matrix("+_.call(e,",")+")")}function a(t,e,r){(!r||"linear"!==r.type&&"radial"!==r.type)&&t.setAttribute(e,r)}function o(t,e,r){t.setAttributeNS("http://www.w3.org/1999/xlink",e,r)}function l(t,e,n){if(r(e,n)){var o=n?e.textFill:e.fill;o="transparent"===o?y:o,"none"!==t.getAttribute("clip-path")&&o===y&&(o="rgba(0, 0, 0, 0.002)"),a(t,"fill",o),a(t,"fill-opacity",e.opacity)}else a(t,"fill",y);if(i(e,n)){var l=n?e.textStroke:e.stroke;a(t,"stroke",l="transparent"===l?y:l);a(t,"stroke-width",(n?e.textStrokeWidth:e.lineWidth)/(e.strokeNoScale?e.host.getLineScale():1)),a(t,"paint-order","stroke"),a(t,"stroke-opacity",e.opacity);e.lineDash?(a(t,"stroke-dasharray",e.lineDash.join(",")),a(t,"stroke-dashoffset",m(e.lineDashOffset||0))):a(t,"stroke-dasharray",""),e.lineCap&&a(t,"stroke-linecap",e.lineCap),e.lineJoin&&a(t,"stroke-linejoin",e.lineJoin),e.miterLimit&&a(t,"stroke-miterlimit",e.miterLimit)}else a(t,"stroke",y)}function s(r){for(var i=[],n=r.data,a=r.len(),o=0;o<a;){var l="",s=0;switch(n[o++]){case v.M:l="M",s=2;break;case v.L:l="L",s=2;break;case v.Q:l="Q",s=4;break;case v.C:l="C",s=6;break;case v.A:var h=n[o++],f=n[o++],c=n[o++],x=n[o++],u=n[o++],g=n[o++],p=n[o++],d=n[o++],_=Math.abs(g),y=e(_%S)&&!e(_),M=!1;M=_>=S||!e(_)&&(g>-L&&g<0||g>L)==!!d;var A=t(h+c*b(u)),T=t(f+x*k(u));y&&(g=d?S-1e-4:1e-4-S,M=!0,9===o&&i.push("M",A,T));var w=t(h+c*b(u+g)),C=t(f+x*k(u+g));i.push("A",t(c),t(x),m(p*P),+M,+d,w,C);break;case v.Z:l="Z";break;case v.R:w=t(n[o++]),C=t(n[o++]);var E=t(n[o++]),R=t(n[o++]);i.push("M",w,C,"L",w+E,C,"L",w+E,C+R,"L",w,C+R,"L",w,C)}l&&i.push(l);for(var F=0;F<s;F++)i.push(t(n[o++]))}return i.join(" ")}function h(t){return"middle"===t?"middle":"bottom"===t?"baseline":"hanging"}var f=require("./core"),c=f.createElement,x=require("../core/PathProxy"),u=require("../core/BoundingRect"),g=require("../contain/text"),p=require("../graphic/helper/text"),d=require("../graphic/Text"),v=x.CMD,_=Array.prototype.join,y="none",m=Math.round,k=Math.sin,b=Math.cos,L=Math.PI,S=2*Math.PI,P=180/L,M=1e-4,A={};A.brush=function(t){var e=t.style,r=t.__svgEl;r||(r=c("path"),t.__svgEl=r),t.path||t.createPathProxy();var i=t.path;if(t.__dirtyPath){i.beginPath(),t.buildPath(i,t.shape),t.__dirtyPath=!1;var o=s(i);o.indexOf("NaN")<0&&a(r,"d",o)}l(r,e),n(r,t.transform),null!=e.text&&E(t,t.getBoundingRect())};var T={};T.brush=function(t){var e=t.style,r=e.image;if(r instanceof HTMLImageElement){r=r.src}if(r){var i=e.x||0,l=e.y||0,s=e.width,h=e.height,f=t.__svgEl;f||(f=c("image"),t.__svgEl=f),r!==t.__imageSrc&&(o(f,"href",r),t.__imageSrc=r),a(f,"width",s),a(f,"height",h),a(f,"x",i),a(f,"y",l),n(f,t.transform),null!=e.text&&E(t,t.getBoundingRect())}};var w={},C=new u,E=function(t,e,r){var i=t.style;t.__dirty&&p.normalizeTextStyle(i,!0);var o=i.text;if(null!=o){o+="";var s=t.__textSvgEl;if(s||(s=c("text"),t.__textSvgEl=s),l(s,i,!0),t instanceof d||t.style.transformText)n(s,t.transform);else if(t.transform)C.copy(e),C.applyTransform(t.transform),e=C;else{var f=t.transformCoordToGlobal(e.x,e.y);e.x=f[0],e.y=f[1]}var x,u,v=i.textPosition,_=i.textDistance,y=i.textAlign||"left";"number"==typeof i.fontSize&&(i.fontSize+="px");var m=i.font||[i.fontStyle||"",i.fontWeight||"",i.fontSize||"",i.fontFamily||""].join(" ")||g.DEFAULT_FONT,k=h(i.textVerticalAlign),b=(r=g.getBoundingRect(o,m,y,k)).lineHeight;if(v instanceof Array)x=e.x+v[0],u=e.y+v[1];else{var L=g.adjustTextPositionOnRect(v,e,_);x=L.x,u=L.y,k=h(L.textVerticalAlign),y=L.textAlign}a(s,"alignment-baseline",k),m&&(s.style.font=m);var S=i.textPadding;a(s,"x",x),a(s,"y",u);var P=o.split("\n"),M=P.length,A=y;"left"===A?(A="start",S&&(x+=S[3])):"right"===A?(A="end",S&&(x-=S[1])):"center"===A&&(A="middle",S&&(x+=(S[3]-S[1])/2));var T=0;if("baseline"===k?(T=-r.height+b,S&&(T-=S[2])):"middle"===k?(T=(-r.height+b)/2,S&&(u+=(S[0]-S[2])/2)):S&&(T+=S[0]),t.__text!==o||t.__textFont!==m){var w=t.__tspanList||[];t.__tspanList=w;for(var E=0;E<M;E++){(F=w[E])?F.innerHTML="":(F=w[E]=c("tspan"),s.appendChild(F),a(F,"alignment-baseline",k),a(F,"text-anchor",A)),a(F,"x",x),a(F,"y",u+E*b+T),F.appendChild(document.createTextNode(P[E]))}for(;E<w.length;E++)s.removeChild(w[E]);w.length=M,t.__text=o,t.__textFont=m}else if(t.__tspanList.length){var R=t.__tspanList.length;for(E=0;E<R;++E){var F;(F=t.__tspanList[E])&&(a(F,"x",x),a(F,"y",u+E*b+T))}}}};w.drawRectText=E,w.brush=function(t){var e=t.style;null!=e.text&&(e.textPosition=[0,0],E(t,{x:e.x||0,y:e.y||0,width:0,height:0},t.getBoundingRect()))},exports.path=A,exports.image=T,exports.text=w;
},{"./core":425,"../core/PathProxy":402,"../core/BoundingRect":256,"../contain/text":287,"../graphic/Text":267,"../graphic/helper/text":414}],430:[function(require,module,exports) {
function n(){}function o(n,o,e,t){for(var r=0,s=o.length,u=0,c=0;r<s;r++){var i=o[r];if(i.removed){for(f=[],d=c;d<c+i.count;d++)f.push(d);i.indices=f,c+=i.count}else{for(var f=[],d=u;d<u+i.count;d++)f.push(d);i.indices=f,u+=i.count,i.added||(c+=i.count)}}return o}function e(n){return{newPos:n.newPos,components:n.components.slice(0)}}function t(n,o,e){return r.diff(n,o,e)}n.prototype={diff:function(n,t,r){function s(){for(var r=-1*f;r<=f;r+=2){var s,d=a[r-1],h=a[r+1],m=(h?h.newPos:0)-r;d&&(a[r-1]=void 0);var p=d&&d.newPos+1<c,v=h&&0<=m&&m<i;if(p||v){if(!p||v&&d.newPos<h.newPos?(s=e(h),u.pushComponent(s.components,void 0,!0)):((s=d).newPos++,u.pushComponent(s.components,!0,void 0)),m=u.extractCommon(s,t,n,r),s.newPos+1>=c&&m+1>=i)return o(u,s.components,t,n);a[r]=s}else a[r]=void 0}f++}r||(r=function(n,o){return n===o}),this.equals=r;var u=this;n=n.slice();var c=(t=t.slice()).length,i=n.length,f=1,d=c+i,a=[{newPos:-1,components:[]}],h=this.extractCommon(a[0],t,n,0);if(a[0].newPos+1>=c&&h+1>=i){for(var m=[],p=0;p<t.length;p++)m.push(p);return[{indices:m,count:t.length}]}for(;f<=d;){var v=s();if(v)return v}},pushComponent:function(n,o,e){var t=n[n.length-1];t&&t.added===o&&t.removed===e?n[n.length-1]={count:t.count+1,added:o,removed:e}:n.push({count:1,added:o,removed:e})},extractCommon:function(n,o,e,t){for(var r=o.length,s=e.length,u=n.newPos,c=u-t,i=0;u+1<r&&c+1<s&&this.equals(o[u+1],e[c+1]);)u++,c++,i++;return i&&n.components.push({count:i}),n.newPos=u,c},tokenize:function(n){return n.slice()},join:function(n){return n.slice()}};var r=new n;module.exports=t;
},{}],465:[function(require,module,exports) {
function e(e,t,r){this._svgRoot=e,this._tagNames="string"==typeof t?[t]:t,this._markLabel=r,this.nextId=0}var t=require("../core"),r=t.createElement,o=require("../../core/util"),n=require("../../graphic/Path"),i=require("../../graphic/Image"),a=require("../../graphic/Text"),s=require("../graphic"),c=s.path,f=s.image,u=s.text,g="0",h="1";e.prototype.createElement=r,e.prototype.getDefs=function(e){var t=this._svgRoot,r=this._svgRoot.getElementsByTagName("defs");return 0===r.length?e?((r=t.insertBefore(this.createElement("defs"),t.firstChild)).contains||(r.contains=function(e){var t=r.children;if(!t)return!1;for(var o=t.length-1;o>=0;--o)if(t[o]===e)return!0;return!1}),r):null:r[0]},e.prototype.update=function(e,t){if(e){var r=this.getDefs(!1);if(e._dom&&r.contains(e._dom))"function"==typeof t&&t();else{var o=this.add(e);o&&(e._dom=o)}}},e.prototype.addDom=function(e){this.getDefs(!0).appendChild(e)},e.prototype.removeDom=function(e){this.getDefs(!1).removeChild(e._dom)},e.prototype.getDoms=function(){var e=this.getDefs(!1);if(!e)return[];var t=[];return o.each(this._tagNames,function(r){var o=e.getElementsByTagName(r);t=t.concat([].slice.call(o))}),t},e.prototype.markAllUnused=function(){var e=this.getDoms(),t=this;o.each(e,function(e){e[t._markLabel]=g})},e.prototype.markUsed=function(e){e&&(e[this._markLabel]=h)},e.prototype.removeUnused=function(){var e=this.getDefs(!1);if(e){var t=this.getDoms(),r=this;o.each(t,function(t){t[r._markLabel]!==h&&e.removeChild(t)})}},e.prototype.getSvgProxy=function(e){return e instanceof n?c:e instanceof i?f:e instanceof a?u:c},e.prototype.getTextSvgElement=function(e){return e.__textSvgEl},e.prototype.getSvgElement=function(e){return e.__svgEl};var p=e;module.exports=p;
},{"../../core/util":113,"../core":425,"../../graphic/Path":263,"../../graphic/Image":264,"../../graphic/Text":267,"../graphic":290}],431:[function(require,module,exports) {
function t(t){e.call(this,t,["linearGradient","radialGradient"],"__gradient_in_use__")}var e=require("./Definable"),r=require("../../core/util"),i=require("../../core/log");r.inherits(t,e),t.prototype.addWithoutUpdate=function(t,e){if(e&&e.style){var i=this;r.each(["fill","stroke"],function(r){if(e.style[r]&&("linear"===e.style[r].type||"radial"===e.style[r].type)){var a,o=e.style[r],d=i.getDefs(!0);o._dom?(a=o._dom,d.contains(o._dom)||i.addDom(a)):a=i.add(o),i.markUsed(e);var l=a.getAttribute("id");t.setAttribute(r,"url(#"+l+")")}})}},t.prototype.add=function(t){var e;if("linear"===t.type)e=this.createElement("linearGradient");else{if("radial"!==t.type)return i("Illegal gradient type."),null;e=this.createElement("radialGradient")}return t.id=t.id||this.nextId++,e.setAttribute("id","zr-gradient-"+t.id),this.updateDom(t,e),this.addDom(e),e},t.prototype.update=function(t){var r=this;e.prototype.update.call(this,t,function(){var e=t.type,i=t._dom.tagName;"linear"===e&&"linearGradient"===i||"radial"===e&&"radialGradient"===i?r.updateDom(t,t._dom):(r.removeDom(t),r.add(t))})},t.prototype.updateDom=function(t,e){if("linear"===t.type)e.setAttribute("x1",t.x),e.setAttribute("y1",t.y),e.setAttribute("x2",t.x2),e.setAttribute("y2",t.y2);else{if("radial"!==t.type)return void i("Illegal gradient type.");e.setAttribute("cx",t.x),e.setAttribute("cy",t.y),e.setAttribute("r",t.r)}t.global?e.setAttribute("gradientUnits","userSpaceOnUse"):e.setAttribute("gradientUnits","objectBoundingBox"),e.innerHTML="";for(var r=t.colorStops,a=0,o=r.length;a<o;++a){var d=this.createElement("stop");d.setAttribute("offset",100*r[a].offset+"%"),d.setAttribute("stop-color",r[a].color),e.appendChild(d)}t._dom=e},t.prototype.markUsed=function(t){if(t.style){var r=t.style.fill;r&&r._dom&&e.prototype.markUsed.call(this,r._dom),(r=t.style.stroke)&&r._dom&&e.prototype.markUsed.call(this,r._dom)}};var a=t;module.exports=a;
},{"../../core/util":113,"../../core/log":416,"./Definable":465}],432:[function(require,module,exports) {
function t(t){e.call(this,t,"clipPath","__clippath_in_use__")}var e=require("./Definable"),r=require("../../core/util"),i=require("../../core/matrix");r.inherits(t,e),t.prototype.update=function(t){var e=this.getSvgElement(t);e&&this.updateDom(e,t.__clipPaths,!1);var r=this.getTextSvgElement(t);r&&this.updateDom(r,t.__clipPaths,!0),this.markUsed(t)},t.prototype.updateDom=function(t,e,r){if(e&&e.length>0){var a,s,o=this.getDefs(!0),n=e[0],p=r?"_textDom":"_dom";n[p]?(s=n[p].getAttribute("id"),a=n[p],o.contains(a)||o.appendChild(a)):(s="zr-clip-"+this.nextId,++this.nextId,(a=this.createElement("clipPath")).setAttribute("id",s),o.appendChild(a),n[p]=a);var l=this.getSvgProxy(n);if(n.transform&&n.parent.invTransform&&!r){var h=Array.prototype.slice.call(n.transform);i.mul(n.transform,n.parent.invTransform,n.transform),l.brush(n),n.transform=h}else l.brush(n);var c=this.getSvgElement(n);a.appendChild(c.cloneNode()),t.setAttribute("clip-path","url(#"+s+")"),e.length>1&&this.updateDom(a,e.slice(1),r)}else t&&t.setAttribute("clip-path","none")},t.prototype.markUsed=function(t){var i=this;t.__clipPaths&&t.__clipPaths.length>0&&r.each(t.__clipPaths,function(t){t._dom&&e.prototype.markUsed.call(i,t._dom),t._textDom&&e.prototype.markUsed.call(i,t._textDom)})};var a=t;module.exports=a;
},{"./Definable":465,"../../core/util":113,"../../core/matrix":111}],291:[function(require,module,exports) {
function t(t){return parseInt(t,10)}function e(t){return t instanceof c?M:t instanceof v?b:t instanceof _?x:M}function i(t,e){return e&&t&&e.parentNode!==t}function r(t,e,r){if(i(t,e)&&r){var n=r.nextSibling;n?t.insertBefore(e,n):t.appendChild(e)}}function n(t,e){if(i(t,e)){var r=t.firstChild;r?t.insertBefore(e,r):t.appendChild(e)}}function a(t,e){i(t,e)&&t.appendChild(e)}function s(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)}function o(t){return t.__textSvgEl}function h(t){return t.__svgEl}function u(t){return function(){p('In SVG mode painter not support method "'+t+'"')}}var d=require("./core"),g=d.createElement,l=require("../core/util"),f=l.each,p=require("../core/log"),c=require("../graphic/Path"),v=require("../graphic/Image"),_=require("../graphic/Text"),y=require("../core/arrayDiff2"),m=require("./helper/GradientManager"),w=require("./helper/ClippathManager"),L=require("./graphic"),M=L.path,b=L.image,x=L.text,R=function(t,e,i){this.root=t,this.storage=e,this._opts=i=l.extend({},i||{});var r=g("svg");r.setAttribute("xmlns","http://www.w3.org/2000/svg"),r.setAttribute("version","1.1"),r.setAttribute("baseProfile","full"),r.style["user-select"]="none",r.style.cssText="position:absolute;left:0;top:0;",this.gradientManager=new m(r),this.clipPathManager=new w(r);var n=document.createElement("div");n.style.cssText="overflow:hidden;position:relative",this._svgRoot=r,this._viewport=n,t.appendChild(n),n.appendChild(r),this.resize(i.width,i.height),this._visibleList=[]};R.prototype={constructor:R,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0);this._paintList(t)},_paintList:function(t){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused();var i,a=this._svgRoot,u=this._visibleList,d=t.length,g=[];for(i=0;i<d;i++){var l=e(w=t[i]);w.invisible||(w.__dirty&&(l&&l.brush(w),this.clipPathManager.update(w),w.style&&(this.gradientManager.update(w.style.fill),this.gradientManager.update(w.style.stroke)),w.__dirty=!1),g.push(w))}var f,p=y(u,g);for(i=0;i<p.length;i++){if((m=p[i]).removed)for(var c=0;c<m.count;c++){var v=h(w=u[m.indices[c]]),_=o(w);s(a,v),s(a,_)}}for(i=0;i<p.length;i++){var m;if((m=p[i]).added)for(c=0;c<m.count;c++){v=h(w=g[m.indices[c]]),_=o(w);f?r(a,v,f):n(a,v),v?r(a,_,v):f?r(a,_,f):n(a,_),r(a,_,v),f=_||v||f,this.gradientManager.addWithoutUpdate(v,w),this.clipPathManager.markUsed(w)}else if(!m.removed)for(c=0;c<m.count;c++){var w;f=v=o(w=g[m.indices[c]])||h(w)||f,this.gradientManager.markUsed(w),this.gradientManager.addWithoutUpdate(v,w),this.clipPathManager.markUsed(w)}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this._visibleList=g},_getDefs:function(t){var e=this._svgRoot;if(0===(i=this._svgRoot.getElementsByTagName("defs")).length){if(t){var i;return(i=e.insertBefore(g("defs"),e.firstChild)).contains||(i.contains=function(t){var e=i.children;if(!e)return!1;for(var r=e.length-1;r>=0;--r)if(e[r]===t)return!0;return!1}),i}return null}return i[0]},resize:function(t,e){var i=this._viewport;i.style.display="none";var r=this._opts;if(null!=t&&(r.width=t),null!=e&&(r.height=e),t=this._getSize(0),e=this._getSize(1),i.style.display="",this._width!==t&&this._height!==e){this._width=t,this._height=e;var n=i.style;n.width=t+"px",n.height=e+"px";var a=this._svgRoot;a.setAttribute("width",t),a.setAttribute("height",e)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var i=this._opts,r=["width","height"][e],n=["clientWidth","clientHeight"][e],a=["paddingLeft","paddingTop"][e],s=["paddingRight","paddingBottom"][e];if(null!=i[r]&&"auto"!==i[r])return parseFloat(i[r]);var o=this.root,h=document.defaultView.getComputedStyle(o);return(o[n]||t(h[r])||t(o.style[r]))-(t(h[a])||0)-(t(h[s])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToSvg:function(){this.refresh();var t=this._svgRoot.outerHTML;return"data:img/svg+xml;utf-8,"+unescape(t)}},f(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){R.prototype[t]=u(t)});var T=R;module.exports=T;
},{"./core":425,"../graphic/Text":267,"./graphic":290,"../core/util":113,"../core/log":416,"../graphic/Path":263,"../graphic/Image":264,"../core/arrayDiff2":430,"./helper/GradientManager":431,"./helper/ClippathManager":432}],57:[function(require,module,exports) {
require("./graphic");var r=require("../zrender"),e=r.registerPainter,i=require("./Painter");e("svg",i);
},{"../zrender":110,"./graphic":290,"./Painter":291}],4:[function(require,module,exports) {
var e=require("./lib/echarts");!function(){for(var r in e){if(null==e||!e.hasOwnProperty(r)||"default"===r||"__esModule"===r)return;exports[r]=e[r]}}();var r=require("./lib/export");!function(){for(var e in r){if(null==r||!r.hasOwnProperty(e)||"default"===e||"__esModule"===e)return;exports[e]=r[e]}}(),require("./lib/chart/line"),require("./lib/chart/bar"),require("./lib/chart/pie"),require("./lib/chart/scatter"),require("./lib/chart/radar"),require("./lib/chart/map"),require("./lib/chart/tree"),require("./lib/chart/treemap"),require("./lib/chart/graph"),require("./lib/chart/gauge"),require("./lib/chart/funnel"),require("./lib/chart/parallel"),require("./lib/chart/sankey"),require("./lib/chart/boxplot"),require("./lib/chart/candlestick"),require("./lib/chart/effectScatter"),require("./lib/chart/lines"),require("./lib/chart/heatmap"),require("./lib/chart/pictorialBar"),require("./lib/chart/themeRiver"),require("./lib/chart/custom"),require("./lib/component/graphic"),require("./lib/component/grid"),require("./lib/component/legendScroll"),require("./lib/component/tooltip"),require("./lib/component/axisPointer"),require("./lib/component/polar"),require("./lib/component/geo"),require("./lib/component/parallel"),require("./lib/component/singleAxis"),require("./lib/component/brush"),require("./lib/component/calendar"),require("./lib/component/title"),require("./lib/component/dataZoom"),require("./lib/component/visualMap"),require("./lib/component/markPoint"),require("./lib/component/markLine"),require("./lib/component/markArea"),require("./lib/component/timeline"),require("./lib/component/toolbox"),require("zrender/lib/vml/vml"),require("zrender/lib/svg/svg");
},{"./lib/echarts":14,"./lib/export":15,"./lib/chart/line":16,"./lib/chart/bar":17,"./lib/chart/pie":18,"./lib/chart/scatter":19,"./lib/chart/radar":20,"./lib/chart/map":21,"./lib/chart/tree":22,"./lib/chart/treemap":23,"./lib/chart/graph":24,"./lib/chart/gauge":25,"./lib/chart/funnel":26,"./lib/chart/parallel":27,"./lib/chart/sankey":28,"./lib/chart/boxplot":29,"./lib/chart/candlestick":30,"./lib/chart/effectScatter":31,"./lib/chart/lines":32,"./lib/chart/heatmap":33,"./lib/chart/pictorialBar":34,"./lib/chart/themeRiver":35,"./lib/chart/custom":36,"./lib/component/graphic":37,"./lib/component/grid":38,"./lib/component/legendScroll":39,"./lib/component/tooltip":40,"./lib/component/axisPointer":41,"./lib/component/polar":42,"./lib/component/geo":43,"./lib/component/parallel":44,"./lib/component/singleAxis":45,"./lib/component/brush":46,"./lib/component/calendar":47,"./lib/component/title":48,"./lib/component/dataZoom":49,"./lib/component/visualMap":50,"./lib/component/markPoint":51,"./lib/component/markLine":52,"./lib/component/markArea":53,"./lib/component/timeline":54,"./lib/component/toolbox":55,"zrender/lib/vml/vml":56,"zrender/lib/svg/svg":57}],10:[function(require,module,exports) {
"use strict";function e(e){return"string"==typeof e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e,module.exports=exports.default;
},{}],12:[function(require,module,exports) {
"use strict";function e(e){return void 0===e||null===e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e,module.exports=exports.default;
},{}],8:[function(require,module,exports) {
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,u.default)(e)?t:(0,o.default)(e)?e:String(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var r=require("../object/is_nil"),u=e(r),i=require("../../is_string"),o=e(i);module.exports=exports.default;
},{"../../is_string":10,"../object/is_nil":12}],5:[function(require,module,exports) {
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){return(0,o.default)(e,"").toLowerCase()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var r=require("./helper/string/coerce_to_string"),o=e(r);module.exports=exports.default;
},{"./helper/string/coerce_to_string":8}],11:[function(require,module,exports) {
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,o.default)(e)?t:Boolean(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var r=require("../object/is_nil"),o=e(r);module.exports=exports.default;
},{"../object/is_nil":12}],7:[function(require,module,exports) {
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,r){var t=(0,s.default)(e),u=(0,o.default)(r);return""===t?"":(u&&(t=t.toLowerCase()),t.substr(0,1).toUpperCase()+t.substr(1))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var t=require("./helper/boolean/coerce_to_boolean"),o=e(t),u=require("./helper/string/coerce_to_string"),s=e(u);module.exports=exports.default;
},{"./helper/string/coerce_to_string":8,"./helper/boolean/coerce_to_boolean":11}],13:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var E=exports.digit="\\d",e=exports.whitespace="\\s\\uFEFF\\xA0",u=exports.highSurrogate="\\uD800-\\uDBFF",R=exports.lowSurrogate="\\uDC00-\\uDFFF",F=exports.diacriticalMark="\\u0300-\\u036F\\u1AB0-\\u1AFF\\u1DC0-\\u1DFF\\u20D0-\\u20FF\\uFE20-\\uFE2F",r=exports.base="\\0-\\u02FF\\u0370-\\u1AAF\\u1B00-\\u1DBF\\u1E00-\\u20CF\\u2100-\\uD7FF\\uE000-\\uFE1F\\uFE30-\\uFFFF",p=exports.REGEXP_COMBINING_MARKS=new RegExp("(["+r+"]|["+u+"]["+R+"]|["+u+"](?!["+R+"])|(?:[^"+u+"]|^)["+R+"])(["+F+"]+)","g"),t=exports.REGEXP_SURROGATE_PAIRS=new RegExp("(["+u+"])(["+R+"])","g"),x=exports.REGEXP_UNICODE_CHARACTER=new RegExp("((?:["+r+"]|["+u+"]["+R+"]|["+u+"](?!["+R+"])|(?:[^"+u+"]|^)["+R+"])(?:["+F+"]+))|(["+u+"]["+R+"])|([\\n\\r\\u2028\\u2029])|(.)","g"),s=exports.REGEXP_WHITESPACE=new RegExp("["+e+"]"),_=exports.REGEXP_TRIM_LEFT=new RegExp("^["+e+"]+"),o=exports.REGEXP_TRIM_RIGHT=new RegExp("["+e+"]+$"),A=exports.REGEXP_DIGIT=new RegExp("^"+E+"+$"),g=exports.REGEXP_SPECIAL_CHARACTERS=/[-[\]{}()*+!<=:?.\/\\^$|#,]/g,G=exports.REGEXP_NON_LATIN=/[^A-Za-z0-9]/g,I=exports.REGEXP_HTML_SPECIAL_CHARACTERS=/[<>&"'`]/g,P=exports.REGEXP_CONVERSION_SPECIFICATION=/(%{1,2})(?:(\d+)\$)?(\+)?([ 0]|'.{1})?(-)?(\d+)?(?:\.(\d+))?([bcdiouxXeEfgGs])?/g,C=exports.REGEXP_TRAILING_ZEROS=/\.?0+$/g,T=exports.REGEXP_FLAGS=/[gimuy]*$/,S=exports.REGEXP_TAG_LIST=/<([A-Za-z0-9]+)>/g;
},{}],9:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.REGEXP_EXTENDED_ASCII=exports.REGEXP_ALPHA_DIGIT=exports.REGEXP_ALPHA=exports.REGEXP_LATIN_WORD=exports.REGEXP_WORD=void 0;var u=require("./const"),e="\\u2000-\\u206F",x="\\x00-\\x2F\\x3A-\\x40\\x5B-\\x60\\x7b-\\xBF\\xD7\\xF7",a="\\u2700-\\u27BF",D="a-z\\xB5\\xDF-\\xF6\\xF8-\\xFF\\u0101\\u0103\\u0105\\u0107\\u0109\\u010B\\u010D\\u010F\\u0111\\u0113\\u0115\\u0117\\u0119\\u011B\\u011D\\u011F\\u0121\\u0123\\u0125\\u0127\\u0129\\u012B\\u012D\\u012F\\u0131\\u0133\\u0135\\u0137\\u0138\\u013A\\u013C\\u013E\\u0140\\u0142\\u0144\\u0146\\u0148\\u0149\\u014B\\u014D\\u014F\\u0151\\u0153\\u0155\\u0157\\u0159\\u015B\\u015D\\u015F\\u0161\\u0163\\u0165\\u0167\\u0169\\u016B\\u016D\\u016F\\u0171\\u0173\\u0175\\u0177\\u017A\\u017C\\u017E-\\u0180\\u0183\\u0185\\u0188\\u018C\\u018D\\u0192\\u0195\\u0199-\\u019B\\u019E\\u01A1\\u01A3\\u01A5\\u01A8\\u01AA\\u01AB\\u01AD\\u01B0\\u01B4\\u01B6\\u01B9\\u01BA\\u01BD-\\u01BF\\u01C6\\u01C9\\u01CC\\u01CE\\u01D0\\u01D2\\u01D4\\u01D6\\u01D8\\u01DA\\u01DC\\u01DD\\u01DF\\u01E1\\u01E3\\u01E5\\u01E7\\u01E9\\u01EB\\u01ED\\u01EF\\u01F0\\u01F3\\u01F5\\u01F9\\u01FB\\u01FD\\u01FF\\u0201\\u0203\\u0205\\u0207\\u0209\\u020B\\u020D\\u020F\\u0211\\u0213\\u0215\\u0217\\u0219\\u021B\\u021D\\u021F\\u0221\\u0223\\u0225\\u0227\\u0229\\u022B\\u022D\\u022F\\u0231\\u0233-\\u0239\\u023C\\u023F\\u0240\\u0242\\u0247\\u0249\\u024B\\u024D\\u024F",F="\\x41-\\x5a\\xc0-\\xd6\\xd8-\\xde\\u0100\\u0102\\u0104\\u0106\\u0108\\u010a\\u010c\\u010e\\u0110\\u0112\\u0114\\u0116\\u0118\\u011a\\u011c\\u011e\\u0120\\u0122\\u0124\\u0126\\u0128\\u012a\\u012c\\u012e\\u0130\\u0132\\u0134\\u0136\\u0139\\u013b\\u013d\\u013f\\u0141\\u0143\\u0145\\u0147\\u014a\\u014c\\u014e\\u0150\\u0152\\u0154\\u0156\\u0158\\u015a\\u015c\\u015e\\u0160\\u0162\\u0164\\u0166\\u0168\\u016a\\u016c\\u016e\\u0170\\u0172\\u0174\\u0176\\u0178\\u0179\\u017b\\u017d\\u0181\\u0182\\u0184\\u0186\\u0187\\u0189-\\u018b\\u018e-\\u0191\\u0193\\u0194\\u0196-\\u0198\\u019c\\u019d\\u019f\\u01a0\\u01a2\\u01a4\\u01a6\\u01a7\\u01a9\\u01ac\\u01ae\\u01af\\u01b1-\\u01b3\\u01b5\\u01b7\\u01b8\\u01bc\\u01c4\\u01c5\\u01c7\\u01c8\\u01ca\\u01cb\\u01cd\\u01cf\\u01d1\\u01d3\\u01d5\\u01d7\\u01d9\\u01db\\u01de\\u01e0\\u01e2\\u01e4\\u01e6\\u01e8\\u01ea\\u01ec\\u01ee\\u01f1\\u01f2\\u01f4\\u01f6-\\u01f8\\u01fa\\u01fc\\u01fe\\u0200\\u0202\\u0204\\u0206\\u0208\\u020a\\u020c\\u020e\\u0210\\u0212\\u0214\\u0216\\u0218\\u021a\\u021c\\u021e\\u0220\\u0222\\u0224\\u0226\\u0228\\u022a\\u022c\\u022e\\u0230\\u0232\\u023a\\u023b\\u023d\\u023e\\u0241\\u0243-\\u0246\\u0248\\u024a\\u024c\\u024e",E=exports.REGEXP_WORD=new RegExp("(?:["+F+"]["+u.diacriticalMark+"]*)?(?:["+D+"]["+u.diacriticalMark+"]*)+|(?:["+F+"]["+u.diacriticalMark+"]*)+(?!["+D+"])|["+u.digit+"]+|["+a+"]|[^"+x+e+u.whitespace+"]+","g"),c=exports.REGEXP_LATIN_WORD=/[A-Z\xC0-\xD6\xD8-\xDE]?[a-z\xDF-\xF6\xF8-\xFF]+|[A-Z\xC0-\xD6\xD8-\xDE]+(?![a-z\xDF-\xF6\xF8-\xFF])|\d+/g,r=exports.REGEXP_ALPHA=new RegExp("^(?:["+D+F+"]["+u.diacriticalMark+"]*)+$"),A=exports.REGEXP_ALPHA_DIGIT=new RegExp("^((?:["+D+F+"]["+u.diacriticalMark+"]*)|["+u.digit+"])+$"),d=exports.REGEXP_EXTENDED_ASCII=/^[\x00-\xFF]*$/;
},{"./const":13}],6:[function(require,module,exports) {
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,r){var u=(0,n.default)(e),a=Array.isArray(r)?r:[],i=t.REGEXP_EXTENDED_ASCII.test(u)?t.REGEXP_LATIN_WORD:t.REGEXP_WORD;return u.replace(i,function(e){var r=e.toLowerCase();return-1!==a.indexOf(r)?r:(0,o.default)(r,!0)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var t=require("./helper/reg_exp/const_extended"),u=require("./capitalize"),o=e(u),a=require("./helper/string/coerce_to_string"),n=e(a);module.exports=exports.default;
},{"./capitalize":7,"./helper/reg_exp/const_extended":9,"./helper/string/coerce_to_string":8}],1:[function(require,module,exports) {
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}var e=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{!r&&c.return&&c.return()}finally{if(o)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=require("moment"),r=t(n),o=require("voca/title_case"),a=t(o),i=require("voca/lower_case"),c=t(i),u=require("echarts"),l=t(u),f=l.default.init(document.getElementById("graph3")),s=function(){return fetch("/data/cities").then(function(t){return t.ok?t.json():[]})},m=function(){return fetch("/data/stations").then(function(t){return t.ok?t.json():[]})},d=function(t,e){var n=e.find(function(e){return e.city===t}).stations[0];return n?"/?city="+t+"&station="+n:"/"},p=function(){var t=new URL(window.location.href);return{city:t.searchParams.get("city"),station:t.searchParams.get("station"),temperature:t.searchParams.get("temperature"),volume:t.searchParams.get("volume")}};document.addEventListener("mv-change",function(t){if("propertychange"===t.action&&(t.property,"city"===t.property)){var e=p().city;t.value!==e&&s().then(function(e){window.location.href=d(t.value,e)})}});var h=function(t){return document.querySelector(t)},y=function(t,n){return function(){return Promise.all([fetch("/metrics/temperatures?cities="+t),fetch("/metrics/debits?stations="+n)]).then(function(t){var n=e(t,2),r=n[0],o=n[1];r.ok&&o.ok&&location.reload()}).catch(function(t){})}},v=function(t){return function(){window.location.href="https://github.com/mycaule/can-we-row/issues/1"}},w=function(t,e){h("meta[property='og:url']").content="https://can-we-row.herokuapp.com/"+t+"/"+e,h("meta[property='og:description']").content="Conditions extrieures  "+(0,a.default)(t)+" pour l'aviron"},x=function(t,e,n,r){var o=h("select[property='station']"),a=h("select[property='city']");n.forEach(function(e){var n=document.createElement("option");n.text=e.label,n.value=e.city,a.add(n),e.city===t&&e.stations.forEach(function(t){var e=r.find(function(e){return e.station===t}),n=document.createElement("option");n.text=e.label,n.value=e.station,o.add(n)})}),o.value=e,a.value=t},b=function(t,e){return fetch("/latest/temperatures?cities="+t).then(function(n){n.ok&&n.json().then(function(n){if(0===n.filter(function(t){return t}).length)h(".temperature").textContent="Service indisponible",y(t,e)();else{var o=n.find(function(e){return e.city===t});h(".temperature").textContent=o.meas.temperature.toFixed(1)+" C | "+o.meas.windSpeed.toFixed(1)+" km/h",h(".temperature-time").textContent=r.default.unix(o.time/1e3).locale("fr").fromNow(),h("meta[property='temperature']").content=o.meas.temperature,h("meta[property='icon']").content=o.icon,h("meta[property='summary']").content=(0,c.default)(o.summary)+" | Humid. "+(100*o.meas.humidity).toFixed(0)+" % | Press. "+o.meas.pressure.toFixed(0)+" hPa"}})}).catch(function(t){})},S=function(t){var e=r.default.unix(t[0].time/1e3).format("YYYY-MM-DD"),n=r.default.unix(t.slice(-1)[0].time/1e3).format("YYYY-MM-DD");return[t.reduce(function(t,e){var n=r.default.unix(e.time/1e3);return t.push([n.format("YYYY-MM-DD"),e.meas]),t},[]),e,n]},g=function(t,n){var o=S(t),a=e(o,3),i=a[0],c=a[1],u=a[2],l={backgroundColor:"#404a59",title:{top:30,text:"Donnes du mois dernier",subtext:"Source: vigicrues.com",left:"center",textStyle:{color:"#fff"}},tooltip:{trigger:"item"},legend:{top:"30",left:"100",data:["Danger"],textStyle:{color:"#fff"}},calendar:[{top:100,left:"center",range:[(0,r.default)(c).startOf("month").format("2017-MM-DD"),(0,r.default)(u).endOf("month").format("2017-MM-DD")],splitLine:{show:!0,lineStyle:{color:"#000",width:4,type:"solid"}},yearLabel:{formatter:"{start}",textStyle:{color:"#fff"}},itemStyle:{normal:{color:"#323c48",borderWidth:1,borderColor:"#111"}}}],series:[{name:"Autres",type:"scatter",coordinateSystem:"calendar",data:i,symbolSize:function(t){return t[1]/50},itemStyle:{normal:{color:"#ddb926"}}},{name:"Autres",type:"scatter",coordinateSystem:"calendar",calendarIndex:1,data:i,symbolSize:function(t){return t[1]/50},itemStyle:{normal:{color:"#ddb926"}}},{name:"Danger",type:"effectScatter",coordinateSystem:"calendar",calendarIndex:1,data:i.filter(function(t){return t[1]>n}),symbolSize:function(t){return t[1]/50},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,itemStyle:{normal:{color:"#f4e925",shadowBlur:10,shadowColor:"#333"}},zlevel:1},{name:"Danger",type:"effectScatter",coordinateSystem:"calendar",data:i.filter(function(t){return t[1]>n}),symbolSize:function(t){return t[1]/50},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,itemStyle:{normal:{color:"#f4e925",shadowBlur:10,shadowColor:"#333"}},zlevel:1}]};f.setOption(l,!0)},D=function(t){return fetch("/latest/debits?stations="+t).then(function(e){e.ok&&e.json().then(function(e){if(0===e.filter(function(t){return t}).length)h(".water-level").textContent="Service indisponible";else{var n=e.find(function(e){return e.station===t});h(".water-level").textContent=n.meas.toFixed(1)+" m/s",h(".water-level-time").textContent=r.default.unix(n.time/1e3).locale("fr").fromNow(),h("meta[property='stationLabel']").content=n.label,h("meta[property='level']").content=n.meas,h("time[property='datetime']").setAttribute("datetime",(0,r.default)().format("YYYY-MM-DD"));var o=h("input[property='levelMax']").value;g(n.historic,o)}})}).catch(function(t){})},Y=p(),M=Y.city,k=Y.station;null===M||null===k?window.location.href="/?city=paris&station=F700000103":(h(".refresh-data").onclick=y(M,k),h(".help-station").onclick=v(k),w(M,k),s().then(function(t){m(k).then(function(e){return x(M,k,t,e)}),b(M,k),D(k)}));
},{"moment":3,"echarts":4,"voca/lower_case":5,"voca/title_case":6}]},{},[1])